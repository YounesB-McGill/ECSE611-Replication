    {
      "url": "https://github.com/openstack/puppet-tripleo",
      "pp_files": ["pacemaker_remote.pp", "evaluator.pp", "n1k.pp", "dispersion.pp", "sidecar.pp", "ringbuilder.pp", "sshd.pp", "redis_bundle.pp", "metricd.pp", "dibbler_client.pp", "cinder.pp", "ovn.pp", "ironic_inspector.pp", "clustercheck.pp", "add_devices.pp", "volume_bundle.pp", "vpp.pp", "backup.pp", "user.pp", "ui.pp", "os_net_config.pp", "ptp.pp", "apache_dirs.pp", "collector.pp", "libvirt_guests.pp", "nsx_v3.pp", "glance.pp", "libvirt_dirs.pp", "local.pp", "mon.pp", "storage.pp", "agent.pp", "login_defs.pp", "horizon.pp", "collectd_service.pp", "collectd_plugin.pp", "expirer.pp", "iscsid.pp", "tacker.pp", "ntp.pp", "httpd.pp", "rule.pp", "analytics.pp", "openvswitch.pp", "notification.pp", "configure_cluster.pp", "dnsmasq.pp", "ovn_northd.pp", "database.pp", "ceph.pp", "sahara.pp", "nuage.pp", "snmp.pp", "rbdmirror.pp", "opencontrail.pp", "l3_agent_wrappers.pp", "congress.pp", "metadata.pp", "api_cloudwatch.pp", "libvirt.pp", "keystone.pp", "mysql_bundle.pp", "proxy.pp", "webui.pp", "libvirt_vnc.pp", "control.pp", "linuxbridge.pp", "worker.pp", "backends.pp", "rabbitmq_bundle.pp", "polling.pp", "fencing.pp", "kernel.pp", "analyticsdatabase.pp", "provision.pp", "ml2.pp", "noop.pp", "fluentd.pp", "aodh.pp", "upgrades.pp", "conductor.pp", "memcached.pp", "bagpipe.pp", "pure.pp", "stunnel.pp", "create_cluster.pp", "api.pp", "radvd.pp", "housekeeping.pp", "networking_ansible.pp", "keepalived_state_change.pp", "netapp.pp", "api_cfn.pp", "packages.pp", "barbican.pp", "iscsi.pp", "loadbalancer.pp", "taskmanager.pp", "designate.pp", "lbaas.pp", "migration.pp", "server.pp", "dellsc.pp", "ceilometer.pp", "uchiwa.pp", "swift.pp", "rgw.pp", "novajoin.pp", "dhcp.pp", "validations.pp", "package_provider.pp", "veritas_hyperscale.pp", "midonet.pp", "logrotate.pp", "core.pp", "haproxy.pp", "executor.pp", "vip_hosts.pp", "fluentd_service.pp", "plumgrid.pp", "instance_ha.pp", "rules.pp", "sfc.pp", "gnocchi.pp", "aide.pp", "users.pp", "zaqar.pp", "vncproxy.pp", "consoleauth.pp", "lvm.pp", "userlist.pp", "upgrade.pp", "compute.pp", "vrouter.pp", "novnc_proxy.pp", "opendaylight.pp", "init.pp", "pre.pp", "scaleio.pp", "heat.pp", "mds.pp", "panko.pp", "tuned.pp", "haproxy_dirs.pp", "installdb.pp", "collectd.pp", "certmonger.pp", "resource_restart_flag.pp", "endpoint.pp", "sriov.pp", "neutron.pp", "schemas.pp", "haproxy_bundle.pp", "pacemaker.pp", "compute_instanceha.pp", "mdns.pp", "rbd.pp", "docker_registry.pp", "backup_bundle.pp", "service_rules.pp", "dellps.pp", "rabbitmq.pp", "hpelefthand.pp", "ovn_dbs_bundle.pp", "systemd_unit.pp", "service_endpoints.pp", "dhcp_agent_wrappers.pp", "firewall.pp", "tls_proxy.pp", "share_bundle.pp", "dellemc_xtremio_iscsi.pp", "plugin_helper.pp", "apache.pp", "neutron_plugin.pp", "eqlx.pp", "keepalived.pp", "bigswitch.pp", "ironic.pp", "scheduler.pp", "dellemc_vnx.pp", "liquidio.pp", "producer.pp", "trusted_ca.pp", "post.pp", "masquerade_networks.pp", "cron.pp", "horizon_endpoint.pp", "cassandra.pp", "event_engine.pp", "l2gw.pp", "central.pp", "sink.pp", "nsx.pp", "qdr.pp", "ovs.pp", "crl.pp", "nvmeof.pp", "redis.pp", "authtoken.pp", "config.pp", "numvfs_persistence.pp", "networking_baremetal.pp", "mistral.pp", "notifier.pp", "client.pp", "placement.pp", "octavia.pp", "dellemc_vmax_iscsi.pp", "l3.pp", "compute_libvirt_shared.pp", "trusted_cas.pp", "registry.pp", "auditd.pp", "service_proxy.pp", "ovn_metadata.pp", "engine.pp", "zookeeper.pp", "statsd.pp", "certmonger_user.pp", "haproxy_with_vip.pp", "target.pp", "vts.pp", "share.pp", "etcd.pp", "dellemc_unity.pp", "cinder_config.pp", "stats.pp", "manila.pp", "mysql.pp", "ceph_nfs.pp", "bgpvpn.pp", "libvirt_vnc_dirs.pp", "securetty.pp", "mongodb.pp", "nfs_mount.pp", "osd.pp", "redis_notification.pp", "listener.pp", "volume.pp", "sensu.pp", "nova.pp", "selinux.pp", "ec2api.pp", "mongodbcommon.pp", "nfs.pp", "docker.pp", "mongodbvalidator.pp", "health_manager.pp", "ovn_metadata_agent_wrappers.pp"],
      "pp_cmtrs": ["Steve Baker", "michaelhenkel", "Emilien Macchi", "zhangyanxian", "Mehdi Abaakouk (sileht)", "Marcus Furlong", "Jiri Stransky", "Sai Sindhur Malleni", "Alan Bishop", "Jay Jahns", "Joe Talerico", "Honza Pokorny", "Juan Antonio Osorio Robles", "Chris Jones", "Sven Anderson", "Janki Chhatbar", "Andrew Smith", "chinthagovardhan", "Julie Pichon", "Damien Ciabrini", "Ryan Hefner", "Harald Jens\u00e5s", "Victoria Martinez de la Cruz", "James Slagle", "Rajesh Tailor", "rajinir", "Dmitry Tantsur", "Babu Shanmugam", "gecong1973", "Ben Nemec", "John Trowbridge", "David J Peacock", "Moshe Levi", "C\u00e9dric Jeanneret", "lokesh-jain", "Juan Badia Payno", "Bernard Cafarelli", "Wojciech Dec", "ayoung", "Dan Radez", "Giulio Fidente", "MikeG451", "Jacob Liberman", "Sanjay Upadhyay", "Hamdy Khader", "Michael Henkel", "Carlos Goncalves", "marios", "Sergii Golovatiuk", "Flavio Percoco", "Martin Andr\u00e9", "Feng Pan", "Andy Smith", "Tom Barron", "Steven Hardy", "Dan Prince", "Rabi Mishra", "Graeme Gillies", "Lukas Bezdicka", "Yanis Guenane", "Mehdi Abaakouk", "Simon Dodsley", "abhishek.kane", "Matt Wisch", "Koki Sanagi", "Cyril Lopez", "Martin M\u00e1gr", "Pranali Deore", "Jan Provaznik", "David Gurtner", "Ricardo Noriega", "Goutham Pacha Ravi", "Javier Pena", "Oliver Walsh", "Tuan Luong-Anh", "ZhongShengping", "melissaml", "Itzik Brown", "Christian Schwede", "Martin Schuppert", "Jaume Devesa", "Keith Schincke", "Tomas Sedovic", "Jason Guiditta", "Luca Lorenzetto", "Lars Kellogg-Stedman", "Mike Bayer", "Bartosz Stopa", "Ade Lee", "Ethan Gafford", "Luca Miccini", "Zenghui Shi", "Sofer Athlan-Guyot", "Bogdan Dobrelya", "Bob Fournier", "lhinds", "PranaliD", "sunnyve", "AndrewToth", "Erno Kuvaja", "Cao Xuan Hoang", "Daniel Alvarez", "Thomas Herve", "schegi", "Michael Chapman", "Peng Liu", "Pradeep Kilambi", "Tong Liu", "Brent Eagles", "Derek Higgins", "caoyuan", "Michele Baldessari", "Dan Trainor", "Brad P. Crochet", "Jon Schlueter", "Rob Crittenden", "Gael Chamoulaud", "hanish gogada", "Sai Ram Peesapati", "rabi", "Marc Methot", "Thiago da Silva", "Carlos Camacho", "Tim Rozet", "Saravanan KR", "Damien", "Alex Schultz", "karthik s", "Alejandro Andreu", "Gabriele Cerami", "Numan Siddique", "Dimitri Savineau", "Luke Hinds"],
      "num_pp_commits": 1072,
      "num_tot_commits": 2227,
      "commits": [{
        "hash": "37ddc04170fd09ff2899a265ddefb637ec6f8cd0",
        "msg": "Add basic structure for a Puppet module",
        "cmtr": "Emilien Macchi",
        "date": "2015-02-02 11:39:21-05:00",
        "files": [".gitignore", "Gemfile", "LICENSE", "README.md", "Rakefile", "init.pp", "shared_examples.rb", "spec_helper.rb"]
      },
      {
        "hash": "0123f3949e0288a08c83de6254f297ed5607019f",
        "msg": "Add tripleo::loadbalancer.\n\nThis class configures an HAProxy/keepalived setup for TripleO.",
        "cmtr": "Dan Prince",
        "date": "2015-02-02 12:47:15-05:00",
        "files": ["loadbalancer.pp"]
      },
      {
        "hash": "bbf683b11659c6a0ed4ceddce7d24f2e9d707846",
        "msg": "Moved loadbalancer.pp to top level.",
        "cmtr": "Dan Prince",
        "date": "2015-02-02 13:09:17-05:00",
        "files": ["loadbalancer.pp"]
      },
      {
        "hash": "6509561ab3ac08c26372d892e5937f85672bf14f",
        "msg": "First implementation of tripleo::database::mysql",
        "cmtr": "Emilien Macchi",
        "date": "2015-02-02 15:15:57-05:00",
        "files": ["mysql.pp", "clustercheck.erb", "debian.cnf.erb", "etc_initd_mysql_Debian", "etc_initd_mysql_RedHat", "mysql.conf.erb", "mysqlchk.erb"]
      },
      {
        "hash": "4acd81ae2bb760b8c72f098fd4f674d43385b96b",
        "msg": "Add norpm package provider and helper class.\n\nThis patch adds a new norpm package provider that extends the\nPuppet provided default RPM package provider and stubs out\nall of the package install, update, purging so that no\npackages will get installed. This may be useful when\ndeploying pre-built images where we effectively just\nwant to use Puppet for configuration (not installation).\n\nIncludes a ::tripleo::package_provider class that will assist\nin cleanly disabling package installation via hiera.",
        "cmtr": "Dan Prince",
        "date": "2015-02-04 10:23:55-05:00",
        "files": ["norpm.rb", "package_provider.pp"]
      },
      {
        "hash": "acab1a148e761e726b793cbd205b6d4e30643b2c",
        "msg": "Drop package_provider\n\nThe Package provider scope needs to be global so this class\nwon't really help us much. Removing for now.",
        "cmtr": "Dan Prince",
        "date": "2015-02-04 21:24:06-05:00",
        "files": ["package_provider.pp"]
      },
      {
        "hash": "045e853acac8439d00fcd750928342af721582ad",
        "msg": "First commit on Stackforge: fix lint & Gerrit config\n\n* Fix Gerrit config to be able to contribute at this module.\n* Fix lint issues in adding documentation for tripleo::loadbalancer\n\nChange-Id: If4d40962a4e5612410df441e8862e1870ec123c0",
        "cmtr": "Emilien Macchi",
        "date": "2015-02-06 13:37:33-05:00",
        "files": [".gitreview", "loadbalancer.pp"]
      },
      {
        "hash": "68e85e520d73527bc04bd70807b749091391d8e4",
        "msg": "loadbalancer: document required parameters\n\nRemoves the (optional) comment from some of the required\nparameters.\n\nChange-Id: I0f2c96e0d77dfdb96d6b246c5f24511773592623",
        "cmtr": "Dan Prince",
        "date": "2015-03-13 10:08:25-04:00",
        "files": ["loadbalancer.pp"]
      },
      {
        "hash": "653d7dcb13efd8c18e65051114700b81f160d812",
        "msg": "Add Puppet 4.x lint checks\n\n- This changes the puppet-lint requirement to 1.1.x, so that we can use\n  puppet-lint plugins. Most of these plugins are for 4.x compat, but some just\n  catch common errors.\n\nChange-Id: I2660b960b6ef696bd5dc8a6965b4a9aa25409b66\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>",
        "cmtr": "Gael Chamoulaud",
        "date": "2015-03-17 10:23:32+01:00",
        "files": ["Gemfile", "mysql.pp", "loadbalancer.pp"]
      },
      {
        "hash": "b774f4a6270e1192efa37e249d7ad9529ce2ccde",
        "msg": "loadbalancer: drop undef on required params\n\nThis should allow puppet to validate the required params.\n\nChange-Id: I16b6ae1a9fbcb388bfe5a2a95022a2fdffbf0cd1",
        "cmtr": "Dan Prince",
        "date": "2015-03-18 08:59:05-04:00",
        "files": ["loadbalancer.pp"]
      },
      {
        "hash": "5da4a88d748dc1dde67b84ce57a1a1ffe1e5e466",
        "msg": "loadbalancer: Enable backup mode for Galera\n\nThis commit allows to enable backup mode for non master galera node.\n\nChange-Id: I8b27f470ae171d77c8c8283797ff1502ef44e17f",
        "cmtr": "Yanis Guenane",
        "date": "2015-03-31 10:32:52+02:00",
        "files": ["loadbalancer.pp"]
      },
      {
        "hash": "167efd6301c8bcc350be6477796cba0271e2a865",
        "msg": "Rename controller_host to controller_hosts\n\nSince we can have many controller_hosts backend in a setup, we use the\nplural term to define it.\n\nChange-Id: I2a46c250bc3325eef9c3128cac2ab45c88b1ae75",
        "cmtr": "Yanis Guenane",
        "date": "2015-03-31 15:47:32+02:00",
        "files": ["loadbalancer.pp"]
      },
      {
        "hash": "6f5c208f8df4df034637acd1b5fd6f4b71012d8a",
        "msg": "Fix backend line syntax\n\nCurrently since only one node was the backend until this commit[1],\nservername was deducted from the $::hostname fact. Since commit[1],\nseveral node can be the backend for a service, so we need to provide\ntheir servername also.\n\nThe current situation result with HAProxy refusing to start because\ncurrent lint look like\n\nserver  192.0.2.2:8776 check fall 5 inter 2000 rise 2\n\nwhen they really should look like\n\nserver MYHOSTNAME  192.0.2.2:8776 check fall 5 inter 2000 rise 2\n\nResulting in error message : 'server' expects <name> and <addr>[:<port>]\nas arguments.\n\n[1] https://review.openstack.org/#/c/168044/\n\nChange-Id: I75424cf02f2d24308f33105f67d82a8d411e372d",
        "cmtr": "Yanis Guenane",
        "date": "2015-04-01 11:02:25+02:00",
        "files": ["loadbalancer.pp"]
      },
      {
        "hash": "72e8834efa188ecef879e5ae3141428b6a88f0a5",
        "msg": "Rethink the backup option for Galera\n\nInitial logic for the backup option in the HAProxy was wrong and\nwouldn't do what expected.\n\nCurrent logic is implemented as follow\n\n1. User passes an array of Galera IP addresses\n2. User passes an array of Galera hostnames\n3. User passes a Galera master IP and Galera master hostname\n\nResult :\n\n* Set a backend line with Galera master IP and Galera master hostname\n* Remove those data from the two arrays of IP and Hostnames\n* Set backend lines for whatever is left on those array with the backup\n  option on\n\nChange-Id: Idfd72de4fafdce2a9c16945961fee996a98049b7",
        "cmtr": "Yanis Guenane",
        "date": "2015-04-07 11:53:54+02:00",
        "files": ["loadbalancer.pp"]
      },
      {
        "hash": "dfcb703bce19c8cc9113c294295de977c51c8e7c",
        "msg": "Enable access to HAProxy stats page\n\nEnable access to the HAProxy stats page. The listen directive is bound\nto the controller virtual IP address.\n\nChange-Id: Ie0012da77ffdd9bfa8f06341aca2d70991558a28",
        "cmtr": "Yanis Guenane",
        "date": "2015-04-13 09:24:44+02:00",
        "files": ["loadbalancer.pp"]
      },
      {
        "hash": "8c29315cbcd5e255e1287e86cd8134590b9e7d06",
        "msg": "Make setup of keepalived optional via manage_vip parameter\n\nChange-Id: I98b9b3dbc48009ce255d964ac580e1a31f279f1e",
        "cmtr": "Giulio Fidente",
        "date": "2015-04-15 17:23:19+02:00",
        "files": ["loadbalancer.pp"]
      },
      {
        "hash": "3bef84147bd7df52e8303bcb5481ce5d3351f997",
        "msg": "Loadbalancer: Add support for Redis\n\nAdd support for Redis in the loadbalancer setup.\nRedis loadbalancing system is particular as it does not provide\nclustering capabilities yet, hence this pattern[1] will be applied.\n\n[1] https://github.com/falsecz/haredis\n\nChange-Id: I80a6c284af9eceb6b669a03c5d93256261523331",
        "cmtr": "Yanis Guenane",
        "date": "2015-04-16 21:13:40+02:00",
        "files": ["loadbalancer.pp", "redis_notification.pp", "redis-notifications.sh.erb"]
      },
      {
        "hash": "70cb73ca6e53cbca3a841a67d2bb1644461754c6",
        "msg": "Do not make RabbitMQ listen on public vip\n\nCurrently RabbitMQ is listening on both private vip and public vip.\nThere is no need for RabbitMQ to listen on the public vip, so we remove\nit.\n\nChange-Id: I82ea2e1e18b7710ae391ffe4903439a9330b1461",
        "cmtr": "Yanis Guenane",
        "date": "2015-04-16 21:16:34+02:00",
        "files": ["loadbalancer.pp"]
      },
      {
        "hash": "fe78815bbcca0a95adb97903a07561b249254042",
        "msg": "Add support for haproxy_service_manage\n\nWe want to let the caller decide upon having the haproxy\nservice started and enabled or not on boot.\n\nChange-Id: I24a9fd2245a974120892a8887c8b58647c65cba9",
        "cmtr": "Giulio Fidente",
        "date": "2015-05-11 14:45:09+02:00",
        "files": ["loadbalancer.pp"]
      },
      {
        "hash": "3bb7dc0db4ad0236d63d0243b19b8b4bd4947ad7",
        "msg": "Remove database code from puppet-tripleo\n\nThe Galera code has been merged upstream directly into\ntripleo-heat-templates[1], since this code is not used we can remove it.\n\n[1] https://review.openstack.org/#/c/177765/\n\nChange-Id: I536cf9b561b93ff26d03183331b6a527ab851286",
        "cmtr": "Yanis Guenane",
        "date": "2015-05-13 20:55:51+02:00",
        "files": ["mysql.pp"]
      },
      {
        "hash": "98cbe976ff26ad0db7d9ad6d4766c1d0114fed5b",
        "msg": "Increase global maxconn to 10000 and remove per-instance limit\n\nThe per-instance limit to 150 can easily be reached for the\ndatabase when OpenStack services are running on hosts with many\nCPUs. The global maxconn is increased as per astapor. See [1].\n\n1. https://bugzilla.redhat.com/show_bug.cgi?id=1218322\n\nChange-Id: Ia9258372ca4f707929f11097193a91c138069725",
        "cmtr": "Giulio Fidente",
        "date": "2015-05-14 17:09:40+02:00",
        "files": ["loadbalancer.pp"]
      },
      {
        "hash": "36cdbecea314fcf4977383b14356637515232123",
        "msg": "Allow use of ssl for public api endpoints\n\nThere are two methods included: Setting $service_certificate will\nenable SSL for all public endpoints with the same cert file, while\nservice-specific certificate settings allow using a cert file for\njust one service.\n\nChange-Id: I6f87ed2ebbea08ff1a0dff981559c8f4fc8b67cc",
        "cmtr": "Ben Nemec",
        "date": "2015-06-02 20:56:22+00:00",
        "files": ["loadbalancer.pp"]
      },
      {
        "hash": "f4dab984c0dc6d2f0a9f587222396987cff3ad9d",
        "msg": "Drop nova_meta and glance_registry on public vip\n\nThis patch removes the public VIP for the nova metadata\nand glance registry services.\n\nChange-Id: I0878f7b3eeed6e16c5d30bdf76ebca56eb49d042",
        "cmtr": "Dan Prince",
        "date": "2015-06-02 21:40:02-04:00",
        "files": ["loadbalancer.pp"]
      },
      {
        "hash": "8b945b5e0ff93af2ec1c6540d6177739ab846c99",
        "msg": "Use node IP lists for HA Proxy ipaddresses\n\nThis patch updates the loadbalancer class so that it\ndefaults to trying to use the node IP list for each\nrespective service. This data is provided via Hiera\ndirectly (all-nodes-config provides it via the Heat\ntemplates).\n\nBy default the ctlplane IP address list is still used\nif no service node IP list is provided.\n\nChange-Id: I34cbdf8bd525e6ab61859fe8b8c18fe613dabbfe",
        "cmtr": "Dan Prince",
        "date": "2015-06-02 21:40:16-04:00",
        "files": ["loadbalancer.pp"]
      },
      {
        "hash": "a077eaf307998b3a9996fc5c0846f6604139a3e7",
        "msg": "Configure virtual IPs for split out networks\n\nThis patch optionally creates new virtual IPs for\nthe storage, storage_mgmt, and internal_api\nnetworks if ip addresses are provided.\n\nAdditionally the HAproxy configuration is updated\nto use hiera lookups to obtain virtual IPs for\nalternate networks. By default the ctlplane\nVIP is still used.\n\nChange-Id: I20483574920a1da689374b0eb1b39b0391c3d243",
        "cmtr": "Dan Prince",
        "date": "2015-06-03 10:51:30-04:00",
        "files": ["loadbalancer.pp"]
      },
      {
        "hash": "9793b3c97203e7ecc95aead151e8b983ae2552e0",
        "msg": "Configure fencing devices\n\nAdds a class to configure fence devices and a helper function which\nhelps to select the devices for configuration on appropriate nodes.\n\nDepends on patches outside OpenStack's Gerrit:\nhttps://github.com/redhat-openstack/puppet-pacemaker/pull/50\nhttps://github.com/redhat-openstack/puppet-pacemaker/pull/52\n\nChange-Id: I819fc8c126ec47cd207c59b3dcf92ff699649c5a",
        "cmtr": "Jiri Stransky",
        "date": "2015-06-12 18:40:50+02:00",
        "files": ["local_fence_devices.rb", "fencing.pp"]
      },
      {
        "hash": "d091e46dc061d81c3a9e2f561efa15a4ee94a187",
        "msg": "Implement Advanced Firewalling support\n\n* Provide a Define function which will allow to manage IPtables rules.\n* Manage rules in 'pre' and 'post' Puppet stages, it allows to create\n  rules before and after regular Puppet stages (ie: to make sure no rule\n  exists *before* and everything is blocked *after* regular Puppet\n  stages)\n\nChange-Id: I84fc79096f6fc3db76a61d012d8cb62dd12bdd89",
        "cmtr": "Emilien Macchi",
        "date": "2015-06-12 14:28:27-04:00",
        "files": [".fixtures.yml", "post.pp", "pre.pp", "rule.pp", "init.pp", "tripleo_init_spec.rb"]
      },
      {
        "hash": "bf5994053fe2cf2382813ffedf54d04771138f26",
        "msg": "Remove control over the galera_master_node\n\nWe do not want to give users control over the galera_master_node,\nthis should be gathered using the clustercheck script instead.\n\nDepends-On: I56ebd2d8405ac35c707666d993b396f04aeb683e\nChange-Id: Ib6a36e9283b73133251fb9ff3f33e71c50edb3db\nCloses-Bug: 1467918\nCloses-Bug: https://bugzilla.redhat.com/show_bug.cgi?id=1234817",
        "cmtr": "Giulio Fidente",
        "date": "2015-06-23 14:47:08+02:00",
        "files": ["loadbalancer.pp"]
      },
      {
        "hash": "ce548df370f06b0a74fe1f13f3e1b9af3818c6b2",
        "msg": "Introduce param to enable use of clustercheck\n\nIn the pacemaker scenario we want to use the clustercheck script\nto evict galera nodes which are out of sync. This change adds a\nparameter meant to enable use of clustercheck for the mysql service.\n\nChange-Id: I7199c7e5d759a76f58c0f48b40e9d460a3163886\nCloses-Bug: 1456701",
        "cmtr": "Giulio Fidente",
        "date": "2015-06-25 02:33:17+02:00",
        "files": ["loadbalancer.pp"]
      },
      {
        "hash": "2070d2d7cbd381a33bc0ad3a74d2713de0127e9f",
        "msg": "Use mode tcp for glance-registry balancing\n\nThe glance-registry service is returning 401 to httpchk, which\nmakes haproxy think it is down. This change switches the check\nmode to tcp.\n\nCloses-Bug: https://bugzilla.redhat.com/show_bug.cgi?id=1234637\nCloses-Bug: 1468566\n\nChange-Id: Icdd80aa9cd56e5afd3707eb7fa38aaedb8535af6",
        "cmtr": "Giulio Fidente",
        "date": "2015-06-25 03:31:59+02:00",
        "files": ["loadbalancer.pp"]
      },
      {
        "hash": "fdb0ec212f9c9ba9dea83e414abef6cb37b68014",
        "msg": "Add tripleo::packages\n\nThis adds a new class to help configure package installation\nand upgrades.\n\nThe previous approach was to use a global package declaration\nat the top of each manifest within the tripleo-heat-templates.\n\nThe new approach is to use a Package collector (<| |>) to\nallow us to configure the package provider within a\nclass. This should help remove some of the duplicated logic\nwithin the triplo-heat-template manifests and is\nalso a good fit for puppet-tripleo in that is generic\nand unlikely to change that often.\n\nIn addition to installation this class also support upgrades\nto puppet managed packages as well.\n\nChange-Id: Ie8fbc344149bc8c9977e127de77636903607617a",
        "cmtr": "Dan Prince",
        "date": "2015-06-25 14:23:11-04:00",
        "files": ["packages.pp"]
      },
      {
        "hash": "d8b609878f3fe90a417faae251925cf5a8e54a23",
        "msg": "Enable support for loadbalancing Ironic\n\nJust like any other OpenStack API endpoint.\n\nChange-Id: Iaa45d7bef94c3c42df0988a58f146bb8a530f74e",
        "cmtr": "Ben Nemec",
        "date": "2015-06-25 18:37:47+00:00",
        "files": ["loadbalancer.pp"]
      },
      {
        "hash": "e8714e037268807d2fcdb735b8df7c958c8570ab",
        "msg": "Fix Heat 302 redirects\n\nWhen doing a heat stack-show, Heat initially returns a 302 redirect.\nWith the existing loadbalancer config for SSL, this results in a\nredirect to an http:// address pointing at the SSL port, which\nnaturally doesn't work.\n\nThe fix for this is to use the rsprep haproxy option to rewrite the\nLocation header in responses from the Heat api server.  This allows\nus to properly handle redirect traffic as https.\n\nAlso note that http header rewriting requires \"mode http\", so that\nis added here as well.\n\nChange-Id: I7e5c5b1877e9aa46c4b88dfba45c1fddf61727fc",
        "cmtr": "Ben Nemec",
        "date": "2015-06-29 22:27:00+00:00",
        "files": ["loadbalancer.pp"]
      },
      {
        "hash": "e260543f903eea0d14c2b7ddd5e1480d9042759d",
        "msg": "Add class to set noop on various puppet resources\n\nThis patch adds a new tripleo::noop class that can be\nused to help switch all resources of a given type\nto noop mode. The class does this via Puppet resource\ncollectors to enable the noop metaparam on all resources\nof the specified type.\n\nWhen a resource is in noop mode no action\nwill get taken (however puppet stdout will log information\nabout what would happen if noop were removed).\n\nThe motivation for this patch is to be able to do something\nlike this and run puppet to configure select resources\n(like only config files):\n\n class {'tripleo::noop':\n   file => false\n }\n\nIt is important to note that when tripleo::noop is used all common\nresources default to noop mode.\n\nThis could be used alongside docker containers to provide\na mechanism to pre-configure all related config files for\na set of docker containers ahead of time.\n\nChange-Id: I67f9dbbf33a2d6bcee5005ae0b6b1aa7091039ad",
        "cmtr": "Dan Prince",
        "date": "2015-07-03 17:16:07-04:00",
        "files": ["noop.pp"]
      },
      {
        "hash": "ec80b3e24a6606cf1dd2a215410beaf9ff2505e4",
        "msg": "Remove mode tcp enforcement where unneeded, we default to mode tcp\n\nChange-Id: Ic0ae6b743a732ccd2cf7e395b5ab172bf3daaf7d",
        "cmtr": "Giulio Fidente",
        "date": "2015-07-08 13:28:23+02:00",
        "files": ["loadbalancer.pp"]
      },
      {
        "hash": "21cea3602548a0d58e662eaa0f55e12a62f7291d",
        "msg": "Add missing options to Ceilometer/Ironic/Horizon\n\nBackend options for Ceilometer and Ironic are aligned with what we\nuse for the other OpenStack services.\n\nListener options for Horizon is updated so that we do cookie\ntracking as suggested by refarch doc.\n\nChange-Id: I4640d974a3ab8188919eaae79dde71463234b5ff",
        "cmtr": "Giulio Fidente",
        "date": "2015-07-10 11:19:53+02:00",
        "files": ["loadbalancer.pp"]
      },
      {
        "hash": "c59650772c8d7d2e84a19782ef8d53cec02deb9b",
        "msg": "Implement firewalling in tripleo::firewall\n\nCurrently firewalling is implemented in tripleo/init.pp this commit\nmoves it to its own scope tripleo/firewall.pp.\n\nThis is done so that in tripleo-heat-templates we can have a simple and\ngeneric `include tripleo::firewall` in every manifest - unconditional.\nThe rest of the behavior will all be managed by hiera.\n\nIf a user wants to enable firewalling:\n\n```\ntripleo::firewall::manage_firewall: true\n```\n\nIf a user wants to specify firewall rules:\n\n```\ntripleo::firewall::firewall_rules:\n  '103 mongod':\n    port: 27017\n```\n\nChange-Id: I144c60db2a568a94dce5b51257f1d10980173325",
        "cmtr": "Yanis Guenane",
        "date": "2015-07-15 11:58:46+02:00",
        "files": ["firewall.pp", "init.pp", "tripleo_firewall_spec.rb", "tripleo_init_spec.rb"]
      },
      {
        "hash": "f621024ea33509e77eca87acf47e84691351b84d",
        "msg": "Add param to configure HAProxy default maxconn (per frontend)\n\nThe default per frontend maxconn is set to 2000, which can easily\nbe reached with modern hardware with multiple logic cores; this\nchange adds a parameter to configure the default maxconn value,\ndefault it to 4096 and also increases the global maxconn to 20480\nto preserve the 1:5 ratio.\n\nChange-Id: I3fffc51ecc704ceccb86ca008ecba02578c29eb5",
        "cmtr": "Giulio Fidente",
        "date": "2015-07-16 14:14:11+02:00",
        "files": ["loadbalancer.pp"]
      },
      {
        "hash": "a18c3a8548000181bacd96fa465914945a49c59e",
        "msg": "Listener options for Ironic/ceilometer/glance_registry\n\nThis updates some of the listener options set by loadbalancer.pp.\n\nIroinc needs to pass in the option to do a httpchk, otherwise\npuppet-haproxy defaults it to doing a ssl-hello-chk, which won't work\nagainst the non-ssl loadbalancer server.\n\nCeilometer and glance_registry both don't support a httpchk against the\nroot (/) of their webservers (they return a straight 401) so disable\nthose checks completely.\n\nChange-Id: Ibfc81175842a748eb077b132b0818c4ea17bbcf6",
        "cmtr": "James Slagle",
        "date": "2015-07-17 20:08:29-04:00",
        "files": ["loadbalancer.pp"]
      },
      {
        "hash": "6486099b7934ddba9e5fc8e8ea886fefd9203142",
        "msg": "Fix HAProxy config for Nova EC2 API\n\nEC2 API returns 400 for unauthenticated requests, making HAProxy believe\nthat the service is down. We'll use TCP check instead of HTTP check for\nEC2 API.\n\nChange-Id: Ide7f9390603c9893b95cacd51d468461255dcf07",
        "cmtr": "Jiri Stransky",
        "date": "2015-07-27 15:02:01+02:00",
        "files": ["loadbalancer.pp"]
      },
      {
        "hash": "4ba15f8918ea34a2de49f68ab66229d5c30adaf9",
        "msg": "Enable Manila Service\n\nAdds bindings to the Manila service for HAProxy.\n\nChange-Id: I175d5b7e35a781d04452fc6aee610e8dca005419",
        "cmtr": "Ryan Hefner",
        "date": "2015-08-05 10:08:10-04:00",
        "files": ["loadbalancer.pp"]
      },
      {
        "hash": "c529fce3ef2f246909cb821bc2319cc5413960d3",
        "msg": "Remove httpchk option from haproxy listeners\n\nTo make sure we don't use the ssl-hello-chk option set by the\npuppet-haproxy module we used to redefine the listener options\nfor all listeners.\n\nWith this change a default for the options hash is provided to\nthe puppet class instead.\n\nThis change also configures use of tcpka only where wanted, as\ndocumented by [1], removing it from the haproxy defaults section,\ngiven it wasn't used anyway by the other listeners which were\nindeed overriding options.\n\n1. https://github.com/beekhof/osp-ha-deploy/blob/master/pcmk/lb.scenario\n\nChange-Id: Ic8deb77533f561cea7ce7db1d20f6be5e2dc0d33",
        "cmtr": "Giulio Fidente",
        "date": "2015-08-07 15:45:51+02:00",
        "files": ["loadbalancer.pp"]
      },
      {
        "hash": "ad974333e0df16cca7aa2f144c84b11dca1d70fc",
        "msg": "loadbalancer: use 'source' for novnc balance mode\n\nWhen establishing a connection from the client (Web Browser) to the\nnovncproxy (loadbalanced by HAproxy), we need to make sure the client\nwill stick on the same server the time he's connected, because HAproxy\nload-balance to another novncproxy node, the client will loose the\nconnection and timeout like 'Connection Reset By Peer error'.\n\nThis patch aims to configure novnc HAproxy configuration to balance\nusing 'source' mode, so it will make sure the server remains the same\nwhile the connection is established.\n\nChange-Id: Ibbb7162b763f1fd2854a10a92a681910e0683c0a\nCloses-BZ: 1257324",
        "cmtr": "Dan Prince",
        "date": "2015-09-03 17:57:33+00:00",
        "files": ["loadbalancer.pp"]
      },
      {
        "hash": "14ac699d8ab97dda03b8711f1a8ac26f6fd52191",
        "msg": "Allow a user to specify the syslog address for HAProxy\n\nCurrently the address of the syslog server for HAProxy is hardcoded to\n/dev/log without a way to customize this setting.\n\nThis commit aims to give a user more flexibility about which syslog\nserver address to use.\n\nChange-Id: If7f7c8154e544e5d8a49f79f642e1ad01644a66d",
        "cmtr": "Yanis Guenane",
        "date": "2015-09-11 15:16:49+02:00",
        "files": ["loadbalancer.pp"]
      },
      {
        "hash": "ff6f4864e6f999faff75e8c720f789a3876c938c",
        "msg": "loadbalancer: use http mode for Horizon haproxy config\n\nThe haproxy configuration for horizon does not have 'mode http' set.\nThis proxy needs to be in http mode since it is using a cookie for\npersistence. The default section has 'mode tcp', which is fine, but\nhorizon proxy needs to override this setting to get http mode. Without\nthis, you will likely see an error like this:\n\n[WARNING] 238/115010 (13878) : config : cookie will be ignored for proxy\n'horizon' (needs 'mode http').'\n\nCloses BZ-1257687\n\nChange-Id: I397986ea022f47a33a5210696752509f4a2731a5",
        "cmtr": "Emilien Macchi",
        "date": "2015-09-13 19:08:01+00:00",
        "files": ["loadbalancer.pp"]
      },
      {
        "hash": "624f236d6da548453279a88f1c49acdf026a7355",
        "msg": "Automatically install packages when upgrading\n\nThis simplifies use of tripleo::packages so that when\nenable_upgrade is set to true you no longer have to enable_install\nas well.\n\nChange-Id: Ic3050a64530be9e2b6827ed8566f59d28547ae81",
        "cmtr": "Dan Prince",
        "date": "2015-09-28 15:36:58-04:00",
        "files": ["packages.pp"]
      },
      {
        "hash": "493c3375592f8ef571de13d5e1725b2fa569871e",
        "msg": "Fix manila conditional statement\n\n- s/manila/$manila\n\nChange-Id: I7aaa8f83fe758484ab39af28c914fa3d78464633\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>",
        "cmtr": "Gael Chamoulaud",
        "date": "2015-09-29 12:51:34+02:00",
        "files": ["loadbalancer.pp"]
      },
      {
        "hash": "00ca7b29602b2e49fe537777db06f9f1a03028f2",
        "msg": "loadbalancer: fix MySQL timeout HAproxy config\n\nCurrent HAproxy config is broken for MySQL timeout parameters.\nThis is what we have today by default in HAproxy logs:\n--------------\n[WARNING] 238/115010 (13878) : config : missing timeouts for proxy\n'mysql'.\n| While not properly invalid, you will certainly encounter various\nproblems\n| with such a configuration. To fix this, please ensure that all\nfollowing\n| timeouts are set to a non-zero value: 'client', 'connect', 'server'.\n--------------\n\nThis patch aims to:\n* Use the correct parameters to configure puppetlabs-haproxy\n* Update the database timeouts to higher values to prevent the\nservices from disconnecting too frequently by setting the Galera HAProxy\ntimeout to 90 minutes.\n\nChange-Id: I06dd4bf81d4f4fd3c01bb681f6f0b3152f2b8eea",
        "cmtr": "Emilien Macchi",
        "date": "2015-10-01 20:57:28+00:00",
        "files": ["loadbalancer.pp"]
      },
      {
        "hash": "4945e2f4d321b31a0dec3ce0a53cf88fcbc41591",
        "msg": "Set tunnel timeout for nova_novncproxy\n\nWhen using websockets in HAProxy, like nova_novncproxy does, we\nneed to set \"timeout tunnel\" to avoid disconnections after a short\nperiod without traffic.\n\nChange-Id: I1b66cd9a1d20cbbe35a2ada5782a76a01b14bcd1\nCloses-BZ: 1267043",
        "cmtr": "Javier Pena",
        "date": "2015-10-09 12:05:19+02:00",
        "files": ["loadbalancer.pp"]
      },
      {
        "hash": "608fc01920bbabc23a6c2c5dde11170b98f92774",
        "msg": "Resolve repeated ports for ssl frontends\n\nkeystone and heat_cfn were listening on the same port if SSL is enabled\ninm the load balancer.\n\nChange-Id: I099119198ebf3322a783581f0c6758417e705a2e",
        "cmtr": "Juan Antonio Osorio Robles",
        "date": "2015-10-21 13:30:36+03:00",
        "files": ["loadbalancer.pp"]
      },
      {
        "hash": "37b58bef9e51d6a39cbd9f71e2df9f70148ccbb5",
        "msg": "Resolve repeated ports for ssl frontends (nova vnc and swift proxy)\n\nNova vnc and swift proxy were listening on the same port if SSL is\nenabled in the load balancer\n\nChange-Id: Ibf4aa118d6c8e94f8f2a68bf270d5445ebda7593",
        "cmtr": "Juan Antonio Osorio Robles",
        "date": "2015-10-22 14:29:41+03:00",
        "files": ["loadbalancer.pp"]
      },
      {
        "hash": "95c87ea79bee85373c68befb43f46d975dafe241",
        "msg": "MidoNet services manifests\n\nProvide TripleO overcloud manifests to deploy MidoNet and the cluster\nservices that needs to run.\n\nChange-Id: I24f852e74fc4652d4609e1a71897e813448055fe",
        "cmtr": "Jaume Devesa",
        "date": "2015-11-23 11:53:07+01:00",
        "files": [".fixtures.yml", "extract_id.rb", "list_to_zookeeper_hash.rb", "validate_ip_address.rb", "cassandra.pp", "zookeeper.pp", "agent.pp", "api.pp", "tripleo_cluster_cassandra_spec.rb", "tripleo_cluster_zookeeper_spec.rb", "tripleo_midonet_agent_spec.rb", "tripleo_midonet_api_spec.rb", "validate_ip_address_spec.rb", "spec_helper.rb"]
      },
      {
        "hash": "80faa5c69d15e023025cbc03d4f6ca83be6041d2",
        "msg": "loadbalancer: add Aodh API support\n\nAdd Aodh (Ceilometer Alarming) support in TripleO Loadbalancer config.\n\nChange-Id: I891985da9248a88c6ce2df1dd186881f582605ee",
        "cmtr": "Gael Chamoulaud",
        "date": "2015-11-25 12:39:06+00:00",
        "files": ["loadbalancer.pp"]
      },
      {
        "hash": "14cf99ba26e1f6c7a4a6c44c3dfd118c7948fb03",
        "msg": "loadbalancer: add Gnocchi API support\n\nAdd Gnocchi (OpenStack Metric storage) support in TripleO Loadbalancer config.\n\nChange-Id: Ia991819f57616a9a11bd4dfb77893748130268a0",
        "cmtr": "Emilien Macchi",
        "date": "2015-12-01 13:49:27-05:00",
        "files": ["loadbalancer.pp"]
      },
      {
        "hash": "846b4fe0b82f861c3f6c637cdc5d7d9f052e4338",
        "msg": "Enable X-Forwarded-Proto header for keystone_public\n\nOne of the ways to make use of TLS in keystone is through the usage of\nthe X-Fowarded-Proto header, which will be forwarded with the request\nby the loadbalancer, and it will tell keystone what protocol was used\nto access it. This also requires configuration from the keystone side.\n\nChange-Id: I9b899ba95e28b7dfae0c1ed84ca8431054673925",
        "cmtr": "Juan Antonio Osorio Robles",
        "date": "2015-12-08 19:32:43+02:00",
        "files": ["loadbalancer.pp"]
      },
      {
        "hash": "5713311003b443210b0b431c594484dc00b5258b",
        "msg": "Allows customization of the HAProxy default timeouts\n\nChange-Id: I3fdb705bbac26b4bc43a18131407a0a86d36a8a5",
        "cmtr": "Giulio Fidente",
        "date": "2015-12-10 14:19:40+01:00",
        "files": ["loadbalancer.pp"]
      },
      {
        "hash": "7260c13fbeac8bf34da30d70f449412f3628e2f7",
        "msg": "Remove all 'validate_array' statements\n\nUnfortunately, some distributions like CentOS 7 (I guess RedHat 7 as\nwell) still using puppet < 3.7, which experience the annoying 'PUP-1299'\nbug:\n\nhttps://tickets.puppetlabs.com/browse/PUP-1299\n\nSo passing a single array element, it magically transforms to a string\n(or whatever the inside elements are) and the validate_array fails. We\nneed to get rid of these validations.\n\nChange-Id: Icc22ee575b7c236d1a6358f8593cf813d339a4b5",
        "cmtr": "Jaume Devesa",
        "date": "2015-12-11 11:46:53+00:00",
        "files": ["cassandra.pp", "zookeeper.pp", "agent.pp", "api.pp"]
      },
      {
        "hash": "7d5decbfb667cd97bda0a7f363dda73dbf40988f",
        "msg": "Adding MidoNet LoadBalancing options\n\nMidoNet API needs to be loadbalanced if the midonet environment is\nactivated.\n\nChange-Id: I6f1ac659297b8cf6671e11ad23284f8f543568b0",
        "cmtr": "Jaume Devesa",
        "date": "2015-12-11 11:47:13+00:00",
        "files": ["loadbalancer.pp"]
      },
      {
        "hash": "d7e457b8af855b2ecc08d94776532660ef56b736",
        "msg": "Modify cassandra dependency\n\nSwitch to locp/cassandra module since it has much more options than\nmidonet/puppet-cassandra and it is already defined on the\nopenstack-puppet-modules packages in RHEL. More info:\n\nhttps://bugzilla.redhat.com/show_bug.cgi?id=1285718\n\nDepends-On: I72f21036fda795b54312a7d39f04c30bbf16c41b\nChange-Id: Icea9bd96e4c80a26b9e813d383f84099c736d7bf",
        "cmtr": "Jaume Devesa",
        "date": "2015-12-14 14:15:15+00:00",
        "files": [".fixtures.yml", "cassandra.pp", "tripleo_cluster_cassandra_spec.rb"]
      },
      {
        "hash": "380ce02f8731d46e8a5ebf2fe7d68171ae9890ec",
        "msg": "Enable X-Forwarded-Proto header for Heat and Nova\n\nChange-Id: Icd666d9988d14ac1e9581f55589bf95243cc7641",
        "cmtr": "Juan Antonio Osorio Robles",
        "date": "2015-12-17 20:02:51+02:00",
        "files": ["loadbalancer.pp"]
      },
      {
        "hash": "62e74d9663bdedf50cb77db5cfc843fc940149bc",
        "msg": "Upgrade all packages after puppet managed ones\n\nThis updates tripleo::packages so that when enable_upgrade\nis used it will:\n\n 1) upgrade puppet managed packages (will trigger puppet dependencies)\n 2) then upgrade all packages via exec\n 3) then restart services\n\nNOTE: the intention here is that the Exec['update-packages'] will\nalways execute if enable_upgrade is set. It is not idempotent\nin this regard because I think we always want to execute it\nif enable_upgrade is set.\n\nChange-Id: I02f7cf07792765359f19fdf357024d9e48690e42\nRelated-bug: #1522943",
        "cmtr": "Dan Prince",
        "date": "2015-12-23 16:18:17-05:00",
        "files": ["packages.pp", "tripleo_packages_spec.rb"]
      },
      {
        "hash": "89b907c917a20be6065d8d4db1c8513a974516b9",
        "msg": "Sahara integration\n\nAdds configuration for Sahara to loadbalancer class.\n\nChange-Id: I0f0a1dc2eaa57d8226bad8cfb250110296ab9614\nPartially-implements: blueprint sahara-integration",
        "cmtr": "Ethan Gafford",
        "date": "2016-01-04 18:47:35-05:00",
        "files": ["loadbalancer.pp"]
      },
      {
        "hash": "3d34404e3a33bb99be87d244b0e93fcad1704b6d",
        "msg": "Trove integration\n\nAdds configuration for Trove to loadbalancer class.\n\nPartially-implements: blueprint trove-integration\nChange-Id: I3cdf43b6d63ad0ee68db047518743c62b6689f56",
        "cmtr": "Ethan Gafford",
        "date": "2016-01-04 18:51:08-05:00",
        "files": ["loadbalancer.pp"]
      },
      {
        "hash": "d20756585f797f83e5bf3975f84c500e8f40b3cb",
        "msg": "Haproxy has non-working Horizon session persistence.\n\nHaproxy is using session persistence[1] for horizon.  It is not\ncorrectly configured though.  The cookie is not properly set.  This add\nthe necessary code.\n\n[1]: http://blog.haproxy.com/2012/03/29/load-balancing-affinity-persistence-sticky-sessions-what-you-need-to-know/\n\nChange-Id: Ic9d79475cf84c25fb8146ecbc5f0a45862c106f0\nCloses-Bug: 1526786",
        "cmtr": "Sofer Athlan-Guyot",
        "date": "2016-01-05 14:46:53+01:00",
        "files": ["loadbalancer.pp"]
      },
      {
        "hash": "106516f16dbbf94b4bc956ffa0da917b433bae78",
        "msg": "Make haproxy balancer default options configurable\n\nChange-Id: Id5e119e0949d27a6e3b3f21ecd5e2eb39f1eeb13",
        "cmtr": "Giulio Fidente",
        "date": "2016-01-08 18:04:38+01:00",
        "files": ["loadbalancer.pp"]
      },
      {
        "hash": "b4ec7f7f47a356fc622c73b0822fa18e67a4519a",
        "msg": "Enable X-Forwarded-Proto header for cinder\n\nChange-Id: I3bd836140537fc5b7e3fba600a712d6a9d6f1185",
        "cmtr": "Juan Antonio Osorio Robles",
        "date": "2016-01-13 18:26:15+02:00",
        "files": ["loadbalancer.pp"]
      },
      {
        "hash": "d7c7e89df4e05b37f4d5430ae5dd611034ce9799",
        "msg": "Use HAProxy 'transparent' bind option for compat with IPv6\n\nChange-Id: Iddf1fdaabc1c758546999e7af7e7412158400e7f",
        "cmtr": "Giulio Fidente",
        "date": "2016-01-13 20:47:51+01:00",
        "files": ["loadbalancer.pp"]
      },
      {
        "hash": "4db4b455ad9716322f3e4f5ada7f6cc38b9b367e",
        "msg": "Disable ip_nonlocal_bind (rely on the HAProxy 'transparent' option)\n\nChange-Id: Ib57a4bf463900e68cbf97900027f972e590799c2",
        "cmtr": "Giulio Fidente",
        "date": "2016-01-13 21:12:57+01:00",
        "files": ["loadbalancer.pp"]
      },
      {
        "hash": "eb62088ddd6055177554f873168b2a7db0158a57",
        "msg": "Enable X-Forwarded-Proto header for keystone admin endpoint\n\nThis is useful for handling URLs properly when TLS is enabled.\n\nChange-Id: I4defed679cf3b2980dcc4ce1db030c0fdf154bfe",
        "cmtr": "Juan Antonio Osorio Robles",
        "date": "2016-01-14 11:01:13+02:00",
        "files": ["loadbalancer.pp"]
      },
      {
        "hash": "0543b4de44c36fcb351b127fa0c0d0c35d17965f",
        "msg": "packages: secure upgrade workflow from dependency cycles\n\nChange the workflow to be:\nUpgrade all packages before any services that is notified & managed by\nPuppet.\nIt also disable the Exec timeout so we rely on Heat timeout and not on\nthe 300s that are the default in Puppet [1]\n\nExample: we upgrade and OpenStack config will change (obviously).\n         Puppet catalog will contain 3 important things:\n           * config resources\n           * service resources\n           * package-upgrade Exec resource\n         with that patch, what will happen:\n           * puppet will update config first or second and notify\n             services\n           * puppet will run package-upgrade first or second but before\n             the package-upgrade Exec resource\n           * at the very end, puppet will restart services\n\nThat way, we avoid complications with Puppet dependency cycle issues.\n\n[1] https://docs.puppetlabs.com/references/latest/type.html#exec-attribute-timeout\n\nCloses-Bug: 1536349\nChange-Id: I07310bdfc5b07b03ac9fa5f8c13e87eaa2bfef4d",
        "cmtr": "James Slagle",
        "date": "2016-01-20 19:56:53+00:00",
        "files": ["packages.pp", "tripleo_packages_spec.rb"]
      },
      {
        "hash": "4281b4e1757d9e49b6137792acd110623193fdee",
        "msg": "SSL/Cinder: enable ssl_header_handler filter\n\nEnable oslo_middleware.http_proxy_to_wsgi:HTTPProxyToWSGI.factory in\nssl_header_handler middlewarefilter so we can run Nova API with SSL\nsupport.\n\nChange-Id: If88dcdf9f4905e2a792b2fdc656eab51c85f637e",
        "cmtr": "Juan Antonio Osorio Robles",
        "date": "2016-01-21 11:38:09+00:00",
        "files": ["cinder_config.pp"]
      },
      {
        "hash": "55b24a306d8ab6f71fa2b82f49d928dc72f8a3b0",
        "msg": "Handle redirects for Horizon\n\nAs for Heat, we need to be able to handle 30X redirects from Horizon\nwhen configured to use SSL.  Because Horizon's redirects are\nhandled directly by Apache, we can't use middleware to handle the\nX-Forwarded-Proto header like we are planning to do for the other\nservices.  However, in this case we don't need to worry about\nrewriting urls in the payload like we do for the other services\nbecause Horizon is just serving standard web pages, not custom\nHTTP bodies with JSON contents.\n\nOne other change from the previous Heat patch is to drop the IP\nfrom the rewrite regex.  This is because Horizon will generally be\naccessed via a DNS name, so the IP won't appear in the Location\nheader.  The heat regex should probably be changed as well since\nwe now support registering endpoints with DNS names, but since we\nplan to move all the other services to the X-Forwarded-Proto header\nmiddleware anyway we can probably just wait until that happens and\nthen remove the Heat rule entirely.\n\nChange-Id: I039a3036be17eeabe3cff68e0ef24f70907cc568",
        "cmtr": "Ben Nemec",
        "date": "2016-02-11 17:30:28+00:00",
        "files": ["loadbalancer.pp"]
      },
      {
        "hash": "5f915a88e7c4eec6e6a0341808f0fbc4a4b1a161",
        "msg": "Override X-Forwarded-Proto header\n\nRight now, the only manipulation done to the X-Forwarded-Proto header\nis done if an SSL connection is established. This is not sufficient as\none might be able to erroneously put values through that header.\n\nThis patch disables that behaviour by defaulting to plain http if an\nSSL connection is not established.\n\nChange-Id: I4bf6def21e21148834c2baa9669190bab8fa95ef",
        "cmtr": "Juan Antonio Osorio Robles",
        "date": "2016-02-22 15:26:54+02:00",
        "files": ["loadbalancer.pp"]
      },
      {
        "hash": "6e4870915281c80176ea08584f337099e60e2b2d",
        "msg": "loadbalancer: fix Redis timeout HAproxy config\n\nCurrent HAproxy config is broken for Redis timeout parameters. This is what we\nhave today by default in HAproxy logs:\n[WARNING] 238/115010 (13878) : config : missing timeouts for proxy 'redis'.\n| While not properly invalid, you will certainly encounter various problems\n| with such a configuration. To fix this, please ensure that all following\n| timeouts are set to a non-zero value: 'client', 'connect', 'server'.\n\nThis patch removes the explicit setting of client and server timeouts to 0,\nwhich is the cause of the above warning.  Instead, Redis will simply inherit the\nhaproxy defaults, which should be a more reasonable setting, and result in no\nwarnings.\n\nChange-Id: Ibe7941bec02f5facf21732910c9ad96f547ff8e5",
        "cmtr": "Jason Guiditta",
        "date": "2016-02-25 10:27:26-05:00",
        "files": ["loadbalancer.pp"]
      },
      {
        "hash": "3aefa43072d9453412376a9bdedd949e03c926a5",
        "msg": "Always override X-Forwarded-Proto header for Heat\n\nHeat has the ssl middleware to handle the X-Forwarded-Proto header by\ndefault. We override this header when SSL is enabled because we need\nto, but overriding it even when we won't be terminating SSL will\nprevent some attacks using this header.\n\nChange-Id: I0b2c61cd4f47c8c08a84402af310983af752d3f2",
        "cmtr": "Juan Antonio Osorio Robles",
        "date": "2016-03-01 09:34:16+02:00",
        "files": ["loadbalancer.pp"]
      },
      {
        "hash": "304d076f1d7ee534fdf814e326c084c4a08d5756",
        "msg": "Make OpenStack service ports configurable in HAProxy\n\nSome deployments were expecting specific ports for the OpenStack\nservices; In case the default ports are not meeting those needs, we\nneed to provide the means of changing the defaults.\n\nChange-Id: Idbbcc90e2af1b3a731b0b5ea955df6082541a9f7",
        "cmtr": "Juan Antonio Osorio Robles",
        "date": "2016-03-08 18:10:19+02:00",
        "files": ["loadbalancer.pp"]
      },
      {
        "hash": "4988d0fc359a59af6ce86c0beb8549a950df57cd",
        "msg": "Allow enabling authentication on haproxy.stats\n\nRight now we always deploy the haproxy.stats endpoint with no\nauthentication, which is a security concern.  Allow setting a\npassword on the endpoint so it isn't accessible to the world.\n\nWhile this allows configuring SSL on the stats endpoint, it does\nnot use the service_certificate parameter because that certificate\nis intended to be used only for public endpoints, and the stats\nendpoint is actually on the admin VIP.  Once we have support for\nSSL on admin endpoints we can have stats use it by default.\n\nChange-Id: I8a5844e89bd81a99d5101ab6bce7a8d79e069565",
        "cmtr": "Ben Nemec",
        "date": "2016-03-11 20:56:04+00:00",
        "files": ["loadbalancer.pp"]
      },
      {
        "hash": "f8de51a85da685f92900ea17aef8b16a32661843",
        "msg": "Redirect to https for horizon\n\nThis adds a TLS binding listening on the internal network for\nhorizon. And on the other hand, if the public binding for horizon is\naccessed via non-https, it will redirect to https.\n\nChange-Id: I1f92ecd0c4845450df4b24f6b621d313ba9cbfc4\nDepends-On: I4943c6c74e0be96c1d7e190908b9262df05d059a",
        "cmtr": "Juan Antonio Osorio Robles",
        "date": "2016-03-18 12:31:19+02:00",
        "files": ["loadbalancer.pp"]
      },
      {
        "hash": "49904b60df19b070ea5bb4da2d5d901599f23c31",
        "msg": "Add keystone and db sync profiles\n\nImplements: blueprint refactor-puppet-manifests\n\nAdd keystone profiles for both pacemaker and non-ha.\nAdd db sync profiles for pacemaker and non-ha.\n\nHA profiles are designed such that they include the base\nprofiles, disabling features as needed, while the base\nprofile can be used independently.\n\nChange-Id: I2faf5a78db802549053ec41678bf83bf28108189",
        "cmtr": "Michael Chapman",
        "date": "2016-03-22 16:14:18+11:00",
        "files": ["schemas.pp", "keystone.pp", "schemas.pp", "keystone.pp"]
      },
      {
        "hash": "5c248dbd67de167c14bf73fd077f71fb18fcf29b",
        "msg": "Make cipher suite and SSL options configurable\n\nThis CR enables the ability to set the cipher suite to be used by\nHAproxy and the SSL options. So now the user can enable these through\nhiera.  The cipher suite comes from the Fedora system crypto policy.\n\nChange-Id: Ia5751d4049026683fa13d4bc4cbf4eaffe054b48\nDepends-On: I4943c6c74e0be96c1d7e190908b9262df05d059a",
        "cmtr": "Juan Antonio Osorio Robles",
        "date": "2016-03-22 11:18:40+02:00",
        "files": ["loadbalancer.pp"]
      },
      {
        "hash": "410b9f96c0ec156ffeb00f31293735b120eaa260",
        "msg": "Allow the Redis specific monitor to use authentication\n\nWhen accessing Redis, if password protected, we need to update\nthe HAProxy checks so that they use a password or we won't be able\nto gather which node is the replica master.\n\nAlso adds PING/PONG and QUIT/OK sequence before and after the info\ncommand is sent.\n\nMore at https://bugzilla.redhat.com/show_bug.cgi?id=1320036\n\nChange-Id: Ia9e61e66c5426061eab8172f0a25820989597780",
        "cmtr": "Giulio Fidente",
        "date": "2016-03-23 11:38:05+01:00",
        "files": ["loadbalancer.pp"]
      },
      {
        "hash": "4c0a136a40655171a14ca4be304193863eac06bd",
        "msg": "Fix comparison to control_virtual_ip\n\nWhen managing the vip's, we were incorrectly comparing the vip to\n$control_virtual_interface instead of $controller_virtual_ip when\ndetermining if we needed to actually create the vip or not.\n\nThis caused the vips for internal api, storage, and storage mgmt to\nalways be created even if they were the same as the control vip. Afaict,\nthis didn't actually cause any problems, other than having extra vip's\ncreated when they weren't needed. Still, this corrects the code to do\nwhat it was intended to do.\n\nChange-Id: I29aee95afcba25008b8b7bee37ba636eb2595cca",
        "cmtr": "James Slagle",
        "date": "2016-04-04 12:21:05-04:00",
        "files": ["loadbalancer.pp"]
      },
      {
        "hash": "f3bb9638788d51fe72684cfabdba142a66acc0af",
        "msg": "Add missing services ports to service_ports map\n\nAODH, Gnocchi, Sahara and Trove were missing from the service_ports\nmaps and thus had hardcoded ports in the listener configuration. The\naddition of those ports to the map is required to give the\npossibility to deployers to configure those ports if needed. This\ncommit adds them to that map.\n\nChange-Id: Id009d65bf68ba91f97b0d60d32028da50fc88fc3",
        "cmtr": "Juan Antonio Osorio Robles",
        "date": "2016-04-07 09:59:11+03:00",
        "files": ["loadbalancer.pp"]
      },
      {
        "hash": "0d24384b6e6944e314dcf1e522784c3396d024b6",
        "msg": "Remove individual service certificates\n\nThey are not being used and add extra logic and unnecessary clutter\nto the code. So this CR removes them in favor of just configuring\nTLS with the service_certificate. The only individual cert left was\nthe one for haproxy stats.\n\nChange-Id: Ic3b769423917e723ecc83e32bcbae17568345661",
        "cmtr": "Juan Antonio Osorio Robles",
        "date": "2016-04-08 10:35:03+00:00",
        "files": ["loadbalancer.pp"]
      },
      {
        "hash": "1c7b9359b20d3da69b665f63d2354229b253401c",
        "msg": "Map gnocchi vip to haproxy_listen_bind_param\n\nChange-Id: I7d2eb9405e0171fc54fa0b616122f69db5f51ce2",
        "cmtr": "Pradeep Kilambi",
        "date": "2016-04-11 07:51:07-04:00",
        "files": ["loadbalancer.pp"]
      },
      {
        "hash": "92187135693158fe827031d06de7b389cecea395",
        "msg": "Fix Sahara SSL default port\n\nThere were two issues with the SSL port for sahara.\n* It was conflicting with Manila's port\n* It was documented incorrectly\n\nThis has been fixed\n\nChange-Id: I9f710e014890b6daa6b3e511fd811c1e25bd0de3",
        "cmtr": "Juan Antonio Osorio Robles",
        "date": "2016-04-11 17:33:56+03:00",
        "files": ["loadbalancer.pp"]
      },
      {
        "hash": "9f31a7dbe8a98af0da05bc79a80f785db5ecac13",
        "msg": "Add generic manifest for loadbalancer endpoints\n\nIn order to reduce repeated code in the loadbalancer manifest, the\nrepeated parts were moved into one manifest that contains the\nendpoint resource.\n\nChange-Id: Ib72abe9de7ab073dcbd780298385b0c519f363aa",
        "cmtr": "Pradeep Kilambi",
        "date": "2016-04-11 11:22:28-04:00",
        "files": ["loadbalancer.pp", "endpoint.pp"]
      },
      {
        "hash": "7cb2d7d79262d36ac6e0514ef7bc0472824a5d19",
        "msg": "Add support for internal/admin endpoint TLS in HAProxy\n\nThis commits adds the option to pass an internal certificate.\nThe aforementioned certificate will be used to terminate TLS\nconnections for the internal and admin endpoints.\n\nChange-Id: I9d781b42c63cf34bd1f5ba2c71014c6b9de0f990",
        "cmtr": "Juan Antonio Osorio Robles",
        "date": "2016-04-11 16:06:36+00:00",
        "files": ["loadbalancer.pp", "endpoint.pp"]
      },
      {
        "hash": "2aaae65493beb85d4ca71eb028dfaab58d69f31c",
        "msg": "Add Glance profiles\n\nAdd Glance profiles for non-ha & ha scenarios.\n\nChange-Id: Ifc388f7058ccfff2818f531bcbc00c7179874bbc\nImplements: blueprint refactor-puppet-manifests",
        "cmtr": "Emilien Macchi",
        "date": "2016-04-11 16:34:00+00:00",
        "files": ["api.pp", "registry.pp", "glance.pp"]
      },
      {
        "hash": "99b7ebd3ef5c09b703ba026637f75fad23698e88",
        "msg": "Refactor HAproxy and VIP creation.\n\nIn tripleo heat template, overcloud_controller_pacemaker.pp has a lot of\nduplicate code to define haproxy and vip creation.  This is an attempt\nto refactor this.\n\nChange-Id: I4cc6711911c1bfa1bc6063979e2b2a7ab5b8d37b",
        "cmtr": "Sofer Athlan-Guyot",
        "date": "2016-04-13 22:55:18+02:00",
        "files": ["haproxy_with_vip.pp"]
      },
      {
        "hash": "96058c80cb2236d5549c366aa6d2c66d39d86d8b",
        "msg": "Enable HAProxy forwardfor option for Horizon.\n\nHorizon's backends (httpd) see IP address of the haproxy in the logs instead\nof the client address.\nAdding forwardfor option allows to add the client address to the\nX-Forwarded-For HTTP header and can be replace in the logs by configured the\nbackend servers with this header.\n\nChange-Id: I54f0f5549d64768dacca71539c71a28cc99d9d95",
        "cmtr": "Dimitri Savineau",
        "date": "2016-04-15 11:12:19-04:00",
        "files": ["loadbalancer.pp"]
      },
      {
        "hash": "f9c33aeb81a9c89228ced75add1282e35824d49d",
        "msg": "IPv6 dual-stack support\n\nTL;DR:\nIf keystone_public_api_vip and/or public_virtual_ip is an array of IPs,\nHAproxy will be configured to listen on all IPs that are given in the\narrays.\nIt allows to specify an array for keystone_public_api_vip and/or\npublic_virtual_ip where one IP is v4 and another one is v6.\nHAproxy will configured to listen on both and redirect the traffic to\nthe IPv6 network (Dual-Stack).\n\nImplementation & background:\nHAproxy requires binding options as an hash where each IP contains an\narray of binding options.\nTripleO does not support Puppet Parser [1] (yet) so we can't manipulate\ndata iterations inside the manifests.\nThis patch creates a custom function, called list_to_hash.\n\nExample:\nkeystone_vips = ['192.168.0.1:5000', '192.168.0.2:5000']\n$keystone_bind_opts = ['transparent']\n\nUsing this function:\n$keystone_vips_hash = list_to_hash($keystone_vips,\n$keystone_bind_opts)\n\nWould return:\n$keystone_vips_hash = {\n  '192.168.0.1:5000' => ['transparent'],\n  '192.168.0.2:5000' => ['transparent'],\n}\n\nThis function will help us in loadbalancer.pp to construct binding\noptions in dynamic way.\nIt's backward compatible, so you don't have to give an array.\nBut if you do, multiple binding will be configured in HAproxy and you'll\nalso be able to deploy IPv6 Dual-Stack.\n\n[1] https://docs.puppetlabs.com/puppet/latest/reference/lang_iteration.html\n\nChange-Id: I003b6d7d171652654745861d4231882f9e0d373e",
        "cmtr": "Emilien Macchi",
        "date": "2016-04-19 14:36:38+00:00",
        "files": ["list_to_hash.rb", "endpoint.pp"]
      },
      {
        "hash": "7e0534d546756cba0a91d7751f5048b94bc5e0d8",
        "msg": "Add steps to database profiles\n\nDatabase schema profiles were missing step information, causing\nschemas to be created too early.\n\nChange-Id: Ic381804ce5f1aa257ece75d2e079f4b02f446344",
        "cmtr": "Michael Chapman",
        "date": "2016-04-20 01:10:13+10:00",
        "files": ["schemas.pp", "schemas.pp"]
      },
      {
        "hash": "a005e3e052a4e41397e7060ad3bc8f45860e5336",
        "msg": "Add destination parameter to firewall rule\n\nSpecifying a destination cidr is already supported by\npuppetlabs-firewall, we just need to pass through the parameter in\nrule.pp in puppet-tripleo.\n\nThis will allow creating iptables rules that forward network traffic for\na given cidr via puppet-tripleo.\n\nChange-Id: I23582a55cd97248be52f45e14de7e813ff499ff7",
        "cmtr": "James Slagle",
        "date": "2016-04-20 10:17:24-04:00",
        "files": ["rule.pp", "tripleo_firewall_spec.rb"]
      },
      {
        "hash": "1b13c573641fd5ab2355faa3ecb89ad7ce1a76d3",
        "msg": "Add aodh and gnocchi to schema profiles\n\nChange-Id: Ifb0cc7769ef99e4c7142c8f955f0ca721d61e9b5",
        "cmtr": "Giulio Fidente",
        "date": "2016-04-22 16:00:49+02:00",
        "files": ["schemas.pp", "schemas.pp"]
      },
      {
        "hash": "e284e21405e9d50bfe114178a955918eddfbfaee",
        "msg": "Move databases creation and sync with the role\n\nThis change moves the database creation and sync with the role\nprofile, so that it's only executed when the role is enabled and\nby the role itself.\n\nIt also calls the non-pacemaker profiles out of the 'step'\nconditional because the non-pacemaker profiles know how to deal with\n'step' already.\n\nChange-Id: I6c752cb53090e7ef8e0319bade462f2453ed7660\nRelated-Bug: 1572952",
        "cmtr": "Giulio Fidente",
        "date": "2016-05-03 22:44:16+02:00",
        "files": ["schemas.pp", "registry.pp", "keystone.pp", "schemas.pp", "glance.pp", "keystone.pp"]
      },
      {
        "hash": "bbe7f42cfdaaf8c5398ffd00b1ca77d2ec7a02bf",
        "msg": "Noop start/stop/restart action for Glance and Keystone in the roles\n\nChange-Id: I1d95746cb990292462106c191987147eba30ee61",
        "cmtr": "Giulio Fidente",
        "date": "2016-05-04 09:53:39+00:00",
        "files": ["glance.pp", "keystone.pp"]
      },
      {
        "hash": "172412c0638107db538f1a491513de0836fdc311",
        "msg": "Create dbs in step 3 for the roles\n\nBefore the roles we could make the create db operation depend on a\n'galera-ready' resource [1]. We can't do it anymore from the role so\nwe need to do create in step 3, when we do sync as well.\n\n1. https://github.com/openstack/tripleo-heat-templates/blob/master/puppet/manifests/overcloud_controller_pacemaker.pp#L382\n\nChange-Id: Id065a9180f1f1a41ab225ec5f755498ec7d9a827",
        "cmtr": "Giulio Fidente",
        "date": "2016-05-04 15:20:44+02:00",
        "files": ["registry.pp", "keystone.pp"]
      },
      {
        "hash": "f0c7efc0688da284afcadb65ce06f5e72151bf4d",
        "msg": "Add neutron profiles\n\nImplements: blueprint refactor-puppet-manifests\n\nAdd neutron profiles for both pacemaker and non-ha.\n\nHA profiles are designed such that they include the base\nprofiles, disabling features as needed, while the base\nprofile can be used independently.\n\nCo-Authored-By: Dan Prince <dprince@redhat.com>\n\nChange-Id: Ida781badbcd63bbcb481a2170638aefe262b717b",
        "cmtr": "Michael Chapman",
        "date": "2016-05-05 15:44:58+10:00",
        "files": ["neutron.pp", "dhcp.pp", "l3.pp", "metadata.pp", "midonet.pp", "ml2.pp", "n1k.pp", "nuage.pp", "ovs.pp", "server.pp", "neutron.pp", "dhcp.pp", "l3.pp", "metadata.pp", "midonet.pp", "ml2.pp", "ovs.pp", "server.pp"]
      },
      {
        "hash": "0bf0f72defc5260346717cf7c9d836342b34ebd6",
        "msg": "Add dport/sport parameter to firewall rule\n\nThe port parameter to puppetlabs-firewall is actually deprecated[1].\nThis adds support for using the new parameter names dport and sport. The\nport parameter is still retained in puppet-tripleo for backwards\ncompatibily for anyone using that interface. It is marked deprecated in\nthe documentation, however no deprecation warning is needed because\nthere is already a warning from from puppetlabs-firewall.\n\nblueprint undercloud-elements\nChange-Id: I0598007f90018f80a3266193bb24dbf112de49b7",
        "cmtr": "James Slagle",
        "date": "2016-05-05 13:17:04-04:00",
        "files": ["pre.pp", "rule.pp", "tripleo_firewall_spec.rb"]
      },
      {
        "hash": "8e533aaf447022c62865130f2ffc88690f06aef1",
        "msg": "Add tripleo::selinux\n\nAdds a class to configure SELinux. The code is taken from\npuppet-openstack-cloud:\nhttps://github.com/redhat-cip/puppet-openstack-cloud\n\nThis allows to share the same code for usage by both the Undercloud and\nOvercloud.\n\nCo-Authored By: Emilien Macchi <emilien@redhat.com>\nCo-Authored By: Yanis Guenane <yguenane@redhat.com>\n\nblueprint undercloud-elements\nChange-Id: If214005df733d41c2fa4e197df247d8a14baaa14",
        "cmtr": "James Slagle",
        "date": "2016-05-05 13:19:20-04:00",
        "files": ["selinux.pp", "tripleo_selinux_spec.rb", "sysconfig_selinux.erb"]
      },
      {
        "hash": "5bc20f8972f565f6f219971abd4c3095bd1b9f43",
        "msg": "Add non-pcmk Trove API/Conductor/Taskmanager profiles\n\nPartially-implements: blueprint trove-integration\nChange-Id: I667f40f1fa0a7f5c63be52412e3625bbe9b5fbd7",
        "cmtr": "Ethan Gafford",
        "date": "2016-05-06 11:34:41-04:00",
        "files": ["api.pp", "registry.pp", "api.pp", "conductor.pp", "taskmanager.pp"]
      },
      {
        "hash": "837643416d6fc636336d74b1da800a295c3d49a3",
        "msg": "Remove manage_service and enabled from TripleO manifests\n\nThese can be controlled via the specific Pacemaker role template.\n\nDepends-On: I91a4267f0fc230f63df3333747d28463c7ae55fe\nChange-Id: I8ef7bb94e048b998712b3534ceb51a7d10d016e9",
        "cmtr": "Giulio Fidente",
        "date": "2016-05-09 12:31:30+02:00",
        "files": ["api.pp", "registry.pp", "keystone.pp", "dhcp.pp", "l3.pp", "metadata.pp", "ovs.pp", "server.pp", "glance.pp", "keystone.pp", "dhcp.pp", "l3.pp", "metadata.pp", "ovs.pp", "server.pp"]
      },
      {
        "hash": "74c573eabbed37e689f1ffefdbe33c9cb3f19de8",
        "msg": "keystone: drop usage of step 6\n\n* Manage roles & endpoints at step 5\n* Set correct orchestration for Pacemaker resources within a single\n  step.\n\nChange-Id: I079e65f535af069312b602e8ff58be80ab2f2226",
        "cmtr": "Emilien Macchi",
        "date": "2016-05-10 21:49:11+00:00",
        "files": ["keystone.pp"]
      },
      {
        "hash": "4966c016bbf0b4c5015268a5f14ae173f4627ada",
        "msg": "Add the neutron-dnsmasq.conf to neutron profile\n\nThis was in the initial neutron profile patches but got removed\nmid-way (see patch 16 comments here:\nIda781badbcd63bbcb481a2170638aefe262b717b). The file is in fact\nrequired in order to get the ping test properly passing with TripleO.\n\nChange-Id: Ibbfd79421f871e41f870745a593cca65e8c0e58a",
        "cmtr": "Dan Prince",
        "date": "2016-05-10 21:49:00-04:00",
        "files": ["dhcp.pp"]
      },
      {
        "hash": "19e161cd73fd7064b1732b4100cd9cc28768a092",
        "msg": "Update keystone service name for signing keys\n\nSince keystone is being run under apache, the signing keys should notify\napache and not the keystone service.  The keystone service is actually\ndisabled, so if the keys get updated nothing happens.\n\nChange-Id: Idfebeabf03d010956569c32b24437245e2b93c2a\nRelated-Bug: #1581591",
        "cmtr": "Alex Schultz",
        "date": "2016-05-13 10:11:51-06:00",
        "files": ["keystone.pp"]
      },
      {
        "hash": "a555a26421deda2f601e2127a9ecaf0b4590a11f",
        "msg": "Remove Nova EC2 HAproxy endpoint\n\nTHT does not deploy Nova EC2 anymore, so we don't need the HAproxy\nendpoint anymore.\n\nChange-Id: Ia888fe7e14c736ef3678d9a7cf69a2deb9233342\nDepends-On: Ief2d0e5c77b5ac58560606fee930fbd66c40ffc3",
        "cmtr": "Emilien Macchi",
        "date": "2016-05-14 11:22:02+02:00",
        "files": ["loadbalancer.pp"]
      },
      {
        "hash": "4a69e2fc2134c9dd7de16470872cc86723c72b2e",
        "msg": "Composable role for RabbitMQ\n\nAdd RabbitMQ composable role, and keep the same logic that we had in\nTHT.\n\nImplements: blueprint refactor-puppet-manifests\nChange-Id: I961bdbe1cc6dd1d4a315de616439f9fc77d793ae",
        "cmtr": "Emilien Macchi",
        "date": "2016-05-17 23:50:45+02:00",
        "files": ["rabbitmq.pp", "rabbitmq.pp"]
      },
      {
        "hash": "826b27153146c71e5349a0f7594fbd98997d6115",
        "msg": "Add loadbalancer profile for ha & non-ha\n\nThe profile contains Puppet classes to deploy loadbalancer services\n(HAproxy & Keepalived) for ha & non-ha scenarios.\n\nA future iteration will split HAproxy & keepalived, but for now, we just\nwant to move out the code from THT to puppet-tripleo.\n\nChange-Id: I9b106dcc1a4d446ab5dea8430ed295e6ec209cbd\nImplements: blueprint refactor-puppet-manifests",
        "cmtr": "Emilien Macchi",
        "date": "2016-05-19 11:15:11+02:00",
        "files": ["loadbalancer.pp", "loadbalancer.pp"]
      },
      {
        "hash": "e22afd7839c934eafb74965bfc263efcdfd81c0d",
        "msg": "Adds the base and pacemaker profile for the memcached service\n\nImplements: blueprint refactor-puppet-manifests\n\nThis is the puppet-tripleo side for the memcached as a composable\nservice.  The related tht review that uses this is at\nI8802c2a0cf1e5fa1a6d1fab5e87f6014bea2f517\n\nChange-Id: Icd504aef7dda144582c286c56c925a78566af72c",
        "cmtr": "marios",
        "date": "2016-05-19 17:08:36+03:00",
        "files": ["memcached.pp", "memcached.pp"]
      },
      {
        "hash": "1c1bce950d92982e59063396177cf5b757b347b0",
        "msg": "Add Heat profiles\n\nAdd Heat profiles for non-ha & ha scenarios.\n\nImplements: blueprint refactor-puppet-manifests\n\nChange-Id: I194cbb6aa307c2331597147545cf10299cab132f",
        "cmtr": "Brad P. Crochet",
        "date": "2016-05-19 15:44:46-04:00",
        "files": ["heat.pp", "api.pp", "api_cfn.pp", "api_cloudwatch.pp", "engine.pp", "heat.pp"]
      },
      {
        "hash": "73a687263c38e85344bbab3a3536873f8285322d",
        "msg": "Change default CloudFormation ssl port to 13005\n\nThe current default of 13800 is a bit out of line with the other Heat\nSSL ports. This makes it a more sane default of 13005.\n\nChange-Id: Ic9aa71bfc80ca5fdb3b3c48dc55be7b98cf22ada",
        "cmtr": "Brad P. Crochet",
        "date": "2016-05-20 08:16:03-04:00",
        "files": ["loadbalancer.pp"]
      },
      {
        "hash": "727d1b006a619b3639bee3557942d15329286839",
        "msg": "loadbalancer: make sure controller_* are array-typed\n\nMake sure controller_hosts_real and controller_hosts_names_real become\narray-types anyway, so we don't need to add brackets in Hiera lookups\n(example on both undercloud & overcloud where we do [hiera('controller_host')]).\n\nChange-Id: I2fe899482acfd51919262bc7a6a1c9f450e173f4",
        "cmtr": "Emilien Macchi",
        "date": "2016-05-26 14:39:22+00:00",
        "files": ["loadbalancer.pp"]
      },
      {
        "hash": "7b355dcc63e24dbb730e135b4148e500e6de4233",
        "msg": "Explode loadbalancer role in 2 sub-roles\n\nSplit loadbalancer role into 2 sub-roles:\n- HAproxy\n- Keepalived\n\nChange-Id: I84dfa9d409d390c6f549d62cb3634931e4cb432c",
        "cmtr": "Emilien Macchi",
        "date": "2016-05-26 16:58:27-04:00",
        "files": ["haproxy.pp", "endpoint.pp", "keepalived.pp", "loadbalancer.pp", "endpoint.pp"]
      },
      {
        "hash": "4a940206ff3cd047fa737f5b45f991f366b1c664",
        "msg": "Add Sahara profiles\n\nAdd Sahara profiles for non-ha & ha scenarios.\n\nImplements: blueprint refactor-puppet-manifests\n\nChange-Id: I0c8bd68f9a98626e9d67ef713c72c9dd05b7cc12",
        "cmtr": "Brad P. Crochet",
        "date": "2016-05-26 19:39:50-04:00",
        "files": ["sahara.pp", "api.pp", "engine.pp", "sahara.pp"]
      },
      {
        "hash": "571944f1fd92bb983cca7d41f61b1a6b3c2cc605",
        "msg": "Remove cinder resource for setting SSL middleware\n\nNow that cinder enables http_proxy_to_wsgi by default[1], we no\nlonger need to add it ourselves. So this is now safe to remove.\n\n[1] If5aab9cc25a2e7c66a0bb13b5f7488a667b30309\nDepends-On: I6141b6caf9b04ee73fae3ae2b94b3001b21b9999\n\nChange-Id: I3581d11519b664863f47c5aeeec6efcc4182a5fc",
        "cmtr": "Juan Antonio Osorio Robles",
        "date": "2016-05-27 14:01:54+03:00",
        "files": ["cinder_config.pp"]
      },
      {
        "hash": "80e125f309d176cc52796bb2884236299d02acfc",
        "msg": "glance: known_stores -> stores\n\nknown_stores is deprecated in favor of stores.\nThis patch aims to update it.\n\nChange-Id: Iaf83b847fbe9e8a78c6bf7f534c955eae357d95f",
        "cmtr": "Emilien Macchi",
        "date": "2016-05-30 11:56:14-04:00",
        "files": ["api.pp"]
      },
      {
        "hash": "b0ec457332912476618c55752041f4440dd2cf68",
        "msg": "Update profiles for loadbalancer split\n\nUpdate loadbalancer (nonha and ha) and midonet profiles to consume new\ntripleo::haproxy class.\n\nKeep it backward compatible with old interface until we update THT by\nusing stdlib function: pick. So we first try to get new parameters\notherwise we fallback to the old interface.\n\nChange-Id: I46ed8348dc990d9aa0d896e1abea3b30a8292634",
        "cmtr": "Emilien Macchi",
        "date": "2016-05-30 17:42:38-04:00",
        "files": ["loadbalancer.pp", "midonet.pp", "loadbalancer.pp"]
      },
      {
        "hash": "325dc2a17715c927327f2f4de13d8c10ab70fd72",
        "msg": "Add puppet profile for swift proxy\n\nBreaks out the swift proxy configuration from t-h-t to a\ncomposable profile\n\nChange-Id: I6bd72284911f3f449157a6fc00b76682dd53bd8c\nPartially-Implements: blueprint refactor-puppet-manifests",
        "cmtr": "Giulio Fidente",
        "date": "2016-05-31 11:16:11+02:00",
        "files": ["proxy.pp"]
      },
      {
        "hash": "2a80c93594cb554d91edf59896cdf93ad3721127",
        "msg": "Adds the puppet-tripleo manifests for manila\n\nThe tripleo-heat-templates side that uses this is at\nhttps://review.openstack.org/#/c/188137/\n\nChange-Id: I444916d60a67bf730bf4089323dba1c1429e2e71\nImplements: blueprint refactor-puppet-manifests",
        "cmtr": "marios",
        "date": "2016-06-02 14:33:25+03:00",
        "files": ["api.pp", "scheduler.pp", "share.pp", "manila.pp"]
      },
      {
        "hash": "0edb6855960f4f0b039206758926f312a9ec6a7a",
        "msg": "Apply RabbitMQ rabbitmq_* static hiera in nonha with single controller\n\nWe were not consuming the rabbitmq_* static hiera settings when\ndeploying without pcmk and with a single controller.\n\nChange-Id: I1506093e3d4365e2617521737c8f53edfb022133",
        "cmtr": "Emilien Macchi",
        "date": "2016-06-02 12:30:51+00:00",
        "files": ["rabbitmq.pp"]
      },
      {
        "hash": "f75502475dc9989d3408e8d9ce6d3c5a8beab9c0",
        "msg": "Add Cinder API/Scheduler/Volume roles\n\nIncludes both the base and the pacemaker roles.\n\nChange-Id: I3c6d5226eed5f0f852b0ad9476c7cd9a959fda69",
        "cmtr": "Emilien Macchi",
        "date": "2016-06-02 14:42:27+00:00",
        "files": ["cinder.pp", "api.pp", "scheduler.pp", "volume.pp", "dellsc.pp", "eqlx.pp", "iscsi.pp", "netapp.pp", "nfs.pp", "rbd.pp", "api.pp", "scheduler.pp", "volume.pp"]
      },
      {
        "hash": "fd1166a7c010bdca499f64874e1d46f8d4305eef",
        "msg": "Composable roles within services - Redis\n\nImplements: blueprint refactor-puppet-manifests\n\nCo-Authored-By: Carlos Camacho <ccamacho@redhat.com>\n\nChange-Id: I60493a3aa64e5136b763e8e2084d728f5f812f8a",
        "cmtr": "Carlos Camacho",
        "date": "2016-06-02 17:27:46+02:00",
        "files": ["redis.pp", "redis.pp"]
      },
      {
        "hash": "4529b60bdebb6168c08b1d46873287dc7770981a",
        "msg": "loadbalancer: remove controller_host\n\ncontroller_host was deprecated and is not used anymore anywhere.\nLet's drop it.\nAlso make controller_hosts really required, by not setting a default\nparamter, so Puppet catalog will fail if no value is given.\n\nChange-Id: Iad760115f925e848e4b72009db5177f88ceb4ad8",
        "cmtr": "Emilien Macchi",
        "date": "2016-06-02 21:37:44+00:00",
        "files": ["haproxy.pp"]
      },
      {
        "hash": "ca2efb57616ec88b6028e2921c4f18e8a0b4ec14",
        "msg": "Remove tripleo::loadbalancer\n\nThe split has been done on both undercloud & overcloud, they now use\ntripleo::haproxy and tripleo::keepalived. We can move forward with\nremoving tripleo::loadbalancer and tripleo::loadbalancer::endpoint, not\nused anymore.\n\nSimplify tripleo::profile::base::loadbalancer to just include\ntripleo::haproxy and rely on Hiera for parameters.\n\nChange-Id: Ieeb1e94117ae9cb8b11320306de3a9b236bd989a",
        "cmtr": "Emilien Macchi",
        "date": "2016-06-02 22:23:07-04:00",
        "files": ["haproxy.pp", "loadbalancer.pp", "endpoint.pp", "loadbalancer.pp", "midonet.pp", "loadbalancer.pp"]
      },
      {
        "hash": "ae25581f40f8d9af6af89066f5dfc49b38a104a8",
        "msg": "Implement Nova base profile\n\nThis patch implements the base for Nova profiles.\nIt's a first iteration to deploy Nova using composable roles.\n\nImplements: blueprint refactor-puppet-manifests\nChange-Id: I8253e4b61484047948e222e68408e417d2787fb7",
        "cmtr": "Emilien Macchi",
        "date": "2016-06-04 03:43:12+00:00",
        "files": ["nova.pp", "nova.pp"]
      },
      {
        "hash": "b00862c9c5a2fd3455b1785b2e3335abc72ca3e4",
        "msg": "Implement Nova conductor profile\n\nCreate nova-conductor profile, part of composable services.\n\nImplements: blueprint refactor-puppet-manifests\nChange-Id: Iaaf3a3c2528d9747e41f360a1fe55f95ed37b2d1",
        "cmtr": "Emilien Macchi",
        "date": "2016-06-04 03:43:22+00:00",
        "files": ["conductor.pp", "conductor.pp"]
      },
      {
        "hash": "12bbcf49eaaad6ae83b1505909998e9ccafa8adc",
        "msg": "Deprecate loabalancer profiles\n\nDeprecate loadbalancer profiles so we have a profile for HAproxy and\nanother for keepalived.\n\nOnce THT uses the new profiles, we'll remove loadbalancer profiles here.\n\nChange-Id: I8aa9045fc80205485abab723968b26084f60bf71",
        "cmtr": "Emilien Macchi",
        "date": "2016-06-04 03:44:57+00:00",
        "files": ["haproxy.pp", "keepalived.pp", "loadbalancer.pp", "haproxy.pp", "loadbalancer.pp"]
      },
      {
        "hash": "f3c4e23c90ee73de2b4f8d682d5c14bf3266f18a",
        "msg": "Drop duplicate neutron pacemaker constraint\n\nDrop a duplicate keystone-to-neutron-server-constraint constraint\nfor the neutron server profile.\n\nChange-Id: I928f9f9f3cf665ac80696f66e1d64ceb02129b8e",
        "cmtr": "Dan Prince",
        "date": "2016-06-05 21:39:00-04:00",
        "files": ["server.pp"]
      },
      {
        "hash": "a764891ee33554be65916f8afeea81189b1139a6",
        "msg": "Include neutron in step 3\n\nneutron::server requires the neutron's init.pp to be ran beforehand\nbecause init.pp installs the 'neutron' package. Else the relationship\nwith neutron::policy will fail [1].So to address this, we move\nneutron's init.pp to be ran on step 3 if db_sync is enabled.\n\n[1] https://github.com/openstack/puppet-neutron/blob/master/manifests/server.pp#L498\n\nChange-Id: I8eb497c2b483e11d1f640a7ba9fae5a9d5bcef4d",
        "cmtr": "Dan Prince",
        "date": "2016-06-07 14:08:37-04:00",
        "files": ["neutron.pp", "neutron.pp"]
      },
      {
        "hash": "2f002bb0615a4ab8aa4954796a68936b0a4bdecb",
        "msg": "Remove loadbalancer profile\n\nWe don't need loadbalancer profile anymore, we now have haproxy &\nkeepalived profiles that replace it.\n\nChange-Id: I5bf57f88a85fa8180392e9dde7ab39f4eda63113",
        "cmtr": "Emilien Macchi",
        "date": "2016-06-07 19:40:56-04:00",
        "files": ["loadbalancer.pp", "haproxy.pp", "loadbalancer.pp"]
      },
      {
        "hash": "25b98a8dd92c048c35bc4f6aa6ddc396698eb7b7",
        "msg": "Enable bulk delete in swift for gnocchi\n\nCloses-bug: #1590495\n\nChange-Id: I912c09584d9b4cae530a247c91b6fd331943a8c5",
        "cmtr": "Pradeep Kilambi",
        "date": "2016-06-08 12:17:23-04:00",
        "files": ["proxy.pp"]
      },
      {
        "hash": "6554ebbeb5dd351fc7af71a3f0eb97eccaaaf5e4",
        "msg": "Make neutron server/ml2 profiles match t-h-t\n\nThis patch brings the neutron profiles and the\nassociated steps in line with what already happens in\nt-h-t. Specifically:\n\n -we want to create the db $step >= 2 and $sync_db\n -we want to make sure plugin.ini exists before the neutron dbsync\n -we want to make sure the db sync runs before neutron::server starts\n  when using pacemaker\n -split the neutron server profiles. They are quite different across\n  pacemaker and base.\n\nChange-Id: I52815f45a04bf3e39940b9cb116261730580a3e2",
        "cmtr": "Dan Prince",
        "date": "2016-06-09 10:43:31-04:00",
        "files": ["ml2.pp", "server.pp", "ml2.pp", "server.pp"]
      },
      {
        "hash": "e027fe09db24b7e09103f0947af28a869e61f2f6",
        "msg": "Add pacemaker nuage profile.\n\nThe pacemaker version of nuage has its DB sync at a different\nstep so we need a separate profile to ensure plugin.ini exists.\n\nChange-Id: Ia4a297008b259a8e238bd1ad511e82f4e5ab6d63",
        "cmtr": "Dan Prince",
        "date": "2016-06-09 15:41:44-04:00",
        "files": ["nuage.pp", "nuage.pp"]
      },
      {
        "hash": "f64cf77784a1015d558a30a17b38e0dd8cd8718c",
        "msg": "add plumgrid neutron profile\n\nChange-Id: I8536782d433f97a9b619e54a1eb1ea0edb8fdaf0\nImplements: blueprint refactor-puppet-manifests",
        "cmtr": "Dan Prince",
        "date": "2016-06-09 15:45:32-04:00",
        "files": ["plumgrid.pp", "plumgrid.pp"]
      },
      {
        "hash": "b1080692cd70326153b9492877a88a51a9b42c57",
        "msg": "Import ::nova class from THT\n\nImport ::nova class with memcached parameter computed from Hiera, that\nwas previously in THT, now in nova-base role.\n\nUse step 3 for ::nova since we need it for database resources.\n\nAlso make sure nova base profile is included for conductor role and any\nnova pacemaker role.\n\nChange-Id: I45244861082edae616f2b82334e7678cefa97bc7\nImplements: blueprint refactor-puppet-manifests",
        "cmtr": "Emilien Macchi",
        "date": "2016-06-09 22:03:40-04:00",
        "files": ["nova.pp", "conductor.pp", "nova.pp"]
      },
      {
        "hash": "b46cebf80a7bcf9833fdfbd23ee2ee7b41c66463",
        "msg": "Pacemaker: only create DB on pacemaker master\n\nThis fixes a bug introduced in 72fb6727951af2cf5b16e686b3a36f5f3a7c71c7\nwhere non-master nodes would try to create the database (and potentially\nfail due to a race).\n\nChange-Id: Ic0c7b05618b69caca0d4019b5153163f2405bbe5",
        "cmtr": "Dan Prince",
        "date": "2016-06-10 14:14:57-04:00",
        "files": ["server.pp"]
      },
      {
        "hash": "94b0f6352c3e8a258da37feb58c25704bf55380e",
        "msg": "Drop the neutron dnsmasq config file options\n\nDrop this because Mitaka neutron no longer requires\nconfiguration of the tenant MTU.\n\nDepends-On: I540ba5dc69d0506f71b59746efcce94c73f9317f\nChange-Id: I2afeb94e676aed952063abfcadee67bcc50eded9",
        "cmtr": "Dan Prince",
        "date": "2016-06-11 06:46:17-04:00",
        "files": ["dhcp.pp"]
      },
      {
        "hash": "30ed766ffdd7e19a4231c0b216ba7d0307fb326f",
        "msg": "Add mongodb profiles\n\nImplements: blueprint refactor-puppet-manifests\n\nCo-Authored-By: Carlos Camacho <ccamacho@redhat.com>\nCo-Authored-By: Juan Antonio Osorio Robles <jaosorior@redhat.com>\nChange-Id: Idb1e78ebec7682fe68ca5902a22cfb6030498091",
        "cmtr": "Carlos Camacho",
        "date": "2016-06-13 15:28:34+02:00",
        "files": ["mongodb.pp", "mongodbcommon.pp", "mongodb.pp", "mongodbvalidator.pp"]
      },
      {
        "hash": "1e601397e881bd8797a23aa074692a30d294ee48",
        "msg": "Implement Nova API profile\n\nChange-Id: I1dde63a5a7d1624494a7157a9679f88f4cb780e0\nImplements: blueprint refactor-puppet-manifests",
        "cmtr": "Juan Antonio Osorio Robles",
        "date": "2016-06-14 11:56:28+03:00",
        "files": ["api.pp", "api.pp"]
      },
      {
        "hash": "eb4e7d0912fe386afb1f94eca74dd5d03b7ec631",
        "msg": "Implement Nova Scheduler profile\n\nChange-Id: I5e1c90e3c6dc556f872ced73744c5c74caaa3635\nImplements: blueprint refactor-puppet-manifests",
        "cmtr": "Juan Antonio Osorio Robles",
        "date": "2016-06-14 11:56:28+03:00",
        "files": ["scheduler.pp", "scheduler.pp"]
      },
      {
        "hash": "f1a8f989287eac7c909d92b97c975c939599b1cd",
        "msg": "Implement Nova Consoleauth profile\n\nChange-Id: I955b4fc07dc07d8adc32411848e3e131d77a5123\nImplements: blueprint refactor-puppet-manifests",
        "cmtr": "Juan Antonio Osorio Robles",
        "date": "2016-06-14 11:56:28+03:00",
        "files": ["consoleauth.pp", "consoleauth.pp"]
      },
      {
        "hash": "b49002fd2a5eaccded22e003ebf9c455a37a32fd",
        "msg": "Implement Nova vncproxy profile\n\nChange-Id: I5bc2a77b5832706bd9167cf40e5a7e0f95d7b346\nImplements: blueprint refactor-puppet-manifests",
        "cmtr": "Juan Antonio Osorio Robles",
        "date": "2016-06-14 11:56:28+03:00",
        "files": ["vncproxy.pp", "vncproxy.pp"]
      },
      {
        "hash": "e65c0816d2f646274f047b5b62b27158cffd1355",
        "msg": "Implement Nova Compute profile\n\nImplements: blueprint refactor-puppet-manifests\nChange-Id: I57f729daf675674ce37b49e17652c575715fbe23",
        "cmtr": "Juan Antonio Osorio Robles",
        "date": "2016-06-14 11:56:28+03:00",
        "files": ["compute.pp"]
      },
      {
        "hash": "a14d2a554ef38c612cc8d744a289250e33ce3a1b",
        "msg": "Add base ironic profiles\n\nCo-Authored-By: Dmitry Tantsur <dtantsur@redhat.com>\nPartially-implements: blueprint ironic-integration\nChange-Id: I4831789b31cf5df1e61fe3ec05994156e0afc054",
        "cmtr": "Dmitry Tantsur",
        "date": "2016-06-15 13:03:05+02:00",
        "files": ["ironic.pp", "api.pp", "conductor.pp"]
      },
      {
        "hash": "9f23db6b2dd779e791c234f9f36dfaedae93e2ce",
        "msg": "nova/api: include ::nova::network::neutron\n\nIt was included in THT before, but it's now in nova/api role.\nIt will also be added in nova/compute role later.\n\nChange-Id: I6b5857d3d4740c0bf3f748719f30a05f1c62cb59",
        "cmtr": "Emilien Macchi",
        "date": "2016-06-16 22:16:07+00:00",
        "files": ["api.pp"]
      },
      {
        "hash": "b572e6a1eb0f18dd215cbc51507e499407b669bc",
        "msg": "Deploy nova::db classes in api profile\n\nMove nova::db classes from THT to puppet-tripleo in Nova API profile.\n\nImplements: blueprint refactor-puppet-manifests\nChange-Id: I4fc3cb822822adc1c58b2cfa2de8584a73fa6427",
        "cmtr": "Emilien Macchi",
        "date": "2016-06-17 21:29:12+00:00",
        "files": ["api.pp"]
      },
      {
        "hash": "3594a30a53cf48cf65cb2a04cabd1c11c51823c4",
        "msg": "Add puppet profile for snmp\n\nBreaks out the snmp configuration from t-h-t to a composable profile\n\nChange-Id: I7e6ab28a99b759594187e8571af6e22d836ae7bf\nPartially-Implements: blueprint refactor-puppet-manifests",
        "cmtr": "Emilien Macchi",
        "date": "2016-06-18 16:30:34+00:00",
        "files": ["snmp.pp"]
      },
      {
        "hash": "687b03b333d4a367ae476c0521473d9d24025d2d",
        "msg": "keystone: fix a race condition in bootstrap\n\nBefore, we had bootstrap_master set to 'undef' by default that was\nused to whether or not run keystone bootstrap exec during deployment.\n\nSetting the value to undef was a mistake, because enable_bootstrap in\npuppet-keystone is set to true by default, so bootstrap was running\non all controllers at step 4 for HA scenario, while we want it to run on\na single controller (pacemaker_master) at step 4, like we do for\ndb-sync.\n\nThis patch:\n\n* removes bootstrap_master.\n* re-use sync_db to whether or not run keystone bootstrap.\n  so it will only run on a single node when database is ready and\n  db-sync done (orchestration dones by anchors in puppet-keystone).\n\nChange-Id: I1042862f7c346d1c358b908c33eae0f33afd5e9f",
        "cmtr": "Emilien Macchi",
        "date": "2016-06-18 14:25:34-04:00",
        "files": ["keystone.pp", "keystone.pp"]
      },
      {
        "hash": "cfb077da78a93bf7112748976920d24d03002263",
        "msg": "Add ceilometer profiles\n\nImplements: blueprint refactor-puppet-manifests\n\nChange-Id: I4b5e93a108e80e91af26ffee454130ee18c0042e",
        "cmtr": "Emilien Macchi",
        "date": "2016-06-20 14:41:58-04:00",
        "files": ["ceilometer.pp", "central.pp", "compute.pp", "notification.pp", "api.pp", "collector.pp", "expirer.pp", "ceilometer.pp", "central.pp", "notification.pp", "api.pp", "collector.pp"]
      },
      {
        "hash": "f048dcb2f94d2e35fbbc1edac44a118df5be38fb",
        "msg": "Add Neutron opencontrail plugin profiles\n\nChange-Id: Ie5ac07e6dd447216f17481ea4acf3bc204926bc8",
        "cmtr": "Juan Antonio Osorio Robles",
        "date": "2016-06-21 08:52:04+00:00",
        "files": ["opencontrail.pp", "opencontrail.pp"]
      },
      {
        "hash": "27acd032b25736361263e71f33976aa9cf873d89",
        "msg": "Implement Libvirt profile\n\nDeploy bits when running nova-compute + libvirt.\n\nNote: some work will be done in puppet-nova to decouple nova-compute\nfrom libvirt in nova::compute::libvirt class.\n\nChange-Id: I754bfa89ba78a70b4b866598fb1163f4e14807c9\nImplements: blueprint refactor-puppet-manifests",
        "cmtr": "Emilien Macchi",
        "date": "2016-06-21 15:48:19+00:00",
        "files": ["compute.pp", "libvirt.pp"]
      },
      {
        "hash": "7c39de974cecb43849565e4b66722647531a468a",
        "msg": "Create libvirt micro-service\n\nCreate a new profile where we only manage Nova libvirt service.\n\nChange-Id: I2ff3cf6a31bc10aa46a089fcbfc654eda55e6ef8\nImplements: blueprint refactor-puppet-manifests\nDepends-On: Ib0d3111560af5af451e522c6dc3b3918d0463e7d",
        "cmtr": "Emilien Macchi",
        "date": "2016-06-21 17:08:22+00:00",
        "files": ["libvirt.pp", "libvirt.pp"]
      },
      {
        "hash": "c7a275154ab7d352f3001f4c9824cf4374ae99bd",
        "msg": "Add Ceph profiles\n\nAdd Ceph base, monitor, osd and client profiles. Does not add\npacemaker specific versions as ceph is not managed by pacemaker.\n\nChange-Id: Ie92b25a9c68a76b6d92abedef31e8039b16d9863",
        "cmtr": "Giulio Fidente",
        "date": "2016-06-22 09:49:17+00:00",
        "files": ["ceph.pp", "client.pp", "mon.pp", "osd.pp"]
      },
      {
        "hash": "48c88ad2a4bce6cf20a313d216d3298da297733e",
        "msg": "Split Heat pacemaker roles into separate services\n\nIn order for each service to operate independently when used with Pacemaker,\nthe roles needed to be separated.\n\nThis also drops all pacemaker constraints, as they do not make much sense\nin the composable realm.\n\nChange-Id: I3fa76562c13191884a53848ad5adcbc9f5a24f61",
        "cmtr": "Emilien Macchi",
        "date": "2016-06-22 11:59:49+00:00",
        "files": ["heat.pp", "api.pp", "api_cfn.pp", "api_cloudwatch.pp", "engine.pp"]
      },
      {
        "hash": "6ffa7e31213b226a3665e5d69a17157c679d8a30",
        "msg": "Add ironic inspector as a terminated HAProxy endpoint\n\nThis is needed for the undercloud, as it's in HAProxy where we make\nthe SSL terminations.\n\nChange-Id: Ie4d652b4e5a95849c2fa32a5ce5ecec09ccb6bd9\nRelated-Bug: #1595047",
        "cmtr": "Juan Antonio Osorio Robles",
        "date": "2016-06-22 16:35:51+03:00",
        "files": ["haproxy.pp"]
      },
      {
        "hash": "b88cf72bcdd5def32c64ea610432dd7ce5c78182",
        "msg": "Add puppet profile for swift storage\n\nBreaks out the swift storage configuration from t-h-t to a\ncomposable profile\n\nChange-Id: Ie68d7eccf4938bdbdea93327af0638b3fd002b3e\nPartially-Implements: blueprint refactor-puppet-manifests",
        "cmtr": "Giulio Fidente",
        "date": "2016-06-22 13:47:54+00:00",
        "files": ["storage.pp"]
      },
      {
        "hash": "80982c72fb8d1e7265cc36319492f659bbe3d5fb",
        "msg": "Move neutron ml2 plugins in plugins dir\n\nMove neutron ml2 plugins in plugins directory and make it compatible\nwith current THT.\n\nThe old class will be removed soon.\n\nChange-Id: I35332df5800083f3373f5c37411534d11e9b4401",
        "cmtr": "Emilien Macchi",
        "date": "2016-06-22 11:37:04-04:00",
        "files": ["ml2.pp", "ml2.pp", "ml2.pp", "ml2.pp"]
      },
      {
        "hash": "a8d17a42910178cfa71f491ef7cabe237fac7cf0",
        "msg": "SR-IOV nic agent changes in line with composable roles.\n\nimplements: blueprint tripleo-sriov\nChange-Id: I3385d831a339deec7d1315f74b501e76109db811",
        "cmtr": "Sanjay Upadhyay",
        "date": "2016-06-23 16:15:41+00:00",
        "files": ["sriov.pp"]
      },
      {
        "hash": "6cb9f63e6208e992fa8d2ac84706c81138df81fc",
        "msg": "Remove base/neutron/ml2.pp\n\nNot used anymore.\n\nChange-Id: Id3f943132fce235a5a4888da30332b8fc2434a78\nDepends-On: I6436c5c36ac0081a720cb8a737a573b1246127a1",
        "cmtr": "Emilien Macchi",
        "date": "2016-06-29 13:44:42+00:00",
        "files": ["ml2.pp", "ml2.pp"]
      },
      {
        "hash": "c444b36187faa504ae4d5b09eb22c97b3037e6dd",
        "msg": "neutron plugins: include neutron base\n\nneutron base is required by plugins to work correctly. Let's add it here\nso we don't have to deal with it in THT.\n\nChange-Id: Icaf6b0479297983220874d7ee9ea2c3336706332",
        "cmtr": "Emilien Macchi",
        "date": "2016-06-29 13:44:51+00:00",
        "files": ["ml2.pp", "nuage.pp", "opencontrail.pp", "plumgrid.pp"]
      },
      {
        "hash": "80d4af11d0fa3f30f831a2f269f00d2101ba4317",
        "msg": "Set manage_roles for all steps in Keystone/Pacemaker\n\nWe the base::keystone profile is trying to create users and roles\nbefore step 5, this change will set the a value for manage_roles\nfrom the pacemaker profile for all steps.\n\nChange-Id: I7aca8d6418988160641b29f9396a0fbe33b64e51",
        "cmtr": "Giulio Fidente",
        "date": "2016-06-29 15:52:05+02:00",
        "files": ["keystone.pp"]
      },
      {
        "hash": "08992689651cf5c36a6c66682db0dfdb8073c1ca",
        "msg": "neutron/plugins/ml2/bigswitch: do not require agent\n\nA change in puppet-neutron now makes sure what agent has\npython-networking-bigswitch package which was required on the agent, so\nwe don't need to load the plugin on the agent node anymore.\n\nChange-Id: Ibde20ddb74da10e6eb0637a9ae37a550d33c038f\nDepends-On: I651515b865802e59fa1234b87f82a0020e3bb9ca",
        "cmtr": "Emilien Macchi",
        "date": "2016-06-29 15:37:52+00:00",
        "files": ["ml2.pp"]
      },
      {
        "hash": "d8602d28c76ca63af3bbe358047b3d3d8624b356",
        "msg": "profile/nova/compute: add iscsi bits\n\nAdd iscsi bits allowing live migration.\n\nChange-Id: I495a7af4220f0b35e9fd0a6cfc146610d8f46d10",
        "cmtr": "Emilien Macchi",
        "date": "2016-06-29 15:38:58+00:00",
        "files": ["compute.pp"]
      },
      {
        "hash": "5a0d590ef0e707427f06feb5130d0360843e850b",
        "msg": "nova: manage migration bits in a composable way\n\nAllow to enable/disable migration bits from a single place, and select\nwhich services are running on a node.\nThe use case here is to allow container deployements where libvirt &\nnova-compute are separated.\nAlso support collocation for backward compatibility.\n\nChange-Id: I0b765f8cb08633005c1fc5a5a2a8e5658ff44302",
        "cmtr": "Emilien Macchi",
        "date": "2016-06-29 20:02:18+00:00",
        "files": ["nova.pp"]
      },
      {
        "hash": "0fc94f1266ea1b5aebb2a8eec1679135c23b97cd",
        "msg": "Nova API and Neutron server should run database creation in step 3\n\nWe perform the Galera setup in step 2 so there is no guarantee that the\ndatabase will be available in that same step [1].\n\nWe used to implement a dependency in puppet using the 'galera-ready'\nresource (clustercheck) but this is not possible with roles because we\nalso don't have any guarantee about clustercheck being installed on the\nsame node.\n\nBecause of the above all services must create/sync their databases\nin a later step. This patch fixes Nova API and Neutron Server, the other\nservices use step 3 already.\n\n1. https://github.com/openstack/tripleo-heat-templates/blob/master/puppet/services/README.rst\n\nChange-Id: I22750ffb64afbe40b5560a6a0d0dabc5b8927d32",
        "cmtr": "Giulio Fidente",
        "date": "2016-06-30 08:34:08+00:00",
        "files": ["server.pp", "api.pp", "server.pp"]
      },
      {
        "hash": "4a7a0d8879d94bacd985b7295210ac0480ea9a71",
        "msg": "Resolve duplicate base::ceilometer issues\n\nWe are seeing CI failures in Ia0a59121b9ffd5e07647f66137ce53870bc6b5d6\ndue to duplicate Tripleo::Profile::Base::Ceilometer.\n\nAlso, this patch gets the pacemaker_master variable out of the\n'base' tree.\n\nChange-Id: I2cf3362528235fcdeaef1491f86c05f4995938da",
        "cmtr": "Dan Prince",
        "date": "2016-06-30 07:29:04-04:00",
        "files": ["ceilometer.pp", "collector.pp"]
      },
      {
        "hash": "8f2176839cb204967a983239097e2654b64cb600",
        "msg": "nova/compute: add NFS bits\n\nDeploy NFS bits that were in THT before.\n\nChange-Id: I75d68cc766ad274b16b22f43b7d34d02ab26de13",
        "cmtr": "Emilien Macchi",
        "date": "2016-06-30 13:44:43+00:00",
        "files": ["compute.pp"]
      },
      {
        "hash": "230ae767d6debd5464dc317934b0e786de83b1be",
        "msg": "Support deprecated enable_ceph_storage boolean\n\nThis was missing in the initial revision of the Ceph modules but we\nwant to support usage of the old parameter for a cycle.\n\nChange-Id: I7ac096feb9f5655003becd79d2eea355a047c90b",
        "cmtr": "Giulio Fidente",
        "date": "2016-07-01 14:52:40+02:00",
        "files": ["ceph.pp"]
      },
      {
        "hash": "80f8b6442f9eb6c47db1433285b4d102d02bf673",
        "msg": "Default ceph_osd_selinux_permissive to false\n\nWe don't set selinux in 'permissive' mode by default anymore.\n\nChange-Id: I1aa46086f69e7c3efd2782da62fd18ade8343fde\nPartial-Bug: 1595518",
        "cmtr": "Giulio Fidente",
        "date": "2016-07-01 13:15:04+00:00",
        "files": ["osd.pp"]
      },
      {
        "hash": "05a2b8820111ba05c3b5e1fe0d6df0c7162a1fc8",
        "msg": "Replace reference to cinder:: parameter with nova:: parameter\n\nChanges a reference to a cinder:: parameter into the nova compute\nclass to a nova:: parameter, which makes sure we're not trying\nto access \"out of bound\" parameters.\n\nChange-Id: I871ef420700e6d0ee5c1e444e019d58b3a9a45a6",
        "cmtr": "Giulio Fidente",
        "date": "2016-07-01 19:38:54+02:00",
        "files": ["libvirt.pp"]
      },
      {
        "hash": "476ee9b1a1de80101c29b09ea4ddff916e2f721e",
        "msg": "Set bootstrap_nodeid to undef by default\n\nbootstrap_nodeid is a parameter looked-up with Hiera but only set on\ncontrollers. With the transition to composable roles, we don't need to\nset this parameter on compute nodes, so let's just default this value by\nundef so we can deploy Neutron classes on compute nodes.\n\nChange-Id: I94034f696c163969a7489d9cb0a20423210d3b84",
        "cmtr": "Emilien Macchi",
        "date": "2016-07-02 14:37:27-04:00",
        "files": ["neutron.pp", "dhcp.pp", "l3.pp", "metadata.pp", "midonet.pp", "ovs.pp", "ml2.pp", "nuage.pp", "opencontrail.pp", "plumgrid.pp", "server.pp"]
      },
      {
        "hash": "31c00a9f3d3c1eff899cfa00a9cad1e9c07f3e47",
        "msg": "nova: do not manage nova-compute with pacemaker\n\nIn the case where all services are installed on the same node\n(All-In-One), we don't want Pacemaker to manage nova-compute. This patch\nmakes the Nova service more specific for overriding start/stop/restart\nactions, to be applied only for services that usually run on\ncontrollers.\n\nChange-Id: I81a86331cff4e7988e035ada82834a45a6bb99c1",
        "cmtr": "Emilien Macchi",
        "date": "2016-07-04 14:24:22-04:00",
        "files": ["nova.pp", "api.pp", "conductor.pp", "consoleauth.pp", "scheduler.pp", "vncproxy.pp"]
      },
      {
        "hash": "fab41b2efea4ac35847c5e3bbdd1f3edbff17488",
        "msg": "Create kernel profile\n\nIt will load and configure kernel modules.\n\nChange-Id: If4f1047ff8c193a14b821d8b826f637872cf62bd",
        "cmtr": "Emilien Macchi",
        "date": "2016-07-05 08:20:44-04:00",
        "files": ["kernel.pp"]
      },
      {
        "hash": "e6a9b6fbc0fbd4ac3970f401c8b0d2ee524c8894",
        "msg": "Add gnocchi profiles\n\nImplements: blueprint refactor-puppet-manifests\n\nCo-Authored-By: Carlos Camacho <ccamacho@redhat.com>\nCo-Authored-By: Juan Antonio Osorio Robles <jaosorior@redhat.com>\n\nChange-Id: I38f218da118c45f3af1938eb17298017f4c70e24",
        "cmtr": "Pradeep Kilambi",
        "date": "2016-07-05 14:10:42-04:00",
        "files": ["gnocchi.pp", "api.pp", "metricd.pp", "statsd.pp", "gnocchi.pp", "api.pp", "metricd.pp", "statsd.pp"]
      },
      {
        "hash": "e5998957e285c064894582560cb51cd3bf561636",
        "msg": "Opencontrail vrouter profile\n\nA new opencontrail helper profile to run the vrouter. Will be\nincluded on nodes where VMs will run like compute, etc.\n\nChange-Id: I23b6e69ff75202e88722ca4f7d15a246abcd0453",
        "cmtr": "Dan Prince",
        "date": "2016-07-06 10:46:36-04:00",
        "files": ["vrouter.pp"]
      },
      {
        "hash": "71f2a53cb9e1385b22e3a47524fcc5531743ec90",
        "msg": "deploy composable firewall rules for HAproxy\n\nDeploy composable iptables rules for HAproxy.\nNote: we can't use Hiera here because we have some logic in\npuppet-tripelo that select the services that we actually deploy.\nUsing this code in the Define will easily create IPtables rules that we\nactually need. Some other services will be able to create IPtables rules\nin Hiera (in THT), but not HAproxy now.\n\nChange-Id: If03b18992c68461e97789c0318078a0b243c84fe",
        "cmtr": "Emilien Macchi",
        "date": "2016-07-06 15:28:53-04:00",
        "files": ["endpoint.pp"]
      },
      {
        "hash": "de735343165f0a7b3d0f63eb952b4b1756621d3e",
        "msg": "make sure we start nova-compute after nova-conductor\n\nWhen nova-compute and nova-conductor are collocated, we need to make\nsure nova-conductor starts before nova-compute otherwise nova-compute\nwill just fail to start.\n\nChange-Id: Icc3ed768af2a08e2db78d9c9278d309a62d26850",
        "cmtr": "Emilien Macchi",
        "date": "2016-07-06 22:47:30-04:00",
        "files": ["compute.pp", "conductor.pp"]
      },
      {
        "hash": "0f5f8f09296621036dc84e409aa4fda5649bb052",
        "msg": "Fix Ceilometer profiles\n\n* Configure ceilometer to default mongodb backend.\n* remove useless sync_db parameter in pacemaker class.\n* Remove duplicated resource for ceilometer central agent service with\n  pcmk.\n* Remove pacemaker delay resource dependency, the resource does not\n  exist anymore.\n\nChange-Id: Ie337bfe770c5b22158dc307eb36e39c2b93b95a9",
        "cmtr": "Emilien Macchi",
        "date": "2016-07-06 22:50:49-04:00",
        "files": ["ceilometer.pp", "collector.pp", "ceilometer.pp", "api.pp"]
      },
      {
        "hash": "187cd52b04d3bfcb3c24bd6774fac4494a279997",
        "msg": "Split Sahara pacemaker roles into separate services\n\nIn order for each service to operate independently when used with Pacemaker,\nthe roles needed to be separated.\n\nThis also drops all pacemaker constraints, as they do not make much sense\nin the composable realm.\n\nChange-Id: Id61eb15b1e2366f5b73c6e7d47941651e40651b1\nPartial-Bug: #1592284",
        "cmtr": "Brad P. Crochet",
        "date": "2016-07-08 08:22:38-04:00",
        "files": ["api.pp", "engine.pp", "sahara.pp", "api.pp", "engine.pp"]
      },
      {
        "hash": "93c5d6103f9d4c12cd401d30b2408a8532c94922",
        "msg": "Use include for base neutron profile\n\nSimplify the base neutron profile so that we always include\nthe neutron and neutron::config classes at step 3. In doing so\nwe can now simplify the pacemaker version to use a simple include\nwhich will avoid duplicate class errors.\n\nChange-Id: I95b9188607ab6c599ad4cde6faa1deb081618f3e",
        "cmtr": "Dan Prince",
        "date": "2016-07-08 09:07:27-04:00",
        "files": ["neutron.pp", "neutron.pp"]
      },
      {
        "hash": "2454ca34f60c3712e5ae714aa69a19c75104c35d",
        "msg": "Add new midonet_agent profile.\n\nWe include this from the midonet profile (which is for the controller).\nAgent will also get used on compute nodes as well.\n\nChange-Id: I2393fc3c360f5f5786411f64dbcd06f380376093",
        "cmtr": "Emilien Macchi",
        "date": "2016-07-08 14:43:30+00:00",
        "files": ["midonet.pp", "midonet.pp"]
      },
      {
        "hash": "cec7d00ea95a881ab8d60b275a181baee00ce6f1",
        "msg": "Add new nuage agent profile.\n\nThe Nuage agent will also get used on compute nodes.\n\nChange-Id: Ic842ebdc183918ec9a24f83ae39adfba27bc799c",
        "cmtr": "Emilien Macchi",
        "date": "2016-07-08 14:45:30+00:00",
        "files": ["nuage.pp"]
      },
      {
        "hash": "443ea32a1128ccefed69802e0c8e47bf5092b7c6",
        "msg": "Configure Ceph/OSD after Ceph/Mon when on same node\n\nWhen both the Ceph Monitor and OSD roles are deployed on the same\nnode, we need the OSD configuration to happen *after* the Monitor\nconfiguration is finished.\n\nChange-Id: Id2ea099a0aaba344004870e82108da288cba2cb7",
        "cmtr": "Giulio Fidente",
        "date": "2016-07-11 12:13:50+02:00",
        "files": ["osd.pp"]
      },
      {
        "hash": "a96c8f81fe1cb52baaccd500921ca06a43364d38",
        "msg": "Composable Horizon service - puppet-tripleo\n\nChange-Id: Iff6508972edfd5f330b239719bc5eb14d3f71944\nImplements: blueprint refactor-puppet-manifests",
        "cmtr": "Carlos Camacho",
        "date": "2016-07-11 23:02:18+02:00",
        "files": ["horizon.pp"]
      },
      {
        "hash": "2c74f1d3655dee5b4e62fa6f4d31fc0e2b28ee5f",
        "msg": "Move gnocchi clustercheck to step 2\n\nAs not having guarantee of being installed on same node, the dbsync\nwill be on step 3 and the clustercheck on 2.\n\nChange-Id: Id728aae79442c45ab48fe0914c065f1807e8890d",
        "cmtr": "Carlos Camacho",
        "date": "2016-07-12 17:26:49+02:00",
        "files": ["gnocchi.pp"]
      },
      {
        "hash": "6951d1f83c0ede2580177e9e6d6a9787156539b2",
        "msg": "Implement Pacemaker service profile\n\nChange-Id: I46215f82480854b5e04aef1ac1609dd99455181b\nCloses-Bug: #1601970",
        "cmtr": "Emilien Macchi",
        "date": "2016-07-12 17:38:08+00:00",
        "files": ["pacemaker.pp"]
      },
      {
        "hash": "30b76ab78fcaa202022b604fe71bf51a8cf7ca36",
        "msg": "Add base certmonger class\n\nThis base class just executes the main certmonger include (which gets\nthe package and starts the service) and configures the global CA, as\nwell as some options for the certificates that it will be issuing.\n\nbp tls-via-certmonger\n\nChange-Id: Ib748946130209bf9ccf6670b6f3fbbe0424400ec",
        "cmtr": "Juan Antonio Osorio Robles",
        "date": "2016-07-13 12:21:23+03:00",
        "files": ["certmonger.pp"]
      },
      {
        "hash": "d8cb7b8603db97c7d77a7d8b9c9cbf83c7f7f024",
        "msg": "Add resource for requesting certificates for HAProxy\n\nThis resource will be used in both the overcloud and the undercloud,\nand can be called in several instances (for public-facing or\ninternal-facing certificates).\n\nbp tls-via-certmonger\n\nChange-Id: I0410fe0dbbed97d16909e911f7318d78a5bd7d7b",
        "cmtr": "Juan Antonio Osorio Robles",
        "date": "2016-07-13 13:33:07+03:00",
        "files": ["haproxy.pp"]
      },
      {
        "hash": "e74fa175564c8f27837a40398fff401b38898175",
        "msg": "Add MySQL profiles\n\nAdd MySQL profiles, for non-ha and ha scenarios.\n\nChange-Id: I7ddae28a6affd55c5bffc15d72226a18c708850e\nCloses-Bug: #1601853",
        "cmtr": "Emilien Macchi",
        "date": "2016-07-13 14:17:37-04:00",
        "files": ["mysql.pp", "mysql.pp"]
      },
      {
        "hash": "2adcce7e4bca8b9f208eafd0ca03b120e41af724",
        "msg": "Add swift ringbuilder profile\n\nI think this will need refinement in future, but for now this is\njust a copy of what we have in t-h-t\n\nChange-Id: I427f0b5ee93a0870d43419009178e0690ac66bd6\nPartially-Implements: blueprint refactor-puppet-manifests",
        "cmtr": "Steven Hardy",
        "date": "2016-07-14 16:19:21+01:00",
        "files": ["add_devices.pp", "ringbuilder.pp"]
      },
      {
        "hash": "327effce2a50e4761efbfcce80713f3b22e3e3cb",
        "msg": "Add Mistral profiles\n\nAdd Mistral profiles for non-ha and ha scenarios\n\nChange-Id: I1a072326091fd3b0c21d2f78041e3532b67c60eb\nImplements: blueprint refactor-puppet-manifests\nDepends-On: I6ce61054384c15876c498ba8cf582f88d9f7f54c",
        "cmtr": "Carlos Camacho",
        "date": "2016-07-14 17:32:57+00:00",
        "files": ["haproxy.pp", "mistral.pp", "api.pp", "engine.pp", "executor.pp"]
      },
      {
        "hash": "507e3c696fbe69e806422b2c462857bdd0da6836",
        "msg": "openstack-core resource does not have interleave=true\n\nThe dummy openstack-core resource was meant to replace keystone so that\nrestarting keystone would not restart the whole cloud. When this\nresource was introduced the paramter interleave=true was mistakenly left\nout.\n\nThis causes a simple promote operation on the galera resource to restart\nopenstack-core and its children.\n\nChange-Id: Ic590005a9419be87e6e6ea131b0ac0630c5afc19\nCloses-Bug: 1603381",
        "cmtr": "Michele Baldessari",
        "date": "2016-07-15 14:07:54+02:00",
        "files": ["pacemaker.pp"]
      },
      {
        "hash": "97afe7df8acb9bd375ec6147d68f994493263736",
        "msg": "nova/api: purge archive_deleted_rows via cron\n\nThe code was in THT before but now in the Nova API profile.\n\nChange-Id: I7035f7998c11dc5508dae8c1a750b93c2944b2d4",
        "cmtr": "Emilien Macchi",
        "date": "2016-07-18 10:23:34-04:00",
        "files": ["api.pp"]
      },
      {
        "hash": "b05e8debde9ae61ab1baadd4bf23f532b29a9a5f",
        "msg": "Add principal to certmonger's haproxy helper\n\nThe principal is needed for kerberos-based solutions like FreeIPA.\n\nbp tls-via-certmonger\n\nChange-Id: Ie27848f522d11135b061aef766de2b696c77fcb9",
        "cmtr": "Juan Antonio Osorio Robles",
        "date": "2016-07-18 18:00:14+03:00",
        "files": ["haproxy.pp"]
      },
      {
        "hash": "5927148c4b5813180204c2983b5c95b69a2ad265",
        "msg": "Make ::tripleo::profile::base classes work with multiple nodes\n\nIn the Next Generation HA architecture a number of active/active services\nwill be run via systemd. In order for this to work we need to make sure that\nthe sync_db operation only takes place on the bootstrap node, just like it is\ndone today for the pacemaker profiles.\n\nWe do this by removing sync_db as a parameter and instead set it to true\nor false depending if the hostname matches the bootstrap_node as it is done\ntoday in the pacemaker role.\n\nNote that we call hiera('bootstrap_nodeid', undef) because if a profile\nis included on a non controller node that variable will be undefined.\n\nThe following testing was done:\n- HA puppet-pacemaker.yaml scenario with three computes\n- NonHA with one controller\n- NonHA with three controllers\n\nFixes-Bug: 1600149\n\nCo-Author: cmsj@tenshu.net\n\nChange-Id: I04a7b9e3c18627ea512000a34357acb7f27d6e0e\nImplements: blueprint ha-lightweight-architecture",
        "cmtr": "Michele Baldessari",
        "date": "2016-07-18 21:45:25+02:00",
        "files": ["collector.pp", "api.pp", "registry.pp", "api.pp", "engine.pp", "ironic.pp", "keystone.pp", "scheduler.pp", "neutron.pp", "ml2.pp", "nuage.pp", "opencontrail.pp", "plumgrid.pp", "server.pp", "api.pp", "engine.pp", "api.pp", "collector.pp", "api.pp", "glance.pp", "api.pp", "engine.pp", "keystone.pp", "ml2.pp", "nuage.pp", "opencontrail.pp", "plumgrid.pp", "api.pp", "engine.pp"]
      },
      {
        "hash": "88ac50880e208cc0b6fca16f0b325b4a0c86a3dd",
        "msg": "Only sync the gnocchi db on the pacemaker master\n\nThe gnocchi db sync is being run from multiple controllers causing errors in\nCI. See the bug for more details.\n\nChange-Id: I67a15dc83a754fb6f5fe25c64ae9e7d29c58fcec\nCloses-Bug: #1604624",
        "cmtr": "James Slagle",
        "date": "2016-07-19 22:13:32-04:00",
        "files": ["gnocchi.pp"]
      },
      {
        "hash": "fa4c306485338e7ed95fabbb5d9839cda59e93df",
        "msg": "Fix Ironic dbsync ordering\n\nIncluding ::ironic runs ironic-dbsync by default, so we end up with\nironic-dbsync run before the database is created. This patch fixes it.\n\nChange-Id: I6fef1de18e52b68caaf4cbd55c0408b98b5c26e0\nPartially-Implements: blueprint ironic-integration",
        "cmtr": "Dmitry Tantsur",
        "date": "2016-07-20 12:05:51+02:00",
        "files": ["ironic.pp"]
      },
      {
        "hash": "c238637714b35ec008b893d9ee4bcffc7866a5b6",
        "msg": "Add base nova-ironic profile\n\nConfigures a nova-compute instance to use Ironic.\n\nChange-Id: I4f817aba542cfaa386b3c0617feae90c61579b43\nPartially-Implements: blueprint ironic-integration",
        "cmtr": "Dmitry Tantsur",
        "date": "2016-07-20 12:06:57+02:00",
        "files": ["ironic.pp"]
      },
      {
        "hash": "a675e69cf7a59654ecec5a0d55619d6044973c03",
        "msg": "Ensure the Heat Domain parameters before starting heat-engine pcmk service\n\nHeat needs stack_user_domain_id or stack_user_domain_name config\noptions set in the heat.conf before starting. The domain itself\ndoesn't need to exist until a stack is actually created, but the\nvalue needs to be there. This patch ensures that the heat domain\nparameters are configured before starting the heat-engine service\nwith Pacemaker at step3 and 4, and at step5, Pacemaker will start\nthe services and Puppet will create the domains.\n(note: commit message copied from\nhttps://review.openstack.org/#/c/331652/ to mitaka tht, which came\nfirst)\n\nChange-Id: I58fa53357265c1607d2df1b04cc2296083212ab7\nCloses-Bug: 1599232",
        "cmtr": "Gael Chamoulaud",
        "date": "2016-07-20 16:23:59+02:00",
        "files": ["heat.pp"]
      },
      {
        "hash": "a2728596c036029d91bcd76c1f36272b138c5b87",
        "msg": "Add base constraint so gnocchi metricd is tied to core-clone\n\nCurrently if we manually restart the cluster saometimes gnocchi statsd\ndoesnt comeup as galera is not up yet. This should tie the metrics to\ncore and follow the order.\n\nCloses-bug: #1604860\n\nChange-Id: I5ec29622938336410b91785ca49b410bcdd30cdd",
        "cmtr": "Pradeep Kilambi",
        "date": "2016-07-20 15:11:09+00:00",
        "files": ["gnocchi.pp"]
      },
      {
        "hash": "7b8a1092e113d6352cb9a4c172d1d6e9cad21292",
        "msg": "Implement Apache pacemaker profile\n\nDeploy Apache with Pacemaker in a new profile.\n\nChange-Id: I9ae6cee2bfb0f8974d41d700454cfde2df06c2d1",
        "cmtr": "Emilien Macchi",
        "date": "2016-07-20 16:02:13-04:00",
        "files": ["apache.pp", "keystone.pp"]
      },
      {
        "hash": "a8669bade4c24204cf8c99e6436689ef5cd386ab",
        "msg": "Include gnocchi config on non-bootstrap nodes\n\nChange I67a15dc83a754fb6f5fe25c64ae9e7d29c58fcec removed the\ngnocchi configuration completely from non-bootstrap nodes.  This\nchanges it so the configuration is included on all nodes, but the\ndb sync is only included on bootstrap.\n\nChange-Id: If402becc900c175f5b3bb95c3413276e5a04b4f7\nCloses-Bug: 1604708",
        "cmtr": "Ben Nemec",
        "date": "2016-07-20 20:22:47+00:00",
        "files": ["gnocchi.pp"]
      },
      {
        "hash": "59166f799be03720f35da1a168e93b4d542f7c48",
        "msg": "Add class to use certmonger's local CA\n\nThis class extracts the certificate and adds it to the trusted certs.\n\nbp tls-via-certmonger\n\nChange-Id: I6dc1e0469cd7dbbb51659c8f29975d25b2941ec3",
        "cmtr": "Juan Antonio Osorio Robles",
        "date": "2016-07-21 10:43:52+03:00",
        "files": ["local.pp"]
      },
      {
        "hash": "a72299d96cfb01b0473f702af8d4eb49fa875e96",
        "msg": "Remove unused redis_vip parameter\n\nChange-Id: I6ba962c682dc2ab8c6ee5238e0c176d9ae05d696",
        "cmtr": "Giulio Fidente",
        "date": "2016-07-21 11:36:58+02:00",
        "files": ["redis.pp"]
      },
      {
        "hash": "c1983a6da29b7ad5c5efbe9219f765bcc919969b",
        "msg": "Deploy Keystone and Gnocchi API with new Apache profile\n\nDeploy Keystone and Gnocchi API with the new Apache/Pacemaker profile.\n\nChange-Id: Id28c618133e53e28dfac7e3e9cf9f5f5a6b2421a",
        "cmtr": "Emilien Macchi",
        "date": "2016-07-21 13:39:12+00:00",
        "files": ["api.pp", "keystone.pp"]
      },
      {
        "hash": "5881826559a01b987348b273877e4ebc1e748d22",
        "msg": "Add firewall::service_rules define\n\nThis patch updates the tripleo::firewall class so that it will\nsupport loading firewall rules defined in composable services\nvia the following hiera keys (for nova-api for example):\n\n  tripleo.nova_api.firewall_rules\n\nThis patch relies on a new 'service_names' hiera array that should be\nprovided on all TripleO overcloud nodes.\n\nDepends-On: I60861c5aa760534db3e314bba16a13b90ea72f0c\nChange-Id: Id370362ab57347b75b1ab25afda877885b047263",
        "cmtr": "Emilien Macchi",
        "date": "2016-07-21 17:35:13+00:00",
        "files": ["firewall.pp", "service_rules.pp"]
      },
      {
        "hash": "4a88abb84422ffd871ac34d108cbb547d7343e4d",
        "msg": "Generate HAProxy certificates in base profile\n\nThis gives the option to generate the service certificate(s) that\nHAProxy will use. This will be used for both the overcloud and the\nundercloud.\n\nbp tls-via-certmonger\n\nChange-Id: I3d0b729d0bad5252c1ae8852109c3a70c0c6ba7d",
        "cmtr": "Juan Antonio Osorio Robles",
        "date": "2016-07-22 11:37:57+03:00",
        "files": ["haproxy.pp"]
      },
      {
        "hash": "95b432e9bc6295ed9f544db6077143c2f0660165",
        "msg": "use parameter to lookup the step instead of hiera again\n\nIn some profiles, we were looking up the $step by using Hiera\nagain, while we already do it in the parameter definition.\nWhen using this class outside THT, it will fail but with this patch, we\ncould use just set the $step parameter and the rest of the manifest will\nwork.\n\nChange-Id: I7082f47204fb4e529b164e4c4f1032e7bdd88f02",
        "cmtr": "Emilien Macchi",
        "date": "2016-07-22 09:02:13-04:00",
        "files": ["mysql.pp", "heat.pp", "pacemaker.pp", "mysql.pp"]
      },
      {
        "hash": "493b77ab08dc6fda0263b0f54ba67682d3e4e252",
        "msg": "Implement tripleo::network::os_net_config class\n\nThis class will be used on the undercloud to deploy os_net_config.\n\nChange-Id: I507c237a35250b660b37ea8cfc4e8e7f97ae21e2",
        "cmtr": "Emilien Macchi",
        "date": "2016-07-22 12:46:04-04:00",
        "files": ["os_net_config.pp"]
      },
      {
        "hash": "0ef28cef1f1d97b89ad45c878c0c523c44a32f45",
        "msg": "profile/base/nova: declare nova class and configure cache correctly.\n\nNova {} workaround is not working correctly, we need to merge this patch\nso we can move out ::nova from THT completely.\n\nAlso we need to use nova::cache to configure memcached parameters.\n\nCo-Authorized-By: Giulio Fidente <gfidente@redhat.com>\nCo-Authorized-By: Sven Anderson <sven@redhat.com>\nCo-Authorized-By: Emilien Macchi <emilien@redhat.com>\n\nDepends-On: I52d5badb9960124bb8fcb54983db2853c4185e77\nDepends-On: I3e400a5f64b85f0d374fc02cc5e4080d19d0f2e4\nDepends-On: Iee5f8015cbf40ca0e9a435a7de919ebdb74cf93f\n\nChange-Id: Ie4e72e765f6a8ade48d4b2b766f067872554d1a2",
        "cmtr": "Emilien Macchi",
        "date": "2016-07-27 19:33:53+00:00",
        "files": ["nova.pp", "nova.pp"]
      },
      {
        "hash": "afc67e23700cfe19f6b0f399a87ebea767590b41",
        "msg": "Create role for the fake openstack-core resource\n\nChange-Id: I74a62973146c0261385ecf5fd3d06db51e079caa",
        "cmtr": "Michele Baldessari",
        "date": "2016-07-27 22:48:26+02:00",
        "files": ["core.pp"]
      },
      {
        "hash": "7a4ac41ec499867a38a9078eea356b9912fbf3c0",
        "msg": "Remove global openstack-core resource\n\nThe openstack-core resource is not needed by the NG Pacemaker\narchitecture. It was moved into an isolated role by [1] so that\nit could optionally be enabled when wanting the older architecture.\n\nThis submission removes the old openstack-core global resource.\n\n1. I74a62973146c0261385ecf5fd3d06db51e079caa\n\nChange-Id: I16a786ce167c57848551c7245f4344c382c55b3d",
        "cmtr": "Michele Baldessari",
        "date": "2016-07-27 22:49:05+02:00",
        "files": ["pacemaker.pp", "mysql.pp"]
      },
      {
        "hash": "a93d22f45a24a16b253f6842a087d850763926eb",
        "msg": "Move nova constraints from controller manifest to each service\n\nCurrently we are still creating all the pacemaker constraints for nova\nin the main overcloud_controller_pacemaker.pp manifest file.\n\nLet's move those to each role where they belong. Note that given\nthat a constraint depends on two separate pacemaker resources it is\na bit arbitrary in which file they end up being (the one of the first\nresource or the second one).\n\nChange-Id: I96a3a313d15fac820b020feae0568437c2cbade3",
        "cmtr": "Michele Baldessari",
        "date": "2016-07-27 22:49:40+02:00",
        "files": ["api.pp", "conductor.pp", "consoleauth.pp"]
      },
      {
        "hash": "0bc4c11c671f669feb1be1f5b58994e534f5dd35",
        "msg": "Move constraints to their respective services\n\nThe openstack-core-then-httpd constraint needs to live in the apache\npacemaker manifest and not in the main controller manifest file.\nThe same goes for those specific vsm/cisco neutron resources.\n\nChange-Id: I2041d4d163f051427b62eec07b8345ad7006cc1d",
        "cmtr": "Michele Baldessari",
        "date": "2016-07-29 13:37:16+02:00",
        "files": ["apache.pp", "neutron.pp"]
      },
      {
        "hash": "70494971e6a647fe6fc16b6660291133aa939bbb",
        "msg": "Run local CA trust before haproxy deployment\n\nBefore haproxy tries to use the TLS certificates it should already\ntrust the CA. So it's necessary for the local CA-related manifest to\nnotify the ::tripleo::haproxy class.\n\nThis works for newly set deployments. deployments that have already\nran the ca-trust section will already trust the CA and thus won't\nneed that part.\n\nChange-Id: I32ded4e33abffd51f220fb8a7dc6263aace72acd",
        "cmtr": "Juan Antonio Osorio Robles",
        "date": "2016-08-01 11:45:33+03:00",
        "files": ["haproxy.pp"]
      },
      {
        "hash": "cb44295956024e6423d00ea174ba4ef6dbffc630",
        "msg": "New composable service: FluentD\n\nChange-Id: I278dfee01ed24713dec29aae55d2c7bdcb7e74bc",
        "cmtr": "Martin Mgr",
        "date": "2016-08-01 12:36:19+02:00",
        "files": ["fluentd.pp"]
      },
      {
        "hash": "c79e5c9a066d7e1a729572dd275b2a3d91b867bc",
        "msg": "Next generation HA architecture work\n\nThis change moves the cinder-volume/cinder-scheduler constraints in the\ncinder-scheduler profile as these can't be applied by the cinder-volume\nservice when cinder-scheduler isn't managed by Pacemaker.\n\nBlueprint:\nhttps://blueprints.launchpad.net/tripleo/+spec/ha-lightweight-architecture\n\nChange-Id: I5e7585c08675d8a4bd071523b94210d325d79b59\nImplements: blueprint ha-lightweight-architecture\nCo-Author: cmsj@tenshu.net",
        "cmtr": "Michele Baldessari",
        "date": "2016-08-01 22:49:33+02:00",
        "files": ["scheduler.pp", "volume.pp"]
      },
      {
        "hash": "cc15f15673595ea12819e8aa73b322339b0379b4",
        "msg": "Remove unnecessary certmonger manifest\n\nThe original intent of this manifest was to set the defaults for the\nCA and some other values when requesting certificates via certmonger.\nHowever, this approach doesn't work and in the undercloud we ended up\ndoing this via hieradata instead. So this file is not used.\n\nChange-Id: I552d504091acc0d5588e30d14bc2fc85d7b7ecea",
        "cmtr": "Juan Antonio Osorio Robles",
        "date": "2016-08-02 09:04:31+03:00",
        "files": ["certmonger.pp"]
      },
      {
        "hash": "2d4e733013deafc733d6e16bc048e520f7a18eaa",
        "msg": "Fixup nit in manila pacemaker profile, duplicate variable\n\nSee discussion at https://review.openstack.org/#/c/342961/8\n\nChange-Id: I571b65a5402c1028418476a573ebeb9450ed00c9",
        "cmtr": "marios",
        "date": "2016-08-02 17:04:03+03:00",
        "files": ["manila.pp"]
      },
      {
        "hash": "c46bbb5e572cc60101d3860ed8be93de3019ba4d",
        "msg": "Remove unused parameter in sahara\n\nRemove unused parameter in sahara\n\nChange-Id: I46c033b410ab850289b798ee93990b6fb10c80ea",
        "cmtr": "Carlos Camacho",
        "date": "2016-08-03 17:40:54+02:00",
        "files": ["sahara.pp"]
      },
      {
        "hash": "6121afcc41fc6e18e39525a0ef24c8349e14f183",
        "msg": "Fix mistral profile steps\n\nFixing Mistral profile\nwhen deploying the service.\n\nChange-Id: I942d419be951651e305d01460f394870c30a9878",
        "cmtr": "Carlos Camacho",
        "date": "2016-08-03 18:28:04+02:00",
        "files": ["mistral.pp", "api.pp", "engine.pp", "executor.pp"]
      },
      {
        "hash": "03b0d2093b28db0b335e82fd17af9712447a16dc",
        "msg": "Allow use of raw disks for Swift storage role\n\nAdds a call to swift::storage::disks to make it partition additional\ndisks to use with Swift.\n\nDepends-On: I3692b17988f8eacb7b8a7df1006a7fe24f587065\nChange-Id: Iac75cf2244339fae444be5859b7583e80bafc4e2",
        "cmtr": "Giulio Fidente",
        "date": "2016-08-04 00:17:30+02:00",
        "files": ["storage.pp"]
      },
      {
        "hash": "64df5d7449e5f7c40ebb8c539e4a6ed07b613e20",
        "msg": "Implement aodh profiles\n\nChange-Id: Ie48a123cc5bc402aee635a5daf118b158c6f3b6a\nImplements: blueprint refactor-puppet-manifests",
        "cmtr": "Carlos Camacho",
        "date": "2016-08-04 14:54:01+02:00",
        "files": ["aodh.pp", "api.pp", "evaluator.pp", "listener.pp", "notifier.pp"]
      },
      {
        "hash": "98aad52ee24b1baead62e1f59c9b578ee915816d",
        "msg": "Add zaqar API endpoint in HAProxy\n\nThis will enable us to terminate SSL connections for Zaqar's API.\n\nChange-Id: If75e2947a2dca95b3e53e1b1ffd93f36fc7fb1cc",
        "cmtr": "Juan Antonio Osorio Robles",
        "date": "2016-08-05 04:44:21+00:00",
        "files": ["haproxy.pp"]
      },
      {
        "hash": "9838f8fa3192812a26e32d303fee8be29e7ffae4",
        "msg": "Add passing of X-Forwarded-Proto to Glance API endpoint\n\nGlance supports the http_proxy_to_wsgi middlware, and it was recently\nenabled in the overcloud [1]. However, for it to work properly, we\nneed to add the X-Forwarded-Proto header which was missing from the\nHAProxy configuration.\n\n[1] I4a8f7fc079ca93c50aa0ef7b0548dc64f6c5cfa0\n\nChange-Id: I82e2db1145b0476cec27676fdfbb97e86cbd8182",
        "cmtr": "Juan Antonio Osorio Robles",
        "date": "2016-08-05 11:21:23+03:00",
        "files": ["haproxy.pp"]
      },
      {
        "hash": "c563d34fd93a197d2eff20c55343f5edb2681597",
        "msg": "Remove keystone PKI cert generation\n\nWe don't currently offer any parameter interface to enable\nPKI certs, and these have all been deprecated by keystone, so\nremove them.\n\nChange-Id: I8232262b928c91dcde7bea2f23fa2a7c2660719e",
        "cmtr": "Steven Hardy",
        "date": "2016-08-05 17:03:22+01:00",
        "files": ["keystone.pp", "keystone.pp"]
      },
      {
        "hash": "97e4aa5f761172477e0bccdcc762780ade71bf28",
        "msg": "New composable service: Sensu\n\nDepends-On: Ic095cd1248cc2ffcef363893b20ff57f7befd6fc\nChange-Id: Ia09d14fa9db07595d2e904bd9918e5645ea590c7",
        "cmtr": "Martin Mgr",
        "date": "2016-08-08 12:16:51+00:00",
        "files": ["rabbitmq.pp", "sensu.pp", "uchiwa.pp", "metadata.json"]
      },
      {
        "hash": "4581c173ca3fe0d5b98ba06e00c536a71320d2f4",
        "msg": "Convert ceph_pools into a hash type\n\nBy using create_resources we can create ceph::pool resources from\na hash. This will make it possible to define custom attributes\nfor the single pool from the heat templates.\n\nChange-Id: I38978f0f3119e4ab7dd45021e598253cb066cb5a",
        "cmtr": "Giulio Fidente",
        "date": "2016-08-08 14:41:14+00:00",
        "files": ["mon.pp"]
      },
      {
        "hash": "689d80e97188342c84bb965980d48c8ed212e60d",
        "msg": "Fix parameters and headers inconsistency in the puppet manifests.\n\nAs we are staring to manually check overcloud services\nthe first step is to check that the puppet profiles\nare all aligned.\n\nChanges applied:\n\n  No logic added or removed in this submission.\n\n  Removed unused parameters.\n\n  Align header comments structure.\n\n  All profiles parameters sorted following:\n  \"Mandatory params first sorted alphabetically\n  then optional params sorted alphabetically.\"\n\nNote: Following submissions will check pacemaker,\ncinder, mistral and redis services in the base profiles\nas some of them has the $pacemaker_master parameter\ndefaulted to true.\n\nChange-Id: I2f91c3f6baa33f74b5625789eec83233179a9655",
        "cmtr": "Carlos Camacho",
        "date": "2016-08-08 22:44:01+02:00",
        "files": ["central.pp", "compute.pp", "notification.pp", "api.pp", "collector.pp", "expirer.pp", "client.pp", "mon.pp", "osd.pp", "cinder.pp", "api.pp", "scheduler.pp", "volume.pp", "dellsc.pp", "eqlx.pp", "iscsi.pp", "netapp.pp", "nfs.pp", "rbd.pp", "mongodb.pp", "mongodbcommon.pp", "mysql.pp", "redis.pp", "api.pp", "registry.pp", "gnocchi.pp", "api.pp", "metricd.pp", "statsd.pp", "haproxy.pp", "heat.pp", "api.pp", "api_cfn.pp", "api_cloudwatch.pp", "engine.pp", "ironic.pp", "api.pp", "conductor.pp", "keepalived.pp", "keystone.pp", "api.pp", "scheduler.pp", "share.pp", "memcached.pp", "mistral.pp", "api.pp", "engine.pp", "executor.pp", "fluentd.pp", "rabbitmq.pp", "sensu.pp", "uchiwa.pp", "midonet.pp", "nuage.pp", "dhcp.pp", "l3.pp", "metadata.pp", "midonet.pp", "ovs.pp", "ml2.pp", "nuage.pp", "opencontrail.pp", "plumgrid.pp", "nova.pp", "ironic.pp", "libvirt.pp", "conductor.pp", "consoleauth.pp", "libvirt.pp", "scheduler.pp", "vncproxy.pp", "pacemaker.pp", "rabbitmq.pp", "api.pp", "engine.pp", "snmp.pp", "add_devices.pp", "proxy.pp", "ringbuilder.pp", "storage.pp", "api.pp", "apache.pp", "ceilometer.pp", "central.pp", "notification.pp", "api.pp", "collector.pp", "api.pp", "scheduler.pp", "volume.pp", "core.pp", "mongodb.pp", "mysql.pp", "redis.pp", "glance.pp", "gnocchi.pp", "api.pp", "metricd.pp", "statsd.pp", "haproxy.pp", "heat.pp", "api.pp", "api_cfn.pp", "api_cloudwatch.pp", "engine.pp", "keystone.pp", "manila.pp", "memcached.pp", "neutron.pp", "dhcp.pp", "l3.pp", "metadata.pp", "midonet.pp", "ovs.pp", "ml2.pp", "nuage.pp", "opencontrail.pp", "plumgrid.pp", "server.pp", "nova.pp", "api.pp", "conductor.pp", "consoleauth.pp", "scheduler.pp", "vncproxy.pp", "rabbitmq.pp", "sahara.pp", "api.pp", "engine.pp"]
      },
      {
        "hash": "355547c5e83d74b90187552b309154659e4a8139",
        "msg": "Fix use of bootstrap_node in cinder base profile\n\nBy inspecting bootstrap_nodeid in cinder base profile we can\nset sync_db appropriately and not always default to true.\n\nChange-Id: I2484b1d70a17436c0d8eab9ea8df927d57783784",
        "cmtr": "Giulio Fidente",
        "date": "2016-08-09 13:30:13+02:00",
        "files": ["cinder.pp", "api.pp", "mongodbcommon.pp", "heat.pp"]
      },
      {
        "hash": "20e1a821852d34f9c3201362cd619e41269ddbfd",
        "msg": "Use modern auth options for Neutron\n\nauth plugins should be used instead of deprecated admin_* options\n\nChange-Id: I80da7ce0a3d11859dd9f2ae02cd9761b9b28ac27\nDepends-on: I3018932a106df562e94067e037b3bc862be97b51",
        "cmtr": "Carlos Camacho",
        "date": "2016-08-09 14:44:45+02:00",
        "files": ["midonet.pp"]
      },
      {
        "hash": "c99c7862da980119fc9a51d18ab492bc03f00684",
        "msg": "Only db-sync sahara is included in the bootstrapnode\n\nCurrently, sahara's db-sync is run on every node. We should instead\nrun it if we're on the bootstrap node as race conditions may occur\nand these will cause issues.\n\nChange-Id: I5db281caae17402ff198cb4cd46304338d98c52e",
        "cmtr": "Juan Antonio Osorio Robles",
        "date": "2016-08-09 16:42:06+03:00",
        "files": ["sahara.pp", "api.pp", "engine.pp"]
      },
      {
        "hash": "21bb7e4ac1051d28bb83de522f3cc6f79c0445e2",
        "msg": "Fix mistral sync_db profile steps\n\nThe services in the mistral profiles were\nlimited to be executed only in the\nbootstrap master node.\n\nChange-Id: Iae42ffa37c4c9b1e070b7c3753e04c45bb97703f",
        "cmtr": "Carlos Camacho",
        "date": "2016-08-09 16:32:45+02:00",
        "files": ["mistral.pp", "api.pp", "engine.pp", "executor.pp"]
      },
      {
        "hash": "39e10ab15a626b7fb9c55342779d091b73d82f28",
        "msg": "Handle redirects for keystone\n\nIf keystone sends a redirect and we have TLS enabled, we need to\nmodify the response in order to indicate https.\n\nChange-Id: Icd61f527473bfe5153e058e94f9ed141cf13812d",
        "cmtr": "Juan Antonio Osorio Robles",
        "date": "2016-08-10 15:10:05+03:00",
        "files": ["haproxy.pp"]
      },
      {
        "hash": "bcaa12aa2c2b8276f01988d1907fd2c78a25664e",
        "msg": "Add cinder-backup profiles\n\nAdds a Cinder backup profile for Cinder backup service activation\n(to be used in https://review.openstack.org/#/c/304563).\n\nCinder backup uses Swift as a default.\n\nChange-Id: Ib1dfe52b83ab01819fc669312967950e75d8ddf1\nCo-Authored-By: Jon Bernard <jobernar@redhat.com>\nCo-Authored-By: Boris Kreitchman <bkreitch@gmail.com>",
        "cmtr": "Giulio Fidente",
        "date": "2016-08-11 09:27:32+00:00",
        "files": ["backup.pp", "ceph.pp", "swift.pp", "backup.pp"]
      },
      {
        "hash": "0b9e06561b121e23d9e5cb4261d1e0beaf7fcf2e",
        "msg": "Align hiera keys with service names\n\nThese hiera keys aren't aligned with the service names, which\nwill be required for composable generation of the ip lists\nper service.\n\nChange-Id: I423b544df174254ac511b906b0c570e701678022\nDepends-On: I7febf28bf409e25e8e5961ab551b6d56bb11e0c6\nPartially-Implements: blueprint custom-roles",
        "cmtr": "Steven Hardy",
        "date": "2016-08-11 11:12:36+01:00",
        "files": ["collector.pp", "mongodbcommon.pp", "horizon.pp", "nova.pp", "rabbitmq.pp"]
      },
      {
        "hash": "ea752f3527746e6b7af2c79071a46ade8bceef61",
        "msg": "Removing WARNING: line has more than 140 characters in puppet-tripleo profiles\n\nSome lint checks are returning:\nWARNING: line has more than 140 characters in puppet-tripleo profiles\n\nThis patch will remove those warnings by adding \\'s\n\nChange-Id: I19b56c93db82948fb0498a4c9851b522c81946f8",
        "cmtr": "Carlos Camacho",
        "date": "2016-08-11 19:11:51+00:00",
        "files": ["haproxy.pp", "endpoint.pp", "expirer.pp", "volume.pp", "snmp.pp", "mysql.pp"]
      },
      {
        "hash": "593503e351314e681558142399495be082e8117c",
        "msg": "Include heat base profile outside of step\n\nThe base profile can already take the steps into account. so it's not\nnecessary to include it inside the if statement.\n\nChange-Id: I7b22063db7ff4807242cc0e353dccc34be848b8d",
        "cmtr": "Juan Antonio Osorio Robles",
        "date": "2016-08-13 09:55:08+00:00",
        "files": ["api.pp", "api_cfn.pp", "api_cloudwatch.pp", "engine.pp"]
      },
      {
        "hash": "d688064d238712b0511b31865824b8868e98e0c8",
        "msg": "Adds OpenDaylight\n\nPartially-Implements: blueprint opendaylight-integration\n\nNote this patch only adds support for a single ODL instance.\n\n - neutron/opendaylight.pp handles installing ODL to control nodes\n - ml2/opendaylight.pp handles configuring ML2 to work with ODL\n - ovs/opendaylight.pp handles configuring OVS to connect to ODL\n\nChange-Id: I666dc0874f1d11a72a62d796f4f6d41f7aa87a3f\nSigned-off-by: Tim Rozet <trozet@redhat.com>",
        "cmtr": "Tim Rozet",
        "date": "2016-08-13 15:34:22-04:00",
        "files": ["haproxy.pp", "opendaylight.pp", "ml2.pp", "opendaylight.pp", "opendaylight.pp"]
      },
      {
        "hash": "8b0e7d45261c8305d33effb3ccf83df7e5710515",
        "msg": "Defaults empty hash to kernel_modules and sysctl_settings\n\nSet empty hash by default to kernel_modules and sysctl_settings so catalog\nwon't fail if the parameters are not set in Hiera.\n\nChange-Id: I24ab535b01e2724af457d39c03cd990c574ef0aa",
        "cmtr": "Emilien Macchi",
        "date": "2016-08-15 19:24:32-04:00",
        "files": ["kernel.pp"]
      },
      {
        "hash": "65ea36f60e2f12e258babc86b83fe7a28ee870a4",
        "msg": "Fix deployment steps for AODH profiles\n\nThe services in the AODH profiles were\nlimited to be executed only in the\nbootstrap master node.\n\nChange-Id: I85cfa97f0e5e9a70e86e51d8188a2abf86e2ec1c",
        "cmtr": "Carlos Camacho",
        "date": "2016-08-17 10:21:48+02:00",
        "files": ["aodh.pp", "api.pp", "evaluator.pp", "listener.pp", "notifier.pp"]
      },
      {
        "hash": "2cbbe14a76f228c3110542f3936417270f61eefe",
        "msg": "Configure galera-monitor on all controller nodes\n\nWhen we implemented the galera composable role we accidentally moved the\nxinetd.d monitor service on the bootstrap node only. This meant that\nhaproxy believed that galera was down on the non-bootstrap nodes. A\nshutdown of the bootstrap node meant that galera was effectively down\nbecause haproxy would refuse to redirect the traffic to the\nnon-bootstrap node. Fix this by creating the\n/etc/xinetd.d/galera-monitor on all controller nodes.\n\nChange-Id: Ib5a06b3abbc32182476c2b0c81eb77a12821ad6b",
        "cmtr": "Michele Baldessari",
        "date": "2016-08-17 13:04:47+02:00",
        "files": ["mysql.pp"]
      },
      {
        "hash": "e30bfc9b5a4c2fe42165c5a5378fe77da1940bbf",
        "msg": "Clean up unused params from aodh profiles\n\nChange-Id: I7c89fcef8cdd0e73ef8c5d615bb55db177abd375",
        "cmtr": "Pradeep Kilambi",
        "date": "2016-08-17 10:50:12-04:00",
        "files": ["api.pp", "evaluator.pp", "listener.pp", "notifier.pp"]
      },
      {
        "hash": "8b5fbc0664cba5f5ac70ff56cb7bdadc32928843",
        "msg": "Move ceilometer api to run under apache wsgi\n\nChange-Id: If3feb859b527d08e10c124b5ad2f7f4b1f19156a",
        "cmtr": "Pradeep Kilambi",
        "date": "2016-08-17 14:01:58-04:00",
        "files": ["api.pp", "ceilometer.pp", "api.pp"]
      },
      {
        "hash": "0d001f951d3b3b1e4f10f199812fbd87e656516d",
        "msg": "Add manifests to inject and trust CA certificates\n\nChange-Id: I84273b4cd6576a63fa78dc93ad6b077dd2a780c7",
        "cmtr": "Jiri Stransky",
        "date": "2016-08-23 14:36:20+00:00",
        "files": ["trusted_ca.pp", "trusted_cas.pp"]
      },
      {
        "hash": "40718dafb5425442259573453fa9e531b731ddb4",
        "msg": "Expose enable_combination_alarm setting\n\nCombination alarms are deprecated in Newton and hence turned off\nby default. This allows users still using this type of alarms to\nflip the flag and use until they migrate themselves to composite\nalarms.\n\nChange-Id: I9220b7d020dc8ed45dd6ca83ea9647efd67ea648",
        "cmtr": "Pradeep Kilambi",
        "date": "2016-08-23 15:31:19-04:00",
        "files": ["api.pp"]
      },
      {
        "hash": "b7fe58567704920a819128d43a8aa38807ebba9a",
        "msg": "Added X-Forwarded-Proto headers for horizon\n\nWhen enabling federated authentication with keystone, and then enabling websso\nin horizon, the URL horizon constructs for the redirect is done internally, and\ndjango needs to be able to know if it has to construct the url with http or\nhttps. By setting this header at the haproxy level, horizon can make the correct\ndecision.\n\nChange-Id: I0281fe1e5efa0d3f5983342dec70752246d9fca8",
        "cmtr": "Graeme Gillies",
        "date": "2016-08-24 11:35:03+10:00",
        "files": ["haproxy.pp"]
      },
      {
        "hash": "166d3330f654766ed41f51a1f91a8b2771b0d508",
        "msg": "updates to fluentd support\n\nThis change contains modifications to the fluentd module to support\nhttps://review.openstack.org/353506.\n\nbp tripleo-opstools-centralized-logging\nChange-Id: I2e1abe4d8c8359e56ff626255ee50c9cacca1940",
        "cmtr": "Lars Kellogg-Stedman",
        "date": "2016-08-24 15:30:46-04:00",
        "files": ["fluentd.pp", "fluentd.pp"]
      },
      {
        "hash": "4c0b08e99d0f142a5efef62abbe5581a6991a4f8",
        "msg": "Add Manila CephFS backend to manila class\n\nChange-Id: Idaad75238a2884fe82b1e5fce3ed910d866b98a2",
        "cmtr": "Erno Kuvaja",
        "date": "2016-08-25 09:27:08+01:00",
        "files": ["manila.pp"]
      },
      {
        "hash": "5c38dbd71941a028f0f13e7ddf40392f539889f3",
        "msg": "Configure keystone endpoints in service profile\n\nThis commit enables the configuration of the service users and\nkeystone endpoints in the keystone profile. Since with the\ncomposable services work, we can't assure that the APIs will be in\nthe same node as keystone, this needs to be done from the keystone\nprofile.\n\nDepends-On: I62273f403838893602816204d9bc50d516c0057f\nChange-Id: I36e1c478e7c92be61da6a0d710e9025d4d354072",
        "cmtr": "Juan Antonio Osorio Robles",
        "date": "2016-08-26 12:35:20+03:00",
        "files": ["keystone.pp"]
      },
      {
        "hash": "9c0f97d23165bc64f56000df9f3c3a0cb20a50a3",
        "msg": "UI profile for tripleo\n\nThe new tripleo::profile::base::ui profile installs the\nopenstack-tripleo-ui RPM package and setup CORS for required services.\n\nChange-Id: Ib9d8643da3f51171495fcb8b64d1a7ca86cd66bc",
        "cmtr": "Martin Andr",
        "date": "2016-08-26 16:42:48+02:00",
        "files": ["heat.pp", "ironic.pp", "keystone.pp", "mistral.pp", "ui.pp"]
      },
      {
        "hash": "60547b9bfaa60eb2aa379322c61431d8693dc252",
        "msg": "Remove the ceilo wsgi transient flag\n\nThis was a temporary flag until the tht changes got merged.\nNow that the tht changes are merged we can remove this as\nparams are set for wsgi classes by tht.\n\nDepends-On: I728d0980f7742aa390f11a0f0b8598d1299e2886\n\nChange-Id: I93ea8ebb9053f269de8974880bd33d1b3e487f96",
        "cmtr": "Pradeep Kilambi",
        "date": "2016-08-26 14:58:11-04:00",
        "files": ["api.pp"]
      },
      {
        "hash": "b131512a1061046ce9f13ab715ce5362f48f25de",
        "msg": "Handle galera_node_names being an array\n\nPrepare the pacemaker mysql manifest that galera_node_names will be an\narray. Stay backwards compatible to handle comma-delimited-string too\nand avoid a chicken-and-egg patch problem between t-h-t and\npuppet-tripleo.\n\nChange-Id: Ia0d9d59728c8771974bfbc486f4929b99a38e4fb\nPartially-Implements: blueprint custom-roles",
        "cmtr": "Jiri Stransky",
        "date": "2016-08-29 14:58:57+02:00",
        "files": ["mysql.pp"]
      },
      {
        "hash": "844aabfe39edd0dde2de2486130f3a473554522c",
        "msg": "Add ML2/OVN support for neutron profile\n\nPartially-Implements: blueprint refactor-puppet-manifests\nDepends-on: https://review.openstack.org/#/c/340343\n\nAdd OVN plugin for non-ha profiles of neutron\n\nChange-Id: I3850a8b5584eaf14a656b547f6a47008a2d1289e",
        "cmtr": "Babu Shanmugam",
        "date": "2016-08-29 13:18:40+00:00",
        "files": ["ovn.pp", "ml2.pp", "ovn.pp"]
      },
      {
        "hash": "d30e9bcc067c432fe93519dc5971ea98866a10cb",
        "msg": "Reload HAProxy on refresh\n\nIf the configuration for the HAProxy class or any of the frontend\nendpoints has changed, we explicitly execute a reload on HA setups.\nThis is useful since on updates of HA setups we set pacemaker on\nmaintenance mode, and thus we are unable to refresh HAProxy's\nconfiguration; The aforementioned detail is problematic, since some\npuppet configurations rely on HAProxy taking into account the\nconfiguration.  An example of this is changing a port in the endpoint\nmap or enabling SSL.\n\nChange-Id: I7f26257fb43146afebca928f5498ee2174178063",
        "cmtr": "Juan Antonio Osorio Robles",
        "date": "2016-08-29 16:59:18+03:00",
        "files": ["haproxy.pp"]
      },
      {
        "hash": "eec3bba44b5a7e09dba4d427bd0d3d71a4956a7a",
        "msg": "Configure the numvfs for SRIOV interfaces\n\nThis patch shall create VFs via the PCI SYS interface.\nDefault value : $::os_service_default\nSample Format : ['eth0:4','eth2:128']\nFor values as in sample format, the sriov_numvfs config files\nfor eth0 and eth2 will have the values 4 and 128 respectively\nThe SR-IOV numvfs configuration shall be persisted in /sbin/ifup-local\nso that, during the bootup of the compute nodes, the numvfs\nconfiguration will be restored.\n\nChange-Id: I7450b904475bdf46498d9af633416b3eba12f761\nImplements: blueprint tripleo-sriov\nSigned-off-by: karthik s <ksundara@redhat.com>",
        "cmtr": "karthik s",
        "date": "2016-08-29 19:29:35+05:18",
        "files": ["numvfs.rb", "sriov_vf_config.rb", "sriov.pp", "numvfs_persistence.pp", "sriov.pp", "sriov_numvfs-40564db9e1be589b.yaml", "tripleo_host_sriov_spec.rb", "tripleo_host_sriov_numvfs_persistence_spec.rb", "numvfs_spec.rb", "sriov_vf_config_spec.rb"]
      },
      {
        "hash": "1939bd257d9816fc2ce10ac25ab43cddb92ea562",
        "msg": "Defaults to ceph_mon_node_ips and ceph_mon_node_names\n\nUses the ceph_mon_node_ips and _names from all_nodes.yaml which\nare formatted as arrays.\n\nAlso deprecates ceph_ipv6 parameter as will determine if ipv6\nusing is_ipv6_address.\n\nChange-Id: I481dd2cd2cde7f1491080e6d9c7dcb7047c22de1",
        "cmtr": "Jiri Stransky",
        "date": "2016-08-30 08:06:59+00:00",
        "files": ["ceph.pp"]
      },
      {
        "hash": "da4bcee4d65cf2e0d48eab03a4a9582e3806238e",
        "msg": "Write restart flags to restart services only when necessary\n\nWrite restart flag file for services managed by Pacemaker into\n/var/lib/tripleo/pacemaker-restarts directory. The name of the file must\nmatch the name of the clone resource defined in pacemaker. The\npost-puppet restart script will restart each service having a restart\nflag file and remove those files.\n\nThis approach focuses on $pacemaker_master only (we don't want to\nrestart the pacemaker services 3 times when we have 3 controllers), so\nit relies on the assumption that we're making the matching config\nchanges across the pacemaker nodes.\n\nChange-Id: I6369ab0c82dbf3c8f21043f8aa9ab810744ddc12",
        "cmtr": "Jiri Stransky",
        "date": "2016-08-30 11:19:53+02:00",
        "files": ["resource_restart_flag.pp", "pacemaker.pp", "backup.pp", "volume.pp", "mysql.pp", "redis.pp", "haproxy.pp", "manila.pp", "rabbitmq.pp"]
      },
      {
        "hash": "2f06663fa20ed52ae43b0d3dbf77f7068771b622",
        "msg": "Ironic: manage PXE environment for conductors\n\nChange-Id: Icb9633134114041bbd497e7652482dd5d34c9327\nDepends-On: I8b83eff694316755e4dd2dbcde7b569472893bc5\nPartially-Implements: blueprint ironic-integration",
        "cmtr": "Dmitry Tantsur",
        "date": "2016-08-31 11:34:20+02:00",
        "files": ["conductor.pp"]
      },
      {
        "hash": "591238d1cc4f9f34326555ca4ba8d45862223f12",
        "msg": "Added Contrail Composable Services\n\nchanged parameter order\n\nfor tripleo heat templates see https://review.openstack.org/#/c/346799/\n\nImplements: blueprint contrail-services\n\nChange-Id: I8de63b6e21f8fdf3c2fd13bf5475cce4a85311d6",
        "cmtr": "michaelhenkel",
        "date": "2016-08-31 13:09:35+02:00",
        "files": ["analytics.pp", "config.pp", "control.pp", "database.pp", "webui.pp"]
      },
      {
        "hash": "f295fc7761b8a2affeef833e668b3b5eaa6654f3",
        "msg": "Default haproxy listeners activation on hiera service _enabled\n\nChange-Id: I5c620ba717f782b39c599aff24b4ac56fb695a04",
        "cmtr": "Giulio Fidente",
        "date": "2016-08-31 14:35:03+02:00",
        "files": ["haproxy.pp"]
      },
      {
        "hash": "131f2a84b1cdbb2f233097d6ea1deff00c1e28b2",
        "msg": "Add Ceph RGW listener to HAProxy\n\nShares the same (ssl)port with Swift Proxy\n\nChange-Id: I2e1de1a3fa6ad62895a1e972e43858f23c08bbea",
        "cmtr": "Giulio Fidente",
        "date": "2016-08-31 14:35:03+02:00",
        "files": ["haproxy.pp", "keystone.pp"]
      },
      {
        "hash": "7ef3c6ab0389f0ab7bae1635d8eb62292bf671d1",
        "msg": "midonet: update neutron parameter\n\nUpdate neutron parameter to lookup the right variable in Hiera.\n\nChange-Id: I7b93e8d308f2ff2fb3a2083af75140dfa62b3ad8",
        "cmtr": "Emilien Macchi",
        "date": "2016-08-31 18:47:03+00:00",
        "files": ["midonet.pp"]
      },
      {
        "hash": "96f22c629de5343a63442d7c3c811d3e31aca00b",
        "msg": "Ensure iscsi_ip_address is in brackets if IPv6\n\nChange-Id: I787becce343b38e6c27c9a1b937b47c0aefb034d\nRelated-Bug: 1618930",
        "cmtr": "Giulio Fidente",
        "date": "2016-09-01 00:23:16+02:00",
        "files": ["iscsi.pp"]
      },
      {
        "hash": "4152773a8843b803190b72393a9d44362d21b180",
        "msg": "Add Ceph RGW profile\n\nThis patch adds tripleo::profile::base::ceph::rgw\n\nCo-Authored-By: Giulio Fidente <gfidente@redhat.com>\nChange-Id: Ib69b8171321284bb64e348d45b7eea2f00f8d506",
        "cmtr": "Giulio Fidente",
        "date": "2016-09-01 07:41:43+00:00",
        "files": ["rgw.pp"]
      },
      {
        "hash": "932a9f0409395e1f7e8d83efdd6418d55b040370",
        "msg": "Create memcache_servers list in swift proxy profile\n\nInstead of mangling this list in t-h-t, generate the list derived\nfrom memcached_node_ips, which is now always set when memcached\nis deployed, regardless of the role.\n\nNote the port default is hard-coded as this is already hard-coded\n(in two places) in t-h-t, but we can override it if this changes\nin future.\n\nWe need this to remove the swift specific stuff out of overcloud.yaml\nto enable custom-roles.\n\nChange-Id: Ic8872e5e51732874ca5b93bff5efd3e7ed75bc31\nPartially-Implements: blueprint custom-roles",
        "cmtr": "Steven Hardy",
        "date": "2016-09-01 16:51:24+01:00",
        "files": ["proxy.pp"]
      },
      {
        "hash": "e5f0042e47eb4c2b77348dcec0d3d2730e5d9841",
        "msg": "Make service profiles default to rabbitmq_node_ips\n\nInstead of hard-coded yaml aliases in t-h-t, make each service\nprofile that requires rabbit default to the list of rabbit ips.\n\nNote this could still be extended in future to e.g enable per\nservice rabbit clusters, but the default is to lookup the\nhiera which should be logically equivalent to current t-h-t.\n\nChange-Id: Ie53c93456529420588eb1927703ea91b54095d87\nPartially-Implements: blueprint custom-roles",
        "cmtr": "Emilien Macchi",
        "date": "2016-09-02 00:26:04+00:00",
        "files": ["aodh.pp", "ceilometer.pp", "cinder.pp", "api.pp", "heat.pp", "ironic.pp", "keystone.pp", "api.pp", "neutron.pp", "nova.pp", "sahara.pp"]
      },
      {
        "hash": "4b006b7c328ae9c5842f69044284948155da5fee",
        "msg": "Convert ringbuilder to build devices array\n\nCurrently we have some hard-coded mangling in t-h-t but we\ninstead need to build the array based on the nodes running swift\nstorage, combined with the SwiftRawDisks parameter.\n\nThis will enable running SwiftStorage on nodes other than Controller\nand SwiftStorage roles, and is required for custom-roles due to\nthe hard-coded stuff in the role templates and overcloud.yaml\n\nChange-Id: I11deed1df712ecccf85d36a75b3bd2e9d226af36\nPartially-Implements: blueprint custom-roles",
        "cmtr": "Jiri Stransky",
        "date": "2016-09-02 17:22:48+02:00",
        "files": ["tripleo_swift_devices.rb", "ringbuilder.pp"]
      },
      {
        "hash": "16b2c0ab0e27d1fdbfe06424c4e67f78dfc161d1",
        "msg": "Manage Redis VIP when deploying with keepalived\n\nPreviously we weren't creating Redis VIP in keepalived, causing Redis to\nbe unusable in non-HA deployments.\n\nChange-Id: I0bb37f6fb3eed022288b2dcfc7a88e8ff88a7ace\nRelated-Bug: #1618510",
        "cmtr": "Jiri Stransky",
        "date": "2016-09-02 17:36:51+02:00",
        "files": ["keepalived.pp"]
      },
      {
        "hash": "c4b10e4e000afefff3fc5f3d0669dc7da6e725d6",
        "msg": "Plumgrid helper\n\nExtra settings that need to be applied for plumgrid where compute\nnodes are running.\n\nChange-Id: Ided5483f0f36f0efd5a09112832d07f028a2a7f9",
        "cmtr": "Dan Prince",
        "date": "2016-09-02 19:31:47+00:00",
        "files": ["plumgrid.pp"]
      },
      {
        "hash": "7a683f7c618198642975bee0d02c5f2f9364efa6",
        "msg": "Ironic: update included drivers\n\nConfigure drac, ilo and ssh drivers out of box.\nRemove deprecated ironic::drivers::deploy.\n\nThis change brings the default driver list closer to one of undercloud.\n\nChange-Id: I8b9a136a0ff22916d7c468bbb0df7248bc35a5c2\nPartially-Implements: blueprint ironic-integration",
        "cmtr": "Dmitry Tantsur",
        "date": "2016-09-04 17:44:06+02:00",
        "files": ["conductor.pp"]
      },
      {
        "hash": "e6ec40c1460465bbf49bb38242efafbb22c38783",
        "msg": "Add class to write overcloud VIPs into /etc/hosts\n\nThis will be useful to start using FQDNs instead of IPs if we don't\nhave a DNS set-up. This will effectively grab a map of hosts to add\nand create them with puppet's host resource.\n\nChange-Id: I1bdb2701dfb3e7ef072e674c9882d3be5af7296c",
        "cmtr": "Juan Antonio Osorio Robles",
        "date": "2016-09-06 17:15:26+03:00",
        "files": ["vip_hosts.pp"]
      },
      {
        "hash": "488fb917a13d3a0780075a9356cda3783ccea002",
        "msg": "gnocchi: move statsd and metricd at step5\n\nGnocchi statsd and metricd require Keystone resources to be in place\nwhen using Swift backend, because those services will try to access to\nSwift containers.\n\nTo do so, we want to move the service start at step 5 instead of 4 and\nalso require Keystone resource to be managed before starting the\nservices.\n\nChange-Id: Ie5bc1481a8700c7cd080a76d0978146a84825767\nCloses-Bug: #1621164",
        "cmtr": "Emilien Macchi",
        "date": "2016-09-07 15:01:33-04:00",
        "files": ["metricd.pp", "statsd.pp"]
      },
      {
        "hash": "235e769fa9847edef10da1f7290f6cc1ac96806c",
        "msg": "Cinder: Add iSCSI protocol parameter\n\nThis patch allows to spefify the iscsi_protocol in the iSCSI cinder\nbackend when we want to use iSCSI Extensions for RDMA (iSER).\nThe default value remains 'iscsi'.\n\nChange-Id: I6d2c4d71fb3ab1f7749d6e1defb59e86b9364cc1",
        "cmtr": "Dimitri Savineau",
        "date": "2016-09-08 13:16:30-04:00",
        "files": ["iscsi.pp"]
      },
      {
        "hash": "c3be01556a54e67a5046b0e7f8facf3e5f15e4f9",
        "msg": "Fill DNS name for haproxy certificates\n\nThis sets the subject alt name field for the certificates we\nauto-generate, which will remove the security warnings we constantly\nsee in the undercloud. This is the proper way to set certificates,\nsince the usage of the CN as a replacement for the subjectAltName is\nbeing deprecated (very slowly).\n\nChange-Id: I475cbffd47425e850902838eec06bf461df2acd0\nCloses-Bug: #1622446",
        "cmtr": "Juan Antonio Osorio Robles",
        "date": "2016-09-12 08:56:04+03:00",
        "files": ["haproxy.pp"]
      },
      {
        "hash": "ad5182f6323065eb45f9168db9e9e52b801f625b",
        "msg": "Enable X-Forwarded-Proto for manila\n\nThis is necessary so the middleware in manila can set the protocol\ncorrectly in case we're terminating SSL in HAProxy.\n\nDepends-On: Ice78b0abceb6a956bb8c1dc6212ee1b56b62b43f\nChange-Id: Iedaabaf1379466c22e3b9bb2307e940459d26de7",
        "cmtr": "Juan Antonio Osorio Robles",
        "date": "2016-09-12 09:38:51+03:00",
        "files": ["haproxy.pp"]
      },
      {
        "hash": "88cb4d49d1912376838e547f88e329b325409b56",
        "msg": "Fix puppet-lint in composable contrail\n\nAfter landing this new service, there ase some puppet\nstyles misalignments.\n\nThese changes are in favor of start using puppet-lint 2.0.0\n\n2016-09-12 08:55:07.952492 | manifests/network/contrail/analytics.pp:130:WARNING: optional parameter listed before required parameter\n2016-09-12 08:55:07.952573 | manifests/network/contrail/config.pp:117:WARNING: optional parameter listed before required parameter\n2016-09-12 08:55:07.952604 | manifests/network/contrail/config.pp:118:WARNING: optional parameter listed before required parameter\n2016-09-12 08:55:07.952632 | manifests/network/contrail/config.pp:119:WARNING: optional parameter listed before required parameter\n2016-09-12 08:55:07.952660 | manifests/network/contrail/config.pp:120:WARNING: optional parameter listed before required parameter\n2016-09-12 08:55:07.952688 | manifests/network/contrail/control.pp:95:WARNING: optional parameter listed before required parameter\n2016-09-12 08:55:07.952717 | manifests/network/contrail/control.pp:96:WARNING: optional parameter listed before required parameter\n2016-09-12 08:55:07.952745 | manifests/network/contrail/control.pp:97:WARNING: optional parameter listed before required parameter\n2016-09-12 08:55:07.952773 | manifests/network/contrail/database.pp:37:WARNING: optional parameter listed before required parameter\n2016-09-12 08:55:07.952800 | manifests/network/contrail/webui.pp:80:WARNING: optional parameter listed before required parameter\n2016-09-12 08:55:07.952828 | manifests/network/contrail/webui.pp:81:WARNING: optional parameter listed before required parameter\n2016-09-12 08:55:07.952856 | manifests/network/contrail/webui.pp:82:WARNING: optional parameter listed before required parameter\n\nChange-Id: Id45d2daf49bfd081ceb074a2687306a7ac977da8",
        "cmtr": "Carlos Camacho",
        "date": "2016-09-12 16:47:57+02:00",
        "files": ["analytics.pp", "config.pp", "control.pp", "database.pp", "webui.pp"]
      },
      {
        "hash": "30d5be5f5179c645c5f594d8fd27fa8318f85cbe",
        "msg": "Add validations profile for tripleo\n\nThis adds the tripleo::profile::base::validations profile which sets up\nthe `validations` user and installs the openstack-tripleo-validations\npackage.\n\nChange-Id: Ib2b1ddcda3a41cb7263171d3024f05ba8bfd2f28",
        "cmtr": "Tomas Sedovic",
        "date": "2016-09-12 17:39:50+02:00",
        "files": ["validations.pp"]
      },
      {
        "hash": "907faa2003354edcd417b960c7c52e5ae32b2d4d",
        "msg": "Fix wrong flag name for VNC Proxy in HAProxy\n\nThe name was wrong, and so fixing it will actually enable VNC Proxy\nwhen the service is enabled.\n\nChange-Id: I65e90479fd33844b4dcd70c19cec3cd838aeff69\nCloses-Bug: #1623796",
        "cmtr": "Juan Antonio Osorio Robles",
        "date": "2016-09-15 09:19:02+03:00",
        "files": ["haproxy.pp"]
      },
      {
        "hash": "192fd80e942be67ccbb1ddea6666ba341ae33bf8",
        "msg": "Fix dependencies for HAProxy when certmonger is used\n\nInstalling the undercloud with generate_service_certificate=True\nfails if HAProxy is not pre-installed. This is due to missing\ndependency setting on our puppet manifests. We need to specify that\nthe PEM file needs to be written only if the haproxy user and group\nexist (which comes from the package) and that the haproxy frontend\nconfiguration needs to be notified if there are changes in the\ncertificates.\n\nChange-Id: Iba3030e4489eb31f9c07ab49913687d8b595a91b\nCloses-Bug: #1623805",
        "cmtr": "Juan Antonio Osorio Robles",
        "date": "2016-09-15 10:43:27+03:00",
        "files": ["haproxy.pp", "haproxy.pp"]
      },
      {
        "hash": "6cc2d82c2ec212ad0c3f5df8228998d62f6e5e0e",
        "msg": "mysql: never add brackets to mysql_bind_host\n\nDon't add brackets on mysql_bind_host parameter in Galera config.\nHaving brackets from this parameter works with old version of\nGalera but not newest one.\nSo let's remove them at all, so we can safely upgrade Galera in RDO.\n\nChange-Id: Ic904d4efda162f18ec8dffb91c2f383f54361f41\nCloses-Bug: #1622755",
        "cmtr": "Emilien Macchi",
        "date": "2016-09-16 00:35:51+00:00",
        "files": ["mysql.pp"]
      },
      {
        "hash": "5ad9778b467a23aca5d62fd080779382e8267cca",
        "msg": "Manage tripleo-ui configuration files with puppet\n\nThis commit ensures the tripleo-ui configuration files are present and\nare matching the environment.\n\nChange-Id: I0deeffa9026b1f5cd36a9810aaee7832e31c3c93",
        "cmtr": "Martin Andr",
        "date": "2016-09-16 14:11:14+02:00",
        "files": ["ui.pp", "ui.pp", "tripleo_ui_config.js.erb"]
      },
      {
        "hash": "9ddb76c073e121e2bb16e5dcca994e42ad33f78e",
        "msg": "Add manila-netapp backend to manila class and tidy up generic\n\nThis adds support for the manila-netapp backend. The backend\nspecific config is set tht side. So this change also\ntidies up the manila generic config, which is unnecessarily\nbeing duplicated here\n( see https://review.openstack.org/#/c/354019/ )\n\nChange-Id: Ic6f8e8d27ca20b9badddea5d16550aa18bff8418",
        "cmtr": "marios",
        "date": "2016-09-16 16:36:41+03:00",
        "files": ["manila.pp"]
      },
      {
        "hash": "be79cb1eca81b39760e00948d216858c013e8819",
        "msg": "Swift add_devices.pp IPv6 handling\n\nAdd brackets to IPv6 addresses before forming $object from $base\n\nChange-Id: I4568d538561a0102b69f331a122d4989333a3bfa\nCloses-Bug: #1623096",
        "cmtr": "Gabriele Cerami",
        "date": "2016-09-16 22:52:56+02:00",
        "files": ["add_devices.pp"]
      },
      {
        "hash": "eeb4d5f3b1c192e69e92c312652217e606ca8ecb",
        "msg": "Wait for MongoDB connections before creating replset\n\nSometimes the mongodb_replset resource fails with:\n\nCould not evaluate: Can't find master host for replicaset tripleo.\n\nThis issue is intermittent so the fix cannot be perfectly verified, but\nthe assumption is that if we wait for MongoDB to be reachable on all\nnodes, it will assure that the members will appear to the puppet module\nas alive when creating or verifying the replset. If the validation\nfails, it should help us uncover which of the members was causing\ntrouble.\n\nChange-Id: I0bcd0d063a7a766483426fdd5ea81cbe1dfaa348\nCloses-Bug: #1624420",
        "cmtr": "Emilien Macchi",
        "date": "2016-09-16 16:55:46-04:00",
        "files": ["mongodb.pp"]
      },
      {
        "hash": "d07cf8e6681c3e67ac12cb82dc32b488dba722c4",
        "msg": "Terminate Zaqar websocket endpoint in HAProxy\n\nNote that there was a need to modify different timeouts due\nto the nature of how websockets work. The source where the\nreasoning and value came from is listed as a comment in the\ncode.\n\nRelated-Bug: #1625448\nCo-Authored-By: Brad P. Crochet <brad@redhat.com>\nChange-Id: I9de77d5f692c1c9d04e3c59c5de5312e63f81aed",
        "cmtr": "Juan Antonio Osorio Robles",
        "date": "2016-09-20 04:52:00+00:00",
        "files": ["haproxy.pp"]
      },
      {
        "hash": "8f75bc372584096cd11afd90a23dad50c8b314bd",
        "msg": "Fixup manila-cephfs native backend defaults\n\nThe puppet-tripleo side for manila-cephfs landed without specifying\ndefaults for all class params [1] so when cephfs isn't enabled\ne.g. only generic, then you will get errors for those params. See\nreview comments at [2] for reports of this.\n\nThis will fixup the manila-cephfs puppet-tripleo side to be more\nin line with the tidy up adding netapp at [3]. The config is all\nmoved tripleo-heat-templates side. The tht review for this\nis at https://review.openstack.org/#/c/358525/ and that will now\ndepend on this review.\n\n[1] https://review.openstack.org/#/c/354047/\n[2] https://review.openstack.org/#/c/354019/\n[3] https://review.openstack.org/#/c/354014/\nChange-Id: I918f6f23ae0bd3542bcfe1bf0c797d4e6aa8f4d9",
        "cmtr": "marios",
        "date": "2016-09-20 15:06:53+03:00",
        "files": ["manila.pp"]
      },
      {
        "hash": "494b9dfe952a47ac4dcc21acdec6c0adacf59a8b",
        "msg": "swift: normalize memcache servers IP addresses\n\nIn the case of memcache servers are IPv6, make sure brackets set in the\nway we construct the list of memcache server + memcache port parameter.\n\nAlso add unit-tests to test that the output is what we want in the\nconfiguration.\n\nDepends-On: I8d361ce9cfcfe6a3f8592b2b7991971a3c748c75\nCloses-Bug: 1625335\nChange-Id: I9fb8168d8fb56c9d8465d58a45fd8c6edfee6fdd",
        "cmtr": "Emilien Macchi",
        "date": "2016-09-20 15:21:47+00:00",
        "files": [".fixtures.yml", "proxy.pp", "tripleo_profile_base_swift_proxy_spec.rb"]
      },
      {
        "hash": "9b974df7a2a20741b64b72e8980bc47c13b6166c",
        "msg": "certmonger: improve orchestration for puppet4\n\nThe extract-and-trust-ca actually needs /var/lib/certmonger/local/creds\nfile to be created, which is created when certmonger is started, not\nwhen package is installed.\nThis patch change the exec dependency to run it only when service is\nstarted.\nAlso, since the service create the file, let's relax the Exec a little\nbit by allowing to retry 5 times after 1s break in case the Exec fails,\nfor example if service takes more than 5 seconds to create this file.\nIt will avoid us some race condition in the deployment.\n\nChange-Id: I4cf4a04bddb8f042e8e8f7e1d1b69f846c533e3b",
        "cmtr": "Emilien Macchi",
        "date": "2016-09-20 16:17:43-04:00",
        "files": ["local.pp"]
      },
      {
        "hash": "779753d415995bad55f68898deeacabf721c5fa8",
        "msg": "Fix Swift manifest for Puppet4 deployment\n\n1) swift/ringbuilder: seed must be a String\nBecause we use validate_re in puppet-swift and puppet4 requires the\nregex to be a string, not an integer.\n\n2) Fix Swift package name\nIn puppet4, we need the resource title, not the resource name.\n\nChange-Id: I50cea96d45e0eb46c19040d9a7105ab72c2dbef7",
        "cmtr": "Emilien Macchi",
        "date": "2016-09-21 16:31:39-04:00",
        "files": ["ringbuilder.pp", "storage.pp"]
      },
      {
        "hash": "9af87616d17cd4e3d986794f9db002aa51dbccab",
        "msg": "Add support for rabbit hosts to mistral\n\nThe mistral puppet did not have support for configuring the rabbit hosts.\nThis change adds that support.\n\nChange-Id: I6cb2cbf4a2abf494668d24b8c36b0d525643f0af",
        "cmtr": "Brad P. Crochet",
        "date": "2016-09-23 09:21:32-04:00",
        "files": ["mistral.pp"]
      },
      {
        "hash": "783929074bee6c14da23f6589dcbfbf4d9ff0800",
        "msg": "Move inclusion of ::manila::db::mysql in manila/api profile\n\nIn puppet-manila it is the api service performing db sync, not\nscheduler. This change moves ::manila::db::mysql (which creates\nthe empty database and users) in the tripleo manila/api profile.\n\nAlso moves rabbit config into a general manila base profile as\nthat would be needed by the scheduler service as well.\n\nChange-Id: I2b537f735b8d1be8f39e8c274be3872b193c1014",
        "cmtr": "Giulio Fidente",
        "date": "2016-09-23 16:14:16+02:00",
        "files": ["manila.pp", "api.pp", "scheduler.pp", "share.pp", "manila.pp"]
      },
      {
        "hash": "280e2ca9fdb1bd147f1c6aff941dc8fa9bcb2da5",
        "msg": "Add swift proxy for ceilometer middleware\n\nswift proxy has already been updated to use updated\nceilometermiddleware as indicated here [1]. Include\nit in the proxy class.\n\n[1] https://github.com/openstack/puppet-swift/commit/e8ad981eff0f97c24a53197c42caf350627d3c9f\n\nChange-Id: Ie49f4a750368ff174b23b8d6baa743d0956d727e",
        "cmtr": "Pradeep Kilambi",
        "date": "2016-09-23 21:39:09+00:00",
        "files": ["proxy.pp"]
      },
      {
        "hash": "9158a09a09454a317e00176804a0be889ce70830",
        "msg": "Make mysql bind-address configurable\n\nIt used to be hardcoded that the bind-address was always coming from\nthe $::hostname fact. This is wrong, as it disregards where we have\nconfigured the mysql address. This commit actually makes it\nconfigurable, so we'll be able to set it via hieradata.\n\nOn the other hand, we use the hiera key that we already set\n'mysql_bind_host' as a default; if, for some reason, that's\nunavailable then we fall back to $::hostname.\n\nRelated-Bug: #1627060\nChange-Id: I316acfd514aac63b84890e20283c4ca611ccde8b",
        "cmtr": "Juan Antonio Osorio Robles",
        "date": "2016-09-24 11:51:45+03:00",
        "files": ["mysql.pp", "mysql.pp"]
      },
      {
        "hash": "7e32cfa2e3dbaf191f55e2087af677eca7234b91",
        "msg": "Add pameter for gmcast.listen_addr configuration\n\nhaving an actual name for that configuration will allow us to pass a\nmore proper name via t-h-t.\n\nChange-Id: Iea4bd67074824e5dc6732fd7e408743e693d80b3",
        "cmtr": "Juan Antonio Osorio Robles",
        "date": "2016-09-26 15:36:49+03:00",
        "files": ["mysql.pp"]
      },
      {
        "hash": "d6712e45e3db06b354a9f6ee46e237d5c40caff6",
        "msg": "Move db syncs into mysql base role\n\nThis patch moves the various DB syncs into the MySQL role.\n\nDatabase creation needs to occur on the MySQL server to\navoid permission issues.\n\nThis patch also moves database creation to step 2 so we can\nguarantee that all per-service databases exist at this time.\nThis avoids complex ordering needed during step 3 where\nservices, on different hosts, can run their own db sync's\nin a distributed fashion.\n\nChange-Id: I05cc0afa9373429a3197c194c3e8f784ae96de5f\nPartial-bug: #1620595",
        "cmtr": "Dan Prince",
        "date": "2016-09-27 12:08:20-04:00",
        "files": ["aodh.pp", "collector.pp", "api.pp", "mysql.pp", "registry.pp", "api.pp", "engine.pp", "ironic.pp", "keystone.pp", "api.pp", "mistral.pp", "server.pp", "api.pp", "engine.pp", "api.pp", "mysql.pp"]
      },
      {
        "hash": "26255c86692687675a22d1ae2f0a3feea8750cb6",
        "msg": "Use FallbackResource instead of Rewrite for UI\n\nThe original configuration produced a 400 error for all requests.  The\nnew FallbackResource directive accomplishes our task in a more elegant\nfashion.\n\nChange-Id: Ib5d77d158e73acc63d5c0c85d6aa6d99d2176333\nCloses-Bug: 1628484",
        "cmtr": "Honza Pokorny",
        "date": "2016-09-28 10:50:57-03:00",
        "files": ["ui.pp"]
      },
      {
        "hash": "3cb18bbc89cef24b2daf4e264a83fa9ed2f7d0ac",
        "msg": "Fix a typo in haproxy.pp\n\nTrivialFix\n\nChange-Id: Ibbd79ef0db6585e1eed2936bb9aa08c894d5af13",
        "cmtr": "gecong1973",
        "date": "2016-09-30 14:51:20+08:00",
        "files": ["haproxy.pp"]
      },
      {
        "hash": "1e26963bef085c7ec16b342594da6286235fe7da",
        "msg": "telemetry: normalize coordination_url\n\nNormalize coordination_url for Telemetry services, so we can deploy them\nwith IPv6.\n\nChange-Id: Ic6de09acf0d36ca90cc2041c0add1bc2b4a369a5\nPartial-Bug: #1629279\nDepends-On: I038e2bac22e3bfa5047d2e76e23cff664546464d",
        "cmtr": "Emilien Macchi",
        "date": "2016-09-30 09:47:30-04:00",
        "files": ["evaluator.pp", "central.pp", "api.pp"]
      },
      {
        "hash": "daebf929822aa6849e4e8c6f2e61efe1759e4f80",
        "msg": "Add ceilometer profile rspec testing\n\nThis change adds rspec testing for the ceilometer profiles. While\nwriting these tests, the tripleo::profile::base::ceilometer::collector\nclass needed to have the hiera lookups moved to class parameters to\nallow for testing the possible options around the database backend.\nThese tests add coverage for ipv4 and ipv6 configurations for the\ncollector profile as well as excluding mongodb on the backend.\n\nChange-Id: I1abae040104e8492a9fe266de74080e1e7701731",
        "cmtr": "Alex Schultz",
        "date": "2016-09-30 21:12:24+00:00",
        "files": ["collector.pp", "tripleo_profile_base_ceilometer_api_spec.rb", "tripleo_profile_base_ceilometer_collector_spec.rb", "tripleo_profile_base_ceilometer_expirer_spec.rb", "tripleo_profile_base_ceilometer_spec.rb", "default.yaml"]
      },
      {
        "hash": "0bc59a7362ea5c9a01fe8bf521e19a4014577079",
        "msg": "Fix the timeout for pacemaker systemd resources\n\nBack in the Mitaka cycle via the change If6b43982c958f63bc78ad997400bf1279c23df7e\nwe made sure that the default start and stop timeouts for pacemaker\nsystemd resources is 200s (>= twice the default 90s DefaultTimeoutStopSec\nin systemd). We did this change by setting puppet resource defaults for\nthe Pacemaker::Resource::Service class:\n\nPacemaker::Resource::Service {\n  op_params => 'start timeout=200s stop timeout=200s',\n}\n\nThe problem is that after the composable services rework, this does not\nwork anymore and the pacemaker systemd resources that still exist do not\nhave these timeouts set.\n\nWe want to move away from resource defaults for this because its results\nare dependent on the inclusion order which in tripleo is not guaranteed\nany longer (https://docs.puppet.com/puppet/latest/reference/lang_scope.html#scope-lookup-rules)\n\nThe only services affected in Newton are: cinder-volume,\ncinder-backup, manila-share, haproxy. I preferred fixing all the\npacemaker resources because it seems the cleanest and most logical\ncommit.\n\nChange-Id: If89a95706514e536a7a2949871a0002c79b6046e\nCloses-Bug: #1629366",
        "cmtr": "Emilien Macchi",
        "date": "2016-10-03 18:27:36+00:00",
        "files": ["pacemaker.pp", "apache.pp", "central.pp", "notification.pp", "collector.pp", "api.pp", "backup.pp", "scheduler.pp", "volume.pp", "glance.pp", "metricd.pp", "statsd.pp", "haproxy.pp", "api.pp", "api_cfn.pp", "api_cloudwatch.pp", "engine.pp", "manila.pp", "memcached.pp", "neutron.pp", "dhcp.pp", "l3.pp", "metadata.pp", "midonet.pp", "ovs.pp", "api.pp", "conductor.pp", "consoleauth.pp", "scheduler.pp", "vncproxy.pp", "api.pp", "engine.pp"]
      },
      {
        "hash": "d86516383390f73134b427fe2e4627161840409f",
        "msg": "Clean out UI httpd configuration file\n\nWhen updating the package with yum directly, a new httpd config file is\ncreated with a different name than the one used by Puppet, causing\nhttpd to fail. Cleaning out the package config file and keeping it\naround means it won't get overwritten on update, and is the way other\nprojects such as puppet-horizon handle this.\n\nChange-Id: I539729ce4cd0898f8b0f3f26266e4e6d55b99e37\nCloses-Bug: #1628983",
        "cmtr": "Emilien Macchi",
        "date": "2016-10-04 02:18:11+00:00",
        "files": ["ui.pp"]
      },
      {
        "hash": "39c9c6508a43b7c705f4f206e1093080c921b7d6",
        "msg": "Cleanup the firewall logic.\n\nWe added code in t-h-t to strip empty services from the service_names\nlist. (These are often the result of a service set to OS::Heat::None).\n\nAs such we can now drop this puppet reject statement.\n\nChange-Id: Ie66f14f183de7e44a1f69af862f7d4be9a14c904",
        "cmtr": "Dan Prince",
        "date": "2016-10-04 10:11:55-04:00",
        "files": ["firewall.pp"]
      },
      {
        "hash": "59a5f37c652c5cdad59723b5f96d808ff1558c90",
        "msg": "Change rabbitmq queues HA mode from ha-all to ha-exactly\n\nIt turns out that reducing number of rabbitmq queues in cluster\nsignificantly improves performance of cluster especially in the case of\nfailover recovery time. Right now the cluster uses ha-all mode for rabbitmq\nqueues.\n\nIt is best to change this to \"ha-exactly\" mode and reduce the number\nof queue copies to ceil(N/2) where N is number of controllers in the\ncluster - so in typical scenario of 3 controller It would be 2 by\ndefault.\n\nIt does not make much sense to keep the copies of queues over whole\ncluster since if the quorum of nodes is lost then the rest of cluster\nnodes will be stopped anyway. We let the user override this with a\nparameter.\n\nI.e. for a 3 node controlplane cluster we will go from this:\npcs resource show rabbitmq\n Resource: rabbitmq (class=ocf provider=heartbeat type=rabbitmq-cluster)\n  Attributes: set_policy=\"ha-all ^(?!amq\\.).* {\"ha-mode\":\"all\"}\"\n\nTo this:\npcs resource show rabbitmq\n Resource: rabbitmq (class=ocf provider=heartbeat type=rabbitmq-cluster)\n  Attributes: set_policy=\"ha-all ^(?!amq\\.).* {\"ha-mode\":\"exactly\",\"ha-params\":2}\"\n\nAccording to Marin Krcmarik's testing recovery time from failure was\nreduced significantly.\n\nCo-Authored-By: Marian Krcmarik <mkrcmari@redhat.com>\n\nChange-Id: Ib62001c03e1e08f58cf0c6e0ba07a8879a584084\nPartial-Bug: #1628998",
        "cmtr": "Michele Baldessari",
        "date": "2016-10-05 07:50:04+02:00",
        "files": ["rabbitmq.pp"]
      },
      {
        "hash": "39d88a49bf83a7a3437edc82f42986596356d331",
        "msg": "Enable usage of \"short names\" for Galera cluster\n\nWe're not able to use FQDNs yet, so to work around this, we give\nprecedence to a \"short name\" list we'll get from t-h-t.\n\nChange-Id: I4ef7786474c229d5212a0deb2ca02ee992b030d8\nRelated-Bug: #1628521",
        "cmtr": "Juan Antonio Osorio Robles",
        "date": "2016-10-05 10:56:00+03:00",
        "files": ["mysql.pp"]
      },
      {
        "hash": "b04f01026bedd10f4f57642f1bf81b1535673f88",
        "msg": "Use service-specific servernames for haproxy\n\nRight now we're hardcoding the server names for the services to be\nthe controllers. This is problematic if we start  using custom roles\nfor services, which listen on nodes that are not controllers.\n\nWe already have the server names for each service, so using this\nmapping instead fixes the issue.\n\nChange-Id: Ic4b65edb3dc1b75abbc3421a87cab97425b058c4\nCloses-Bug: #1629098",
        "cmtr": "Juan Antonio Osorio Robles",
        "date": "2016-10-05 08:21:17+00:00",
        "files": ["haproxy.pp"]
      },
      {
        "hash": "15c7d4b0af09f3240c23c11c31c67b52a220d0f3",
        "msg": "Explicitly use Keystone v2 endpoint in the UI\n\nThe UI expects a Keystone endpoint URL that includes the version\n(without it, it is not possible to log in). Looking at the\ndist/tripleo_ui_config.js.sample configuration sample in the tripleo-ui\nrepository, the current expectation is a v2.0 URL so let's use that for\nnow.\n\nChange-Id: I4ca04b16251fbee264cd4ce5e5433c2c1cb6d2f0\nCloses-Bug: #1630546",
        "cmtr": "Julie Pichon",
        "date": "2016-10-05 13:18:41+01:00",
        "files": ["ui.pp"]
      },
      {
        "hash": "0d2d2f342bdb8832925356489bc88c2ccd9514d4",
        "msg": "Enable usage of \"short names\" for Ceph cluster\n\nWe're not able to use FQDNs yet, so to work around this, we give\nprecedence to a \"short name\" list we'll get from t-h-t. We can\nmigrate to using FQDNs in the next cycle.\n\nChange-Id: Ic6fec1057439ed9122d44ef294be890d3ff8a8ee\nRelated-Bug: #1628521",
        "cmtr": "Juan Antonio Osorio Robles",
        "date": "2016-10-05 16:22:40+03:00",
        "files": ["ceph.pp"]
      },
      {
        "hash": "d7b449943ad17b3fbbd9d23c71699b2aacccb70b",
        "msg": "Fetch internal certificates for HAProxy based on network\n\nThe service profile in HAProxy has the capability of creating\ncertificates based on a map. The idea is to standardize this, as\nsome of those certificates should match certain networks the services\nare listening on (with the exception of the external network which is\nhandled differently and the tenant network which doesn't need a\ncertificate). So, based on which network a certain service is\nlistening on, we fetch the appropriate certificate.\n\nbp tls-via-certmonger\n\nChange-Id: I89001ae32f46c9682aecc118753ef6cd647baa62",
        "cmtr": "Juan Antonio Osorio Robles",
        "date": "2016-10-05 18:38:31+03:00",
        "files": ["haproxy.pp", "endpoint.pp", "haproxy.pp"]
      },
      {
        "hash": "5ac7ec551b76bc8c2b6de2281f7d86591f192f23",
        "msg": "Set enabled_share_protocols based on enabled backends\n\nWhen deploying manila with cephfs, share creation fails because\n'enabled_share_protocols' sticks to NFS,CIFS and does not get updated\nwith CEPHFS. This change aims at fixing it by building the list of\nenabled protocols based on the list of enabled backends.\n\nCo-Authored-By: Tom Barron <tbarron@redhat.com>\nCloses-Bug: 1630564\nChange-Id: I86ba8b9d5872c0f1a94e74215e97b796ad129bfb",
        "cmtr": "Giulio Fidente",
        "date": "2016-10-07 12:21:48+02:00",
        "files": ["api.pp"]
      },
      {
        "hash": "91d5a29d85b3ae696e7fb5176b4c10cfd2bbab18",
        "msg": "Use Heat role *_enabled hiera to check Manila backends\n\nAligns the way how we check for enabled backends in\npacemaker/manila.pp with what we did in base/manila/api.pp with [1].\n\nThe benefit is that we don't need to emit from the templates\ncustom hiera.\n\n1. I86ba8b9d5872c0f1a94e74215e97b796ad129bfb\n\nChange-Id: I04e28a95e8d69a24cd3df109bf1802bfcbd941db",
        "cmtr": "Giulio Fidente",
        "date": "2016-10-07 12:30:22+02:00",
        "files": ["manila.pp"]
      },
      {
        "hash": "555e6acc0351eaecf9640ea38632b450d2568396",
        "msg": "Include ::swift::config in Swift API and Storage roles\n\nThis changes makes the Swift API and Storage roles to include the\n::swift::config class, as we do for the other OpenStack services,\nwhich is useful to push arbitrary config settings into Swift.\n\nChange-Id: Iaf2c2f0f0103fe9264ce875099a1578b353a5558",
        "cmtr": "Giulio Fidente",
        "date": "2016-10-07 14:57:01+02:00",
        "files": ["proxy.pp", "storage.pp"]
      },
      {
        "hash": "8e70fc19eca7149dff793751fc7a7f5fd2ad74f5",
        "msg": "Only run ceilometer::db::sync on bootstrap node\n\nThe ceilometer::db::sync is included by default in ceilometer::db but we\nonly want it to run on the bootstrap node.  This change passes the\nsync_db parameter to ceilometer::db to manage the db sync process rather\nthan trying to manage the inclusion of ceilometer::db::sync within the\nprofile class.\n\nChange-Id: Ib56db1a90dd6fbfe7582fc57b7728df81942cce2\nCloses-Bug: #1629373",
        "cmtr": "Alex Schultz",
        "date": "2016-10-07 15:17:04+00:00",
        "files": ["collector.pp", "tripleo_profile_base_ceilometer_collector_spec.rb"]
      },
      {
        "hash": "36f7d8edf2875024f8f921bcd125d1209d1b4630",
        "msg": "Fix eqlx chap password\n\nThe hiera key generated by THT is eqlx_chap_password and not\neql_san_password.\n\nhttps://github.com/openstack/tripleo-heat-templates/blob/master/puppet/extraconfig/pre_deploy/controller/cinder-eqlx.yaml#L63\n\nChange-Id: Ic062d9060f0ce437336e2bd6aaca3887fc33c8cf\nCloses-Bug: #1631527",
        "cmtr": "Alex Schultz",
        "date": "2016-10-07 14:49:19-06:00",
        "files": ["eqlx.pp"]
      },
      {
        "hash": "fe3a492861371c93d572210c94776ebbb05bfbd2",
        "msg": "Add versioned_writes to Swift proxy config\n\nTempest expects object versioning to be enabled by default in Swift;\nif not it has to be disabled explicitly in the Tempest config.\n\nThis is a commonly used middleware, therefore it should be enabled\nin the overcloud proxy nodes as well.\n\nCloses-Bug: 1632215\nChange-Id: I07a206473ff7939749e3eba1dfe3ea8c4526eb5c",
        "cmtr": "Christian Schwede",
        "date": "2016-10-11 07:06:02+00:00",
        "files": ["proxy.pp"]
      },
      {
        "hash": "12910de9230ab5e04b0f8a78cc6245186f4cea34",
        "msg": "pacemaker: increase timeouts for rabbitmq and redis\n\nWhen we observe the 'stop timeout' values of pacemaker resources:\nrabbitmq and redis, they are set to 90s. But for all other services, it\nis set to 200s.\nThe overcloud deployment sometimes fails due to this with the error:\nError: Could not complete shutdown of rabbitmq-clone, 1 resources\nremaining\nError performing operation: Timer expired\n\nThis patch updates the timeout for Redis and RabbitMQ to avoid this\nerror.\n\nChange-Id: I8a3b3951a896ee3e8e5e09778e8ea4717e76a1b4",
        "cmtr": "Emilien Macchi",
        "date": "2016-10-12 12:32:18-04:00",
        "files": ["redis.pp", "rabbitmq.pp"]
      },
      {
        "hash": "1941037308d5a375e86e54946476bde707b01c13",
        "msg": "Deploy nova over Apache httpd\n\nThis adds the necessary resources to the manifest to migrate nova\nto run over httpd. The service name will be moved to t-h-t in a\nsubsequent commit, but since this patch depends on t-h-t, we try to\navoid circular dependencies of repos.\n\nChange-Id: I91d430a3871672f90b0f885736f067ddae3c238c\nDepends-On: I57fb20cf0d58b3376243ba4aeb04e995e7152ce3",
        "cmtr": "Juan Antonio Osorio Robles",
        "date": "2016-10-13 08:18:50+03:00",
        "files": ["api.pp"]
      },
      {
        "hash": "c16cdec8472b8ddb22ec5fd067d731d065b0d152",
        "msg": "Ensure presence of pacemaker restart directory.\n\nCurrently the /var/lib/tripleo/pacemaker-restarts directory is created\nonly when base/pacemaker.pp file is included in the manifest. There is a\nnotification that ensures precedence order and trigger the touch.\n\nThe trigger and the dependency on the base/pacemaker.pp should not be\nrequired as someone using the tripleo::pacemaker::resource_restart_flag\nwould expect the file to be created no matter what.\n\nFor instance in the Cinder upgrade in the convergence step has this\ndefined:\n\n        Cinder_config<||> ~> Tripleo::Pacemaker::Resource_restart_flag[\"${::cinder::params::volume_service}\"]\n\nbut in the convergence step, the base/pacemaker.pp is not included and\nthe above trigger fails as the directory is not created.\n\nIt looks the same for manilla.pp.\n\nThis patch removes the trigger and ensures the directory is created when\nneeded.\n\nChange-Id: Ic3aa82c818662e9e88e21c8381d657adef5b43ac\nCloses-Bug: #1632232",
        "cmtr": "Sofer Athlan-Guyot",
        "date": "2016-10-13 13:44:05+02:00",
        "files": ["resource_restart_flag.pp", "pacemaker.pp"]
      },
      {
        "hash": "381e59f6e15ab4cb5316e0be3ba831fe61b318d2",
        "msg": "pacemaker/mysql: wait step 2 to remove default accounts\n\nremove_default_accounts is a mysql::server parameter that, set to True,\nwill execute some MySQL commands to cleanup MySQL defaults accounts\ncreated by packaging.\nIn order to successfully run the commands, we need MySQL up and running,\nwhich is not the case at step 1 but at step 2.\n\nThis patch make sure we run the commands at step 2 on pacemaker master\nonly.\n\nNo change for scenarios without Pacemaker.\n\nChange-Id: Ifad3cb40fd958d7ea606b9cd2ba4c8ec22a8e94e\nCloses-Bug: #1633113",
        "cmtr": "Emilien Macchi",
        "date": "2016-10-13 11:21:02-04:00",
        "files": ["mysql.pp"]
      },
      {
        "hash": "1174c61cc55dbb3a4c003b52dfe7e4235e0916c1",
        "msg": "Add part_power and min_part_hours for Swift\n\nChange-Id: I78049105adf52226d47cc6764b1ba6c2c06e91e5\nRelated-Bug: 1631926",
        "cmtr": "Christian Schwede",
        "date": "2016-10-13 21:19:05+00:00",
        "files": ["ringbuilder.pp"]
      },
      {
        "hash": "8e931eca04033c3b3f1c37667d21b05cc448301a",
        "msg": "Remove explicit service_name setting from nova manifest\n\nWe can now get this parameter from t-h-t, so it's not needed here.\n\nChange-Id: I014e7b3a6feb5609ace2e8ef1e4df11448b0a0cc\nDepends-On: Ic229182cc5c887b57f6182c3db1bac8bed330f7c",
        "cmtr": "Juan Antonio Osorio Robles",
        "date": "2016-10-14 13:54:19+03:00",
        "files": ["api.pp"]
      },
      {
        "hash": "9ca75667940a203cd0536cb64c9966f4f951c95b",
        "msg": "Move heat domain/user creation into keystone profile\n\nThis needs to happen on the node running keystone, or things break\nwhen you try to deploy e.g the heat_engine service on a non Controller\nrole.  We check the enabled flag for heat engine so this only happens\nif the heat_engine service is running on some (any) role.\n\nPartial-Bug: #1631130\nChange-Id: Ib088a572b384b479f51d56555734d78ab840a1f3",
        "cmtr": "Emilien Macchi",
        "date": "2016-10-14 09:16:56-04:00",
        "files": ["heat.pp", "keystone.pp"]
      },
      {
        "hash": "45783d1c643b7a47454207b3a90575f1ed8ab46d",
        "msg": "packages: run upgrade at 'setup' stage\n\nInstead of using an operator to make sure we upgrade package before any\nservice, which causes dependency cycles with iptables puppet module,\nlet's do another approach where we upgrade rpms in the 'setup' stage,\nwhich is a stage that runs before configure and running services.\n\nIn that way, we'll remove dependency cycles and make sure packages are\nupgrades before configure and running TripleO services.\n\nChange-Id: I1be83f88be1959885c980ab4f428477d412751f7",
        "cmtr": "Emilien Macchi",
        "date": "2016-10-14 18:17:30-04:00",
        "files": ["packages.pp", "upgrades.pp", "tripleo_packages_spec.rb"]
      },
      {
        "hash": "36c0d0a3c19446fbec88686ea9b96ffa4fc4498f",
        "msg": "Enable haproxy statistics unix socket\n\nBy enabling the statistics socket we allow the collection\nof statistics over time for haproxy.\n\nThis socket is set to \"user\" level, so this socket is limited\nto read-only. The \"stats timeout\" line is optional, but since the\ndefault timeout of the stats socket is 10s, we set this higher.\n\nChange-Id: I22d3ab771e981be0d2c74b60443d276973bc1639",
        "cmtr": "Michele Baldessari",
        "date": "2016-10-16 21:57:29+02:00",
        "files": ["haproxy.pp"]
      },
      {
        "hash": "bd5fd8c1095a6d66e94a6629a3be6bf5f81dc687",
        "msg": "Remove faulty migration logic to stop nova-api\n\nThe patch making nova run over httpd had added migration logic to\nstop nova-api, However, this doesn't work since nova-metadata is\nrunning over the same process. Now, the fact that is was running\nseems to be just luck, since the systemctl runs, then we start the\nservice via the nova::api resource. So this is fragile in it's\ncurrent state.\n\nThis then removes the exec, as we don't need it for the migration.\n\nChange-Id: I4603b81d30a704b07eef461b3cdbfe164614b04f",
        "cmtr": "Juan Antonio Osorio Robles",
        "date": "2016-10-17 09:47:34+03:00",
        "files": ["api.pp"]
      },
      {
        "hash": "3ae5b6d7033480a109da237aeba7b18b6f85e32e",
        "msg": "Deploy cinder over Apache httpd\n\nThis adds the necessary resources to the manifest to run cinder\nto run over httpd. The service name will be moved to t-h-t in a\nsubsequent commit, but since this patch depends on t-h-t, we try to\navoid circular dependencies of repos.\n\nChange-Id: I950257e3b5d8db071752e53557115429574e98e2\nDepends-On: Ic1967a6f4f60a273965811516f33121115d518b4",
        "cmtr": "Juan Antonio Osorio Robles",
        "date": "2016-10-17 10:16:11+03:00",
        "files": ["api.pp"]
      },
      {
        "hash": "e2bab07d547ec6e9f5586868e10cceecf8158508",
        "msg": "Add zaqar profiles\n\nChange-Id: Ie215289a7be681a2b1aa5495d3f965c005d62f52\nDepends-On: Ia863b38bbac1aceabe6b7deb6939c9db693ff16d",
        "cmtr": "Brad P. Crochet",
        "date": "2016-10-17 07:07:20-04:00",
        "files": ["keystone.pp", "zaqar.pp"]
      },
      {
        "hash": "4cf346d257611f88a00d30350c3d062fd32cd83e",
        "msg": "Removes logic dependent on 'odl_on_controller'\n\nSince moving to composable service/roles there was some logic here that\nwas relying on a variable to enable ODL rather than enabling the service\nitself to decide where ODL was enabled.  Now that ODL and ODL OVS\nconfiguration are split into 2 different services we can make these\ntruly composable.\n\nPartial-Bug: 1633625\n\nChange-Id: Ia55c05e12d5d434111a13e1ed795da530e3ff4a5\nSigned-off-by: Tim Rozet <trozet@redhat.com>",
        "cmtr": "Tim Rozet",
        "date": "2016-10-17 11:29:10-04:00",
        "files": ["opendaylight.pp", "opendaylight.pp", "opendaylight.pp"]
      },
      {
        "hash": "597194a4199b34e1389b26f080ae1fefccbca924",
        "msg": "Add port to rabbitmq node ip list\n\nWe use the rabbit_hosts configuration for most of our services but we\nhaven't been adding the configured port. This patch appends the IP port\nused provided to the service's heat template to the IPs in the list.\n\nNote: while we could use the value set for the rabbitmq server in\nrabbitmq::port, it doesn't allow for dealing with SSL. This also is also\nbackwards compatible with the RabbitClientPort parameters used in the\nheat templates.\n\nChange-Id: I0000f039144a6b0e98c0a148dc69324f60db3d8b\nCloses-Bug: #1633580",
        "cmtr": "Brent Eagles",
        "date": "2016-10-17 14:43:15-02:18",
        "files": ["aodh.pp", "ceilometer.pp", "cinder.pp", "api.pp", "heat.pp", "ironic.pp", "keystone.pp", "manila.pp", "mistral.pp", "neutron.pp", "nova.pp", "sahara.pp", "tripleo_profile_base_aodh_spec.rb", "tripleo_profile_base_ceilometer_spec.rb"]
      },
      {
        "hash": "43d6dc468dc33e3af3b3de99c41b2ff479e61db7",
        "msg": "Enable communication between UI and the Undercloud by making HAProxy\nproxy for the UI\n\nChange-Id: I74eac4bbfc16720eeb6e2bf0ee251689dde3bafc\nImplements: enable-communication-ui-undercloud",
        "cmtr": "Dan Trainor",
        "date": "2016-10-17 23:17:55-07:00",
        "files": ["haproxy.pp", "ui.pp"]
      },
      {
        "hash": "3fe6889fed9638baa9b658cd5c704a66a50929aa",
        "msg": "Fix broken rabbitmqctl commands when using ipv6\n\nWhen deploying via ipv6, rabbitmq-ctl commands have the following\nissues:\n\n- `rabbitmq cluster_status` shows nodedown alerts\n- list_queues / list_connections hang\n- `rabbitmqctl node_health_check` fails with an error.\n\n* There is no any issue while performing activity on RHOS setup(From\n* horizon/cli). i.e. RHOS environment is functioning as expected.\n\nFor example:\nsudo rabbitmqctl node_health_check -n rabbit@node1\nChecking health of node 'rabbit@node1' ...\nHeath check failed:\nhealth check of node 'rabbit@node1' fails: nodedown\n\nThe problem is that we are missing the following in\n/etc/rabbitmq/rabbitmq-env.conf:\nRABBITMQ_CTL_ERL_ARGS=\"-proto_dist inet6_tcp\"\n\nFix these by setting the appropriate RABBITMQ_CTL_ERL_ARGS when\ndeploying ipv6.\n\nCloses-Bug: #1633693\nChange-Id: I53f4e76e687b3966fbb74fd0c2d83f05176630de",
        "cmtr": "Michele Baldessari",
        "date": "2016-10-18 09:56:42+02:00",
        "files": ["rabbitmq.pp"]
      },
      {
        "hash": "2e234e2e3510e405de2ff97754b96681bf49bcff",
        "msg": "Set memcached_servers for nova API\n\nThis patch updates the Nova profile so that we set memcached\nservers correctly for the Nova keystone auth_token middleware.\n\nMost of the hiera settings for ::nova::keystone::authtoken are\nalready included in the t-h-t nova-api service.\n\nChange-Id: I3b7ff02abbd0d5e0c38232d02b33e4c7bc411120\nCloses-bug: #1633595",
        "cmtr": "Dan Prince",
        "date": "2016-10-18 07:57:54-04:00",
        "files": ["api.pp"]
      },
      {
        "hash": "a970cf81d8b06c6999966b20ad2b4c980b3b107b",
        "msg": "Fixes missing ODL ML2 Authentication info\n\nWithout this, neutron-server fails to start and communication will not\nwork to ODL REST.\n\nParital-Bug: 1633630\n\nChange-Id: Ifd906db4e6062ac271c2147fe1149b1009d06ae2\nSigned-off-by: Tim Rozet <trozet@redhat.com>",
        "cmtr": "Tim Rozet",
        "date": "2016-10-18 17:11:46-04:00",
        "files": ["opendaylight.pp"]
      },
      {
        "hash": "aa6660376d1b0145d7ab040f50ba2755bc4b3c18",
        "msg": "Add barbican profile\n\nCo-Authored-By: Juan Antonio Osorio Robles <jaosorior@redhat.com>\nChange-Id: If2804b469eb3ee08f3f194c7dd3290d23a245a7a",
        "cmtr": "Juan Antonio Osorio Robles",
        "date": "2016-10-19 08:44:58+03:00",
        "files": ["haproxy.pp", "barbican.pp", "api.pp", "keystone.pp"]
      },
      {
        "hash": "76bf2f532f9541eaf9cd7242ad2bf520f6788033",
        "msg": "Enable TLS in the internal network for keystone\n\nThis optionally enables TLS for keystone in the internal network.\nIf internal TLS is enabled, each node that is serving the keystone\nservice will use certmonger to request its certificate.\n\nThis, in turn should also configure a command that should be ran when\nthe certificate is refreshed (which requires the service to be\nrestarted).\n\nbp tls-via-certmonger\nChange-Id: I303f6cf47859284785c0cdc65284a7eb89a4e039",
        "cmtr": "Juan Antonio Osorio Robles",
        "date": "2016-10-19 17:37:32+03:00",
        "files": ["httpd.pp", "haproxy.pp", "keystone.pp"]
      },
      {
        "hash": "a173a030aa97ae17b457206cab3e657c28c04880",
        "msg": "Enable TLS in the internal network for ceilometer\n\nThis optionally enables TLS for aodh in the internal network.\nIf internal TLS is enabled, each node that is serving the ceilometer\nservice will use certmonger to request its certificate.\n\nThis, in turn should also configure a command that should be ran when\nthe certificate is refreshed (which requires the service to be\nrestarted).\n\nbp tls-via-certmonger\n\nChange-Id: Ib5609f77a31b17ed12baea419ecfab5d5f676496",
        "cmtr": "Juan Antonio Osorio Robles",
        "date": "2016-10-19 17:39:07+03:00",
        "files": ["haproxy.pp", "api.pp"]
      },
      {
        "hash": "aa7315e58530861753e00779e55b5d4ab4ef5089",
        "msg": "Enable TLS in the internal network for aodh\n\nThis optionally enables TLS for aodh in the internal network.\nIf internal TLS is enabled, each node that is serving the aodh\nservice will use certmonger to request its certificate.\n\nThis, in turn should also configure a command that should be ran when\nthe certificate is refreshed (which requires the service to be\nrestarted).\n\nbp tls-via-certmonger\n\nChange-Id: I50ef0c8fbecb19d6597a28290daa61a91f3b13fc",
        "cmtr": "Juan Antonio Osorio Robles",
        "date": "2016-10-19 17:40:32+03:00",
        "files": ["haproxy.pp", "api.pp"]
      },
      {
        "hash": "9f9a6db9fc479355ee67ec45f170b77de56a1bdb",
        "msg": "Enable TLS in the internal network for gnocchi\n\nThis optionally enables TLS for gnocchi in the internal network.\nIf internal TLS is enabled, each node that is serving the gnocchi\nservice will use certmonger to request its certificate.\n\nbp tls-via-certmonger\n\nChange-Id: Ie983933e062ac6a7f0af4d88b32634e6ce17838b",
        "cmtr": "Juan Antonio Osorio Robles",
        "date": "2016-10-19 17:41:34+03:00",
        "files": ["haproxy.pp", "api.pp"]
      },
      {
        "hash": "d80b2d99b600a6aad9f185572c2ddef6d2a893c9",
        "msg": "Use HAProxy for docker-registry endpoint\n\nThe docker tooling has a preference for interacting with encrypted\nendpoints. Terminating the docker-registry endpoint with HAProxy\nallows the SSL VIP to be used for this purpose.\n\nChange-Id: Ifebfa7256e0887d6f26a478ff8dc82b0ef5f65f6",
        "cmtr": "Steve Baker",
        "date": "2016-10-20 15:11:07+13:00",
        "files": ["haproxy.pp"]
      },
      {
        "hash": "ebc0c0c8a679643b6a2d0c86944b79d9c95b84fd",
        "msg": "Remove the hardcoded tcp_keepalive false parameter\n\nIn change I35921652bd84d1d6be0727051294983d4a0dde10 we want to remove\nall those duplicate tcp_listen_option entries. One consequence of that\nis that we need to set rabbitmq::tcp_keepalive to true via hiera\n(as opposed to forcing it via the tcp_listen_option hash).\n\nFor this to work we need to remove this forced parameter override.\nNote that even if I35921652bd84d1d6be0727051294983d4a0dde10 and this\nchange don't merge at the exact same time it is still okay because\nwe do force tcp_keepalive to true via the tcp_listen_options.\n\nChange-Id: I608477d5714a5081b3b4ab3b9fc2932bdd598301",
        "cmtr": "Michele Baldessari",
        "date": "2016-10-21 08:24:40+02:00",
        "files": ["rabbitmq.pp"]
      },
      {
        "hash": "0ee53633d449e903e150622db9ea1aed77f550f1",
        "msg": "Deploy monitoring/logging agents sooner\n\nTo be able to monitor during deployment, we need sensu clients\nand fluentd collectors be deployed as soon as it is possible.\n\nChange-Id: I952f0d6de6f6327d5c923b8f1d7a5979758dbc59",
        "cmtr": "Martin Mgr",
        "date": "2016-10-21 12:41:25+02:00",
        "files": ["fluentd.pp", "sensu.pp"]
      },
      {
        "hash": "4887e187a6b83ff74feaec65fc839e5ac65f813b",
        "msg": "Increase haproxy client/server timeout for swift-proxy\n\nThe upload and extraction for the plan tarball to swift can take\nlonger than the default one minute in slower environments. Doubling\nthe timeout to two minutes has proven to help.\n\nThis is only a partial fix, because the error reporting for this\nissue also needs to be improved.\n\nChange-Id: I06592d38fdfefacc8bdf76289a0bfa20eb33a89b\nPartial-Bug: 1635269",
        "cmtr": "John Trowbridge",
        "date": "2016-10-21 10:51:44-04:00",
        "files": ["haproxy.pp"]
      },
      {
        "hash": "ad4e331917a2da9f2fd8215369736896348244fd",
        "msg": "NFS mounting for Glance file backend\n\nPreviously we did this with Pacemaker, but with move to NG HA\narchitecture we lost the ability to use NFS mounts as image storage for\nGlance. This reimplements the mounting without utilizing Pacemaker. The\nmount is by default also written to /etc/fstab so that it persists over\nreboot, but this behavior can be disabled.\n\nThis could also go to puppet-glance eventually, but not yet -- we need\nthis backported to Newton because it's a TripleO regression. I don't\nthink puppet-glance would allow backporting this to Newton, because from\ntheir point of view it would be a RFE rather than a regression.\n\nChange-Id: I45ad34c36587a8d695069368cf791f1efb68256c\nRelated-Bug: #1635606",
        "cmtr": "Jiri Stransky",
        "date": "2016-10-21 17:41:03+02:00",
        "files": ["nfs_mount.pp", "api.pp"]
      },
      {
        "hash": "03a68a5c8cdbabcf6e152b9aca62f1007c713b5c",
        "msg": "Set redis file descriptor limit when run via pacemaker\n\nThe current redis file descriptor limit is 4096 because of two reasons:\n- It is run via the redis user\n- It is not started via systemd which has explicit LimitNOFILE set to\n  10240 (which matches the default configuration of maximum 10000\n  clients)\n\nCreate an /etc/security/limits.d/redis.conf file in order to increase\nthe fd limit value  With this change we correctly get the following\nlimits:\n[root@overcloud-controller-0 ~]# pcs status |grep -A2 redis\n Master/Slave Set: redis-master [redis]\n     Masters: [ overcloud-controller-2 ]\n     Slaves: [ overcloud-controller-0 overcloud-controller-1 ]\n\n[root@overcloud-controller-0 ~]# cat /proc/`pgrep redis`/limits | grep open\nMax open files            10240                10240   files\n\nPreviously this limit was set to 4096.\n\nChange-Id: I7691581bad92ad9442cecd82cf44f5ac78ed169f\nCloses-Bug: #1635334",
        "cmtr": "Michele Baldessari",
        "date": "2016-10-25 15:46:10+02:00",
        "files": ["redis.pp"]
      },
      {
        "hash": "c7d5821212411f9eae42954f6fb4a20f02170395",
        "msg": "Remove unused pacemaker profiles\n\nWith the landing of HA NG in Newton we can actually remove the\npacemaker profiles we do not need. The only ones that are being\nused in one form or the other are:\n\n$ grep -ir services\\/pacemaker environments | awk '{ print $3 }' | sort | uniq\n../puppet/services/pacemaker/cinder-backup.yaml\n../puppet/services/pacemaker/cinder-volume.yaml\n../puppet/services/pacemaker/database/mysql.yaml\n../puppet/services/pacemaker/database/redis.yaml\n../puppet/services/pacemaker/haproxy.yaml\n../puppet/services/pacemaker/manila-share.yaml\n../puppet/services/pacemaker/rabbitmq.yaml\n../puppet/services/pacemaker.yaml\n\nThe only exception is profile/pacemaker/database/mongodbvalidator\nbecause it is included by profile/base/database/mongodb.pp\n\nChange-Id: I80c8559bb2d915385bcc20ae71fe144ddd6591c1",
        "cmtr": "Michele Baldessari",
        "date": "2016-10-25 16:10:43+02:00",
        "files": ["apache.pp", "ceilometer.pp", "central.pp", "notification.pp", "api.pp", "collector.pp", "api.pp", "scheduler.pp", "core.pp", "mongodb.pp", "glance.pp", "gnocchi.pp", "api.pp", "metricd.pp", "statsd.pp", "heat.pp", "api.pp", "api_cfn.pp", "api_cloudwatch.pp", "engine.pp", "keystone.pp", "memcached.pp", "neutron.pp", "dhcp.pp", "l3.pp", "metadata.pp", "midonet.pp", "ovs.pp", "ml2.pp", "nuage.pp", "opencontrail.pp", "plumgrid.pp", "server.pp", "nova.pp", "api.pp", "conductor.pp", "consoleauth.pp", "scheduler.pp", "vncproxy.pp", "sahara.pp", "api.pp", "engine.pp"]
      },
      {
        "hash": "cf4166ff5defb90acd7ffa4d3df3dda606cbd1ec",
        "msg": "Only restart haproxy services when enable_load_balancer is defined\n\nIf we upgrade a cloud that was configured with external load balancer\nthe process will fail during convergence step because it will try to\nrestart haproxy which is not configured when an external load balancer\nis configured.\n\nCloses-Bug: #1636527\n\nChange-Id: I6f6caec3e5c96e77437c1c83e625f39649a66c48",
        "cmtr": "Michele Baldessari",
        "date": "2016-10-25 16:23:04+02:00",
        "files": ["haproxy.pp"]
      },
      {
        "hash": "c01acb0c4930ecbef7de1ed876afa6120fe2ee35",
        "msg": "Reload haproxy if any configuration changes on HA\n\nIn some cases, for instance, when updating from a non-SSL setup in\nHAProxy to an SSL setup, we don't reload haproxy's configuration.\nThis is problematic since we need HAProxy to serve the certificates\nand the new endpoints.\n\nThis forces the reload when puppet notices changes.\n\nChange-Id: Ie1dd809e6beef33fadad48de55e488219fb7d686\nCloses-Bug: #1636921",
        "cmtr": "Juan Antonio Osorio Robles",
        "date": "2016-10-26 19:38:55+03:00",
        "files": ["haproxy.pp"]
      },
      {
        "hash": "d910331e816a16f9fa32eaa25ada5edb9c644f44",
        "msg": "Calculate zaqar mongo from mongodb_node_ips\n\nIn order to make the zaqar service fully composable, the mongo ips need\nto be calculated without assuming that mongo and zaqar are on the same\nnode.\n\nChange-Id: I0b077e85ba5fcd9fdfd33956cf33ce2403fcb088",
        "cmtr": "Brad P. Crochet",
        "date": "2016-10-27 05:04:36-04:00",
        "files": ["zaqar.pp"]
      },
      {
        "hash": "30b63768355a1a5701305477857ac665aa190dc9",
        "msg": "Clean up service name from cinder api\n\nSince the service_name is now being passed from t-h-t, we can clean\nit up from the profile in puppet.\n\nChange-Id: I724af8c355c3077be64cf472cedbca80af55da01\nDepends-On: I13638cd1af52537bef8540f0d5fa5f5f7decd392",
        "cmtr": "Juan Antonio Osorio Robles",
        "date": "2016-10-27 17:38:52+03:00",
        "files": ["api.pp"]
      },
      {
        "hash": "8ee57d6b61c5d3951c147d159e42e12a1c354cfc",
        "msg": "Fixes transparent binding to OpenDaylight in HA Proxy\n\nODL was missing transparent binding mode, which causes HA deployments to\nfail since HA Proxy will try to come up on every node (even without\nVIP).\n\nCloses-Bug: 1637833\n\nChange-Id: I0bb7839cdcfeacb4ca1a9fc6f878e8b51330be92\nSigned-off-by: Tim Rozet <trozet@redhat.com>",
        "cmtr": "Tim Rozet",
        "date": "2016-10-30 09:44:18-04:00",
        "files": ["haproxy.pp"]
      },
      {
        "hash": "aa82e175b5276729385f9b938f34a291b98640f5",
        "msg": "Make sure keepalived is restarted before haproxy.\n\nWhen using SSL setup for undercloud, the admin and public vip required\nfor ssl binding by haproxy are created by keepalived.\n\nThis makes sure that keepalived is started before haproxy and thus that\nthe interfaces are indeed present.\n\nThis patch also ensures this is happening for overcloud ssl\nconfiguration. The case where another load-balancing technology other\nthan haproxy is used is not covered.\n\nCloses-Bug: #1638029\n\nChange-Id: I98cb0dcd7f389a1dd38ec8324429bfef4979aa66",
        "cmtr": "Sofer Athlan-Guyot",
        "date": "2016-10-31 19:25:11+01:00",
        "files": ["keepalived.pp"]
      },
      {
        "hash": "7050852e22eedcb9525beeee83f965c914641e26",
        "msg": "Enable TLS in the internal network for Nova API\n\nThis optionally enables TLS for Nova API in the internal network.\nIf internal TLS is enabled, each node that is serving the Nova API\nservice will use certmonger to request its certificate.\n\nNote that this doesn't enable internal TLS for the nova metadata\nservice since it doesn't run over httpd. This will be handled in\na later commit.\n\nbp tls-via-certmonger\n\nChange-Id: I88380a1ed8fd597a1a80488cbc6ce357f133bd70",
        "cmtr": "Juan Antonio Osorio Robles",
        "date": "2016-11-01 12:18:18+02:00",
        "files": ["haproxy.pp", "api.pp"]
      },
      {
        "hash": "625c7d9fc8bb5324ba3a600c15fa0b817337d268",
        "msg": "Fix default for barbican documentation\n\nChange-Id: Id4dc2379b0c423012a0b3aaf49d1e1a7d633a03b",
        "cmtr": "Juan Antonio Osorio Robles",
        "date": "2016-11-01 15:47:53+02:00",
        "files": ["haproxy.pp"]
      },
      {
        "hash": "cf70097238b2bc3d17a0d592f9299be9b93046c2",
        "msg": "Enable TLS in the internal network for Cinder API\n\nThis optionally enables TLS for Cinder API in the internal network.\nIf internal TLS is enabled, each node that is serving the Cinder API\nservice will use certmonger to request its certificate.\n\nbp tls-via-certmonger\n\nChange-Id: Ib4a9c8d3ca57f1b02e1bb0d150f333db501e9863",
        "cmtr": "Juan Antonio Osorio Robles",
        "date": "2016-11-02 10:53:24+02:00",
        "files": ["haproxy.pp", "api.pp"]
      },
      {
        "hash": "44d3ebe54661df0fcea30969f495f9780ee7c671",
        "msg": "Create heat user in keystone profile\n\nRather than use the heat::keystone::domain class which also includes the\nconfiguration options, we should just create the user for heat in\nkeystone independently of the configuration.\n\nChange-Id: I7d42d04ef0c53dc1e62d684d8edacfed9fd28fbe\nRelated-Bug: #1638350\nCloses-Bug: #1638626",
        "cmtr": "Alex Schultz",
        "date": "2016-11-02 16:57:20+00:00",
        "files": ["heat.pp", "keystone.pp"]
      },
      {
        "hash": "8a4fc9c18e8ebfccc7f5bd0c4820c87bebd61d31",
        "msg": "swift/proxy: configure rabbitmq properly\n\nUse rabbitmq_node_ips to find out where rabbitmq nodes are, and have\ncorrect ipv6 syntax if required.\n\nCloses-Bug: 1637443\nChange-Id: Ibc0ed642931dd3ada7ee594bb8c70a1c3462206d",
        "cmtr": "Emilien Macchi",
        "date": "2016-11-04 19:10:17+00:00",
        "files": ["proxy.pp"]
      },
      {
        "hash": "1bee7bc8fa0ca5ace330e54bc3e64d7f6692d5a7",
        "msg": "Increase haproxy timeouts\n\nIt's been proposed this may help with the\n('Connection aborted.', BadStatusLine(\"''\",)) errors.\n\nThis patch increase queue, server and client timeouts to 2m (default is 1m)\nRelated-Bug: #1638908\n\nChange-Id: Ie4f059f3fad2271bb472697e85ede296eee91f5d",
        "cmtr": "Steven Hardy",
        "date": "2016-11-07 11:36:37+00:00",
        "files": ["haproxy.pp"]
      },
      {
        "hash": "274156e5bab7a6c252d9c13015a1d4d14801e770",
        "msg": "Add proper handling of IPv6 addresses for rabbit host/port handling\n\nThis patch changes the rabbit_hosts config generation to work properly\nwith IPv6 addresses.\n\nCloses-Bug: #1639881\nChange-Id: I07cd983880a4a75a051e081dcb96134cb5c6f5e8",
        "cmtr": "Brent Eagles",
        "date": "2016-11-08 02:03:27-03:18",
        "files": ["aodh.pp", "ceilometer.pp", "cinder.pp", "api.pp", "heat.pp", "ironic.pp", "keystone.pp", "manila.pp", "mistral.pp", "neutron.pp", "nova.pp", "sahara.pp"]
      },
      {
        "hash": "ffd7040a6dcfda59a6768fbe481aba332133e83a",
        "msg": "Include local CA in haproxy PEM\n\nIn order for the browser to trust the certificate served by HAProxy\nwe need to include the CA cert in the PEM file that the endpoints\nserve.\n\nChange-Id: Ibce76c1aa04bd3cb09a804c6e9789c55d8f2b417\nCloses-Bug: #1639807",
        "cmtr": "Juan Antonio Osorio Robles",
        "date": "2016-11-08 09:05:12+02:00",
        "files": ["haproxy.pp"]
      },
      {
        "hash": "943e49435621062a1c898de4b2edccf48c59fc16",
        "msg": "Improve failed mysql node removal time in HA deploys.\n\nIn HA deployments, we now check mysql nodes every 1s and removed them\nimmediately if they are failed. Previously we would check every 2s and\nallow them to fail 5 checks before being removed, producing errors from\nother OpenStack services for 10s, which causes confusion and delay for\noperators.\nAdditionally, these check options are now also a class parameter so can\nbe overridden by operators.\n\nCloses-Bug: #1639189\n\nChange-Id: I0b915f790ae5a4b018a212d3aa83cca507be05e9",
        "cmtr": "Chris Jones",
        "date": "2016-11-08 10:44:14+00:00",
        "files": ["haproxy.pp"]
      },
      {
        "hash": "005bf64e4a4f7ef1de161ebe6363d7f5369028e4",
        "msg": "Pass X-Forwarded-Proto for missing services\n\naodh, ceilometer, gnocchi and neutron need the X-Forwarded-Proto in\norder to return links with the correct protocol when SSL is enabled.\nThis enables it in HAProxy\n\nChange-Id: Icceab92f86b1cc40d42195fa4ba0c75f302795b8\nCloses-Bug: #1640126",
        "cmtr": "Juan Antonio Osorio Robles",
        "date": "2016-11-08 13:22:13+02:00",
        "files": ["haproxy.pp"]
      },
      {
        "hash": "d66e47f7e3c54dc659266457afd67c22485a15ec",
        "msg": "Wrong default in docstring\n\nUpdate default doc default for bind_host to match previous change\nhttp://review.openstack.org/386817/\n\nChange-Id: Iff048ba7152c1b7e945f284311215c8f872c1409\nCloses-bug: #1640104",
        "cmtr": "MikeG451",
        "date": "2016-11-08 15:37:50+00:00",
        "files": ["ui.pp"]
      },
      {
        "hash": "b11d048e55fc20a90bcf11eed0f4cea5e1b45f7c",
        "msg": "Better way to ensure keepalived before haproxy.\n\nThe lastest patchset of https://review.openstack.org/393361 was actually\nnot working.\n\nThe `if defined` idiom depends on *evaluation* order.\n\nAt the time it's red in the haproxy.pp class, the line that loads the\nclass 'haproxy' has still not yet been reached and thus the `defined`\nresult is false. The constraint is not added.\n\nFor this reason, the use of `defined` in module is not advised by\npuppetlabs[1].\n\n[1] https://docs.puppet.com/puppet/latest/reference/function.html#defined\n\nChange-Id: Ibd352cb313f8863d62db8987419378bed5b87256\nRelates-To: #1638029",
        "cmtr": "Sofer Athlan-Guyot",
        "date": "2016-11-08 18:35:11+01:00",
        "files": ["haproxy.pp", "keepalived.pp"]
      },
      {
        "hash": "b9dcee028795bb1132176df7ef3f435039cc20cb",
        "msg": "Ensure keepalived is restarted when necessary.\n\nIf os-collect-config/config.json is updated before an upgrade/update,\nthen the os-net-config run will automatically erase the keepalived\nmanaged ips.\n\nThis is a hackish way to ensure that keepalived is restarted during the\nnext phase in order to have the ip recreated.\n\nIt basically adds a comment line to the keepalived.conf file (making it\ndifferent than the puppet one) if it's there. This will force a puppet\nrestart of the keepalive service puting the ips back on the undercloud.\n\nChange-Id: I56b706ff44ba31aa87a63f870940831ce02a6e77\nCloses-Bug: #1640213\nRelated-Bug: #1638029",
        "cmtr": "Sofer Athlan-Guyot",
        "date": "2016-11-09 10:50:24+01:00",
        "files": ["os_net_config.pp"]
      },
      {
        "hash": "7b1690b19f38f30a7b1d1f8969e8df6bf26cb9e2",
        "msg": "adding new swift middleware that is typically enabled by default\n\nThese are features that are typically enabled by default\nin any swift cluster.\n\nChange-Id: Ie323f68255a73d46e774cbf49d9353c3bf90c35e\nSigned-off-by: Thiago da Silva <thiago@redhat.com>",
        "cmtr": "Thiago da Silva",
        "date": "2016-11-09 17:48:42-05:00",
        "files": ["proxy.pp"]
      },
      {
        "hash": "f5a20ed5911324311b02773dde8a917eb82ddc0c",
        "msg": "Fix puppet lint failure\n\nI'm not sure how this merged, but it's causing failures in other\npatches to puppet-tripleo.\n\nChange-Id: Ib20d349fa9abd6347739190bb29a02b6e3eb839d",
        "cmtr": "Ben Nemec",
        "date": "2016-11-10 23:03:58+00:00",
        "files": ["opendaylight.pp"]
      },
      {
        "hash": "d6241cdfc142084c5d79a83d310bb70cade6640a",
        "msg": "Fix barbican server name to not use aodh hiera\n\nthis looks like a copy/paste error. Let barbican use its own\nhiera data.\n\nChange-Id: I84118c1a561c3db2f18504b55c5a8c4f042e7e3b",
        "cmtr": "Pradeep Kilambi",
        "date": "2016-11-11 12:57:12+00:00",
        "files": ["haproxy.pp"]
      },
      {
        "hash": "9a79bdab86224e678414fd98ba2e888836083e79",
        "msg": "Call VF configuration from udev rules\n\nWhen a physical function that was allocated to a guest is released back\nthe system, it is not automatically brought \"up\" and the VF\nconfiguration is not restored. This patch creates a file containing some\nudev rules to force the VF configuration.\n\nNote: we may find that the ifup-local script is no longer required but\nthis will require further testing.\n\nChange-Id: Ie6e78730aa0a748b3b5100ab7c7bc007d8ab176d\nPartial-Bug: #1639901",
        "cmtr": "Brent Eagles",
        "date": "2016-11-11 10:14:42-03:18",
        "files": ["sriov.pp", "numvfs_persistence.pp", "tripleo_host_sriov_numvfs_persistence_spec.rb"]
      },
      {
        "hash": "3f16ce2c0c0f73fc863d33022033112084a9b6c5",
        "msg": "Normalize civetweb binding address if IPv6\n\nThe civetweb binding format is IP:PORT; this change ensures the IP\nis enclosed in brackets if IPv6.\n\nTo do so we add the bind_ip and bind_port parameters to the\nrgw service class.\n\nChange-Id: Ib84fa3479c2598bff7e89ad60a1c7d5f2c22c18c\nCo-Authored-By: Lukas Bezdicka <social@v3.sk>\nRelated-Bug: #1636515",
        "cmtr": "Giulio Fidente",
        "date": "2016-11-11 16:22:41+01:00",
        "files": ["rgw.pp", "tripleo_profile_base_ceph_rgw_spec.rb"]
      },
      {
        "hash": "6e78c2f19afbaf513e6f8d936aed76daedadb947",
        "msg": "Enable TLS in the internal network for Barbican API\n\n This optionally enables TLS for Barbican API in the internal network.\n If internal TLS is enabled, each node that is serving the Barbican API\n service will use certmonger to request its certificate.\n\n bp tls-via-certmonger\n\nChange-Id: I1c1d3dab9bba7bec6296a55747e9ade242c47bd9",
        "cmtr": "Juan Antonio Osorio Robles",
        "date": "2016-11-14 09:06:28+02:00",
        "files": ["haproxy.pp", "api.pp"]
      },
      {
        "hash": "a6089cb92f688ca5a24f7dec4196164dd6e277be",
        "msg": "Add panko service support\n\nChange-Id: I35f283bdf8dd0ed979c65633724f0464695130a4",
        "cmtr": "Pradeep Kilambi",
        "date": "2016-11-14 10:57:14-05:00",
        "files": ["haproxy.pp", "mysql.pp", "keystone.pp", "panko.pp", "api.pp"]
      },
      {
        "hash": "3d31d62535290bf9fa17e9409aaf0d478c56fa6a",
        "msg": "Remove explicit hiera calls for heat in keystone profile\n\nThese are now passed via the heat profiles in t-h-t (via\nheat-base.yaml and heat-engine.yaml) and use the actual names of\nkeystone parameters instead.\n\nChange-Id: Id0f5dd03b6757df989339c93b58a5b7eac3402a2\nDepends-On: I0e5124d57fdc519262fdec2dbeaaac85afaeebdf",
        "cmtr": "Juan Antonio Osorio Robles",
        "date": "2016-11-16 09:16:55+02:00",
        "files": ["keystone.pp"]
      },
      {
        "hash": "2e6a0ddf533a12fcde2fb4af397632dd2c8f0acc",
        "msg": "Sort parameters in keystone profile alphabetically\n\nChange-Id: I035c26e0f50e4b3fc0f6085fa5a4bf524e4852b7",
        "cmtr": "Juan Antonio Osorio Robles",
        "date": "2016-11-16 14:23:57+02:00",
        "files": ["keystone.pp"]
      },
      {
        "hash": "343a720d3a274939a876018afe2faaa4c7bedbe4",
        "msg": "Remove Combination alarms support\n\ncombination alarms are completely removed in Ocata.\nRemove this from tripleo.\n\nChange-Id: Icdf81d2f489db33533a1a0979cba3b5a652535d5",
        "cmtr": "Pradeep Kilambi",
        "date": "2016-11-17 08:24:37-05:00",
        "files": ["api.pp", "tripleo_profile_base_aodh_api_spec.rb"]
      },
      {
        "hash": "92f9c952d6cbb0c11c8457de0e49748f3adf667e",
        "msg": "Replace hard-coded haproxy/keepalived coupling\n\nWe have a variable in hiera which tells us if the keepalived\nservice is enabled, so use it here.  Without this any deployment\ndisabling OS::TripleO::Services::Keepalived will fail.\n\nChange-Id: I90faf51881bd05920067c1e1d82baf5d7586af23\nCloses-Bug: #1642677",
        "cmtr": "Steven Hardy",
        "date": "2016-11-17 17:37:45+00:00",
        "files": ["haproxy.pp"]
      },
      {
        "hash": "6d8c6e1f308463be3dcebc671675ee7f58d28678",
        "msg": "Changes default MidoNet API port on HAProxy\n\nThe default port of the MidoNet Cluster (formerly known as MidoNet API)\nis now 8181 instead of 8081.\n\nSince this parameter is configurable through the settings, the default\nvalue for the port has been added to the $service_ports array.\n\nChange-Id: I2785d3109993bca0bd68077ff55cfeafbf594e19",
        "cmtr": "Alejandro Andreu",
        "date": "2016-11-18 09:25:56+01:00",
        "files": ["haproxy.pp"]
      },
      {
        "hash": "ec26b43d7b723f02522b9e41d3ee335566574d19",
        "msg": "Allow neutron_options customization for dashboard\n\nBy default only profile_support can be configured depending of the neutron\nmechanism driver used (cisco_n1kv).\nThis patch allows to add more neutron options to enable lbaas, vpnaas, etc...\n\nChange-Id: I7c040519b45b60910778f93b8ffe7a413b4cb6ae\nCloses-Bug: #1594388",
        "cmtr": "Dimitri Savineau",
        "date": "2016-11-18 12:05:15-05:00",
        "files": ["horizon.pp"]
      },
      {
        "hash": "87763459ae57614e092f772595a03e7d552f96d1",
        "msg": "Adds auto-detection for VIP interfaces\n\nPreviously the ctrl plane VIP would default to 'br-ex' which in non-vlan\ndeployments ends up being the wrong interface.  The public VIP interface\nwas also defaulted to 'br-ex' which would be incorrect for vlan based\ndeployments.  Since a user has already given the nic template (and in\nmost cases the subnet that corresponds to the nic) the installer should\nbe able to figure out which interface the public/control vip should be\non.\n\nThese changes enable that type of auto-detection, unless a user\nexplicitly overrides the heat parameters for ControlVirtualInterface and\nPublicVirtualInterface.  Also removes calling keepalived from haproxy\nnow that the services are composed separately on the Controller role.\n\nPartial-Bug: 1606632\n\nChange-Id: I05105fce85be8ace986db351cdca2916f405ed04\nSigned-off-by: Tim Rozet <trozet@redhat.com>",
        "cmtr": "Tim Rozet",
        "date": "2016-11-20 11:47:57-05:00",
        "files": ["haproxy.pp", "keepalived.pp"]
      },
      {
        "hash": "6ae718560b4603d78b85de8a7df7ab218bb9be5a",
        "msg": "Move calculation of neutron l3_ha into puppet profile\n\nThis is currently calculated in t-h-t but has a hard-coded reference\nto the ControllerCount which is incompatible with custom-roles.\n\nSo instead calculate the setting based on the number of neutron API\nservices running (on any role, not just Controller), combined with\nwhether DVR is enabled (equivalent to current t-h-t logic).\n\nTo avoid breaking the NeutronL3HA parameter in t-h-t we maintain an\noptional parameter to override the calculated value.\n\nChange-Id: I01c50973eec8138ec61304f2982d5026142f267c\nPartial-Bug: #1629187",
        "cmtr": "Steven Hardy",
        "date": "2016-11-21 10:03:56+00:00",
        "files": ["server.pp"]
      },
      {
        "hash": "2ca3cb03ad5f05469e5ae181981e559ccc77371f",
        "msg": "firewall: stop using stdlib stages\n\nUsing Puppet stdlib in TripleO is risky because it exposes deployments\nto dependency cycles in the catalog.\nWe should rather use native functions to make orchestrations, like\nordering and dependencies management.\n\nThis patch:\n\n- removes usage of stages from stdlib\n- use ordering to make sure we run pre rules before post\n- use ordering to make sure we start all Services in catalog before post\n  rules. It ensure that we don't drop all traffic before starting the\n  services, which could lead to services errors (e.g. trying to reach database\n  or amqp)\n\nChange-Id: Iec4705d6b785a40ccf6f43809b94b726ccd47fef\nCloses-Bug: #1643575",
        "cmtr": "Emilien Macchi",
        "date": "2016-11-21 14:24:20-05:00",
        "files": ["firewall.pp"]
      },
      {
        "hash": "255ea29cd425f096a22c000ecdc9e594cacdd36c",
        "msg": "Use mode 'http' in haproxy for ceilometer, neutron, aodh and gnocchi\n\nHAProxy won't pass X-Forwarded-Proto to these services in mode tcp, so we need\nto switch it to http in order for it to work and for the services to properly\nset the protocol in the links they serve.\n\nChange-Id: Ib10282159fb9269eebe81af23171ec9fb1297cd0\nCloses-Bug: #1640126",
        "cmtr": "Juan Antonio Osorio Robles",
        "date": "2016-11-22 10:31:02+02:00",
        "files": ["haproxy.pp"]
      },
      {
        "hash": "a177abd03510970628b61781883225d210b2fb2d",
        "msg": "Proxy manila in http mode\n\nIt needs it so HAProxy will be able to set the X-Forwarded-Proto header.\nRelated-Bug: #1640126\nChange-Id: I1726fa1742bc70518338b80fc6d27567bb020e7c",
        "cmtr": "Juan Antonio Osorio Robles",
        "date": "2016-11-22 09:52:41+00:00",
        "files": ["haproxy.pp"]
      },
      {
        "hash": "4458ce0d9af2bb0a96506b7403ff60d4898b20cc",
        "msg": "Split ovn plugin and northd configuration\n\nThis allows us to use the composable services interfaces to handle\nproviding the IP address for northd, and will be more flexible in\nthe event folks want to deploy northd/ovndb on a different node to\nthe neutron plugin.\n\nThis also adds ovn_northd to the haproxy configuration so we can access\nit via the ovn_northd_vip in other service profiles.  Note we need\nto ensure the haproxy config only hits the bootstrap node as northd\nwon't be running on the other nodes.\n\nChange-Id: I9af7bd837c340c3df016fc7ad4238b2941ba7a95\nPartial-Bug: #1634171",
        "cmtr": "Dan Radez",
        "date": "2016-11-22 12:42:36-05:00",
        "files": ["haproxy.pp", "ovn.pp", "ovn_northd.pp", "ovn.pp"]
      },
      {
        "hash": "960ba650670794f0309b1f2e8c4d3707c9ca32e5",
        "msg": "Update ceilometer collector ipv6 handling\n\nThe normalize_ip_for_uri handles ipv6 bracketing correctly. Rather\nthan continue to do it manually, this change updates the ceilometer\ncollector profile to leverage the normalize_ip_for_uri function to\nproperly escape ipv6 addresses.\n\nChange-Id: Ifaf6568785235db55f8dc593d83e534216413d31\nCloses-Bug: #1629380",
        "cmtr": "Alex Schultz",
        "date": "2016-11-22 10:50:29-07:00",
        "files": ["collector.pp"]
      },
      {
        "hash": "688a79c6c68422c0f873074370b1bbc87c6d1007",
        "msg": "Do not configure state matching when using GRE\n\nThe firewall rule quite reasonably sets up a default state matching rule\nbut this is invalid for GRE. This patch conditionally adds the state\nmatching if the protocol is not GRE.\n\nCloses-Bug: #1644360\nChange-Id: Ie4ca41d0f36e79ba6822c358e21b827105736dd7",
        "cmtr": "Brent Eagles",
        "date": "2016-11-24 09:06:48-03:18",
        "files": ["rule.pp", "tripleo_firewall_spec.rb"]
      },
      {
        "hash": "7124ae91c7ead2b75945ff99f3322b31e0a6ac90",
        "msg": "Enable internal TLS for MySQL\n\nthis adds the necessary code in the manfiest to configure TLS\nif internal TLS is enabled. this also adds the capability of\nauto-generating the certificate via certmonger.\n\nbp tls-via-certmonger\n\nChange-Id: I7275e5afb3a6550cf2abbb9a8007dedb62ada4b4",
        "cmtr": "Juan Antonio Osorio Robles",
        "date": "2016-11-25 06:44:49+00:00",
        "files": ["mysql.pp", "mysql.pp"]
      },
      {
        "hash": "992a13a3e4c51e4baf637ff62c6fd5fc5a640fd3",
        "msg": "Enable TLS in the internal network for Panko API\n\nThis optionally enables TLS for Panko API in the internal network.\nIf internal TLS is enabled, each node that is serving the Panko API\nservice will use certmonger to request its certificate.\n\nbp tls-via-certmonger\n\nChange-Id: Ie9be7ce19601435b1b83b4ba58d9c7e8d53f23ba",
        "cmtr": "Juan Antonio Osorio Robles",
        "date": "2016-11-25 08:51:22+02:00",
        "files": ["api.pp"]
      },
      {
        "hash": "1cd8eaf2a0faa24a008ff0c3ee4ab11ab61a165b",
        "msg": "Drop vip_hosts\n\nThis should no longer be used based on problems discovered in\nhttps://bugs.launchpad.net/tripleo/+bug/1645123\n\nChange-Id: I53b13d514a15226dacbeda1c7b2ede09e7f8807e\nDepends-On:  Ic6aaeb249a127df83894f32a704219683a6382b2",
        "cmtr": "Dan Prince",
        "date": "2016-11-27 13:34:32-05:00",
        "files": ["vip_hosts.pp"]
      },
      {
        "hash": "91597fc56983ee20d77985e97ad7563fcd30f1bc",
        "msg": "Use FQDNs for the services' RabbitMQ configuration\n\nThis replaces the services' IP-based RabbitMQ configuration and uses\nFQDNs instead.\n\nChange-Id: I2be81aecacf50839a029533247981f5edf59cb7f",
        "cmtr": "Juan Antonio Osorio Robles",
        "date": "2016-11-28 15:45:03+02:00",
        "files": ["aodh.pp", "ceilometer.pp", "cinder.pp", "api.pp", "heat.pp", "ironic.pp", "keystone.pp", "manila.pp", "mistral.pp", "neutron.pp", "nova.pp", "sahara.pp", "proxy.pp", "tripleo_profile_base_aodh_api_spec.rb", "tripleo_profile_base_aodh_evaluator_spec.rb", "tripleo_profile_base_aodh_listener_spec.rb", "tripleo_profile_base_aodh_notifier_spec.rb", "tripleo_profile_base_aodh_spec.rb", "tripleo_profile_base_ceilometer_api_spec.rb", "tripleo_profile_base_ceilometer_collector_spec.rb", "tripleo_profile_base_ceilometer_expirer_spec.rb", "tripleo_profile_base_ceilometer_spec.rb"]
      },
      {
        "hash": "e93508fe6ee277516d2a616e6dd5cd6ca890f0ae",
        "msg": "Use FQDNs for RabbitMQ's cluster configuration\n\nThis sets the cluster_nodes configuration in RabbitMQ to use FQDNs\ninstead of IP addresses. Note that in HA, RabbitMQ is already\nconfigured using FQDNs.\n\nChange-Id: I2b1cec25ff25f4afd72a28246c2cda9c58d7b61e",
        "cmtr": "Juan Antonio Osorio Robles",
        "date": "2016-11-28 15:45:07+02:00",
        "files": ["rabbitmq.pp"]
      },
      {
        "hash": "3abbad6226701ef78c32908460805cdcae83026a",
        "msg": "Enable object-expirer on Swift proxy profile\n\nThis service is required to delete expired automatically. It is often\nrun on the proxy nodes, therefore adding it to the Swift proxy profile.\n\nChange-Id: I3250c205ffc166ae628bc427de2e3492d086c3bb\nCloses-Bug: 1645657",
        "cmtr": "Christian Schwede",
        "date": "2016-11-29 11:32:03+01:00",
        "files": ["proxy.pp"]
      },
      {
        "hash": "f101ee540a450d3509e1c97aab00a97a2ecf8164",
        "msg": "pacemaker: create Mysql_user once Galera is ready (puppet4)\n\nPuppet 4 ordering make things more strict in catalog, which is good.\nResources have to be orchestrated or Puppet will take them in the order\nthey are found in catalog.\n\nThis patch makes sure we create MySQL users only when Galera is actually\nready.\n\nCloses-Bug: #1645787\nChange-Id: I536a1a128c3a7eca49bcc4f34a1307bcd60b029e",
        "cmtr": "Emilien Macchi",
        "date": "2016-11-29 16:58:34-05:00",
        "files": ["mysql.pp"]
      },
      {
        "hash": "f223d4a4583d2da164592081bb9eb3c19b123f3c",
        "msg": "Set memcache_servers in /etc/swift/object-expirer.conf\n\nThis defaults to 127.0.0.1:11211 without setting these explicitly. The\nobject-expirer is working without a correct memcache server, however it\nis slower and warnings will be logged.\n\nRelated-Bug: 1627927\nDepends-On: Ie139f018c4a742b014dd4d682970e154d66a8c6d\nChange-Id: I89a879592a264d541cf42f007584e2e78058c867",
        "cmtr": "Christian Schwede",
        "date": "2016-11-30 07:32:12+00:00",
        "files": ["proxy.pp"]
      },
      {
        "hash": "5b0bd1c00aef1b03bf697d0f05046c4ad8b641e5",
        "msg": "Add verify required and CA bundle to haproxy\n\nThis only takes effect is internal-tls is used, and forces haproxy to\ndo proper verifications of the SSL certificates provided by the\nservers.\n\nbp tls-via-certmonger\nChange-Id: Ibd98ec46dd6570887db29f55fe183deb1c9dc642",
        "cmtr": "Juan Antonio Osorio Robles",
        "date": "2016-11-30 14:34:41+02:00",
        "files": ["haproxy.pp"]
      },
      {
        "hash": "659cdf185121f92a0f1ef983e054191f9eaf91d3",
        "msg": "Include swift::storage::loopbacks class\n\nThis makes it possible to create loopback devices for Swift by using\nadditional Hieradata. For example, to create a 100M loopback device that\nwill be mounted on /srv/node/d1:\n\n  parameter_defaults:\n    ControllerExtraConfig:\n      swift::storage::loopbacks::args: {\"d1\": {'seek': '100000'}}\n\nDepends-On: I11a230b7cf08a4cc2a144d9af0e6c81bb3827348\nChange-Id: I8741acc8afa1f1d23c5b25fa4bf27622f674a561",
        "cmtr": "Christian Schwede",
        "date": "2016-11-30 21:03:25+00:00",
        "files": ["storage.pp"]
      },
      {
        "hash": "f418c79632a7f21ff6ab11ef1715cd4a5b361789",
        "msg": "Add cinder profile spec tests\n\nThis change adds rspec testing for the cinder profiles with in\npuppet-tripleo. Additionally while testing, it was found that the\nbackends may incorrectly have an extra , included in the settings\nfor cinder volume when running puppet 3.  This change includes a fix\nthe cinder volume backends to make sure we are not improperly\nconfiguring it with a trailing comma.\n\nChange-Id: Ibdfee330413b6f9aecdf42a5508c21126fc05973",
        "cmtr": "Alex Schultz",
        "date": "2016-12-05 08:26:55-07:00",
        "files": ["volume.pp", "tripleo_profile_base_cinder_api_spec.rb", "tripleo_profile_base_cinder_backup_ceph_spec.rb", "tripleo_profile_base_cinder_backup_spec.rb", "tripleo_profile_base_cinder_backup_swift_spec.rb", "tripleo_profile_base_cinder_scheduler_spec.rb", "tripleo_profile_base_cinder_spec.rb", "tripleo_profile_base_cinder_volume_dellsc_spec.rb", "tripleo_profile_base_cinder_volume_eqlx_spec.rb", "tripleo_profile_base_cinder_volume_iscsi_spec.rb", "tripleo_profile_base_cinder_volume_netapp_spec.rb", "tripleo_profile_base_cinder_volume_nfs_spec.rb", "tripleo_profile_base_cinder_volume_rbd_spec.rb", "tripleo_profile_base_cinder_volume_spec.rb", "hiera.yaml", "default.yaml", "step1.yaml", "step2.yaml", "step3.yaml", "step4.yaml", "step5.yaml", "step6.yaml"]
      },
      {
        "hash": "6b081ab4d1f3eebfded2fee8aa5fafec06c34b4e",
        "msg": "Delete MidoNet deprecated classes and their tests\n\nMidoNet no longer uses the API component. It has been renamed/refactored\nto \"cluster\" as it can be seen on the docs at\nhttps://blog.midonet.org/introducing-midonet-cluster-services/\n\nAlso there is no need to have a Cassandra and Zookeeper dedicated\nclasses, as we leverage this through the use of the midonet_openstack\npuppet module.\n\nChange-Id: I2f17aeeac2d1b121be0d445ff555320d5af5d270\nPartial-Bug: #1647302",
        "cmtr": "Alejandro Andreu",
        "date": "2016-12-07 09:43:39+01:00",
        "files": ["api.pp", "tripleo_cluster_cassandra_spec.rb", "tripleo_cluster_zookeeper_spec.rb", "tripleo_midonet_api_spec.rb"]
      },
      {
        "hash": "a102d35f12e75bbf7fa9c5f91aeaef145f203143",
        "msg": "Create Glance's database if glance-api is enabled\n\nInstead of checking for glance_registry_enabled, we should be checking\nfor glance_api_enabled. The glance-api v1 depends on the registry, which\nmeans the database will be created but glance-api v2 doesn't which means\nthat not deploying the registry would result in the glance database not\nbeing created. On the other hand, glance-registry is never deployed\nwithout glance-api\n\nChange-Id: Ief25dafb65f7a043fbb3d16f1d7ef834c9947a93",
        "cmtr": "Flavio Percoco",
        "date": "2016-12-07 15:19:38+01:00",
        "files": ["mysql.pp"]
      },
      {
        "hash": "5054f122d829f13a099ad7901626550ce5aa6372",
        "msg": "Do not use hardcoded controller_node_names when setting up the cluster\n\nCurrently we chose the pacemaker cluster node by simply taking\nhiera('controller_node_names'). We should instead use the\npacemaker_short_node_names array which is built dynamically\nfrom all the nodes that include the pacemaker service.\n\nChange-Id: I0a3e4acaab11e078da5eeb2ef2adde5387785927",
        "cmtr": "Michele Baldessari",
        "date": "2016-12-08 17:16:40+01:00",
        "files": ["pacemaker.pp"]
      },
      {
        "hash": "3d74ad8300010d28aed9fa4bd8f0133af62f5f91",
        "msg": "HPELeftHandISCSIDriver support for cinder\n\nCinder Backend configuration support for\nHPELeftHandISCSIDriver for VSA storage\n\nChange-Id: Ia7e5f3d436283f7949b0eb8f109b3dc0309af4f5",
        "cmtr": "chinthagovardhan",
        "date": "2016-12-09 03:00:55-08:00",
        "files": ["volume.pp", "hpelefthand.pp", "hpelefthand_8474c416b0d411e6.yaml"]
      },
      {
        "hash": "cf63869b1c7084c2d74ecd47812e8f5c7e26b52b",
        "msg": "Remove unused variable in certmonger/mysql manifest\n\nThis was initially meant to select the CN/SubjectAltName based on the\nnetwork, but this is now instead done in t-h-t. So this ended up being\nunused.\n\nDepends-On: Id5dfb38852cf2420f4195a3c1cb98d5c47bbd45e\nChange-Id: I58c3aee0506469125a7837a27271c2fe18e1dd60",
        "cmtr": "Juan Antonio Osorio Robles",
        "date": "2016-12-09 15:44:44+02:00",
        "files": ["mysql.pp"]
      },
      {
        "hash": "bb317aac01c4eced7cf1cd104948d49947f494bd",
        "msg": "Disable legacy ceilometer api by default\n\nCeilometer api is deprectaed in Ocata. Lets disable by default.\nThis can still be enabled by setting enable_legacy_ceilometer_api\nparam.\n\nChange-Id: Iffb8c2cfed53d8b29e777c35cee44921194239e9",
        "cmtr": "Pradeep Kilambi",
        "date": "2016-12-09 14:18:50-05:00",
        "files": ["api.pp", "tripleo_profile_base_ceilometer_api_spec.rb"]
      },
      {
        "hash": "95fbe9289b0286aa315f78827b21d2374f600850",
        "msg": "xinetd: bind only on mysql network\n\nBy default galera-monitor xinetd is binding on all the interfaces.\nThat means that the port 9200 is exposed on the external network.\nBecause haproxy is using the same network for the backend and the\ncheck we can reuse it for the xinetd binding.\n\nChange-Id: If1a50515593e81f46d67309bdeecbe84c1d0ebe4",
        "cmtr": "Alex Schultz",
        "date": "2016-12-10 23:35:59+00:00",
        "files": ["mysql.pp"]
      },
      {
        "hash": "93dc1078b4f911bf807ac583df926cdfc734e8f8",
        "msg": "Decouple swift-proxy from ceilometer packages\n\nThis patch updates the swift proxy so that it only depends\non ceilometer if the ceilometer_api_enabled all-nodes-data hiera\nsetting has been set.\n\nAlso removes a parameter dependency where the\ntripleo::profile::base::swift::proxy class was referencing\na puppet-ceilometer value from hiera (which can\nalso cause ceilometer dependencies).\n\nDepends-On: Ief5399d7ea4d26e96ce54903a69d660fa4fe3ce9\n\nChange-Id: I8d9f69f5e9160543b372bd9886800f16f625fdc6\nCloses-bug: #1648736",
        "cmtr": "Dan Prince",
        "date": "2016-12-11 20:31:21-05:00",
        "files": ["proxy.pp"]
      },
      {
        "hash": "22c78358d0ccc89fb5c05bb36f0b7125da8141f9",
        "msg": "Add networking-fujitsu support to puppet-tripleo\n\nEnable ml2.pp to call networking-fujitsu manifest in puppet-neutron.\nThe implementation in puppet-neutron is in progress separately.\n\nChange-Id: I5eb2c2a9c50b5991d62f4b6d74b83351c86b02de\nImplements: blueprint integration-networking-fujitsu\nDepends-On: I37a502b43eb7d91bfe20625248ed117eae3ca535",
        "cmtr": "Koki Sanagi",
        "date": "2016-12-12 10:53:11-05:00",
        "files": ["ml2.pp"]
      },
      {
        "hash": "959101f7c9deeeef078e347bcc828889036e5f10",
        "msg": "add support for collectd\n\nThis is the glue between the collectd composable service in\ntripleo-heat-templates and the puppet-collectd module.\n\nChange-Id: I7e899e3af870b04dcd45503bd322278997fa53d0",
        "cmtr": "Lars Kellogg-Stedman",
        "date": "2016-12-16 11:30:06-05:00",
        "files": ["collectd.pp", "plugin_helper.pp"]
      },
      {
        "hash": "a6b6c0568daa289b179a0f0aeead2eb83a1a0743",
        "msg": "Include nova::compute::libvirt::qemu from the libvirt profile\n\nThis is useful to customize the libvirt/qemu.conf limits when deploying\na large overcloud or one with many Ceph OSDs.\n\nChange-Id: I258afd3ee6633e4b2ebc45aa8611be652476be0c\nDepends-On: I5fa423a4b212d14f6e9ff6a270931b569558b54e",
        "cmtr": "Giulio Fidente",
        "date": "2016-12-16 21:49:13+01:00",
        "files": ["libvirt.pp"]
      },
      {
        "hash": "d4453c95d97eec0f45aa0db1d685935d63037fac",
        "msg": "Add TLS proxy resource\n\nsome services need a terminating proxy to do TLS on their main\ninterfaces, to address this, we use httpd's mod_proxy and make it listen\nin front of these services with an appropriate certificate.\n\nbp tls-via-certmonger\n\nChange-Id: I82243fd3acfe4f23aab373116b78e1daf9d08467",
        "cmtr": "Juan Antonio Osorio Robles",
        "date": "2016-12-20 08:50:08+00:00",
        "files": ["tls_proxy.pp"]
      },
      {
        "hash": "199d9b7888ea936035eb0f37d921e963cc0bf17d",
        "msg": "Add missing Swift base class\n\nThe Swift base class is required if the SwiftStorageRole\nis used without the SwiftRingBuilder role.\n\nChange-Id: I496b65dc53c03c0711d21f98627cc21be653ca5d",
        "cmtr": "Christian Schwede",
        "date": "2016-12-20 12:34:40+01:00",
        "files": ["storage.pp"]
      },
      {
        "hash": "1adc49a38985a884ca66643bc528e1c3298a75e1",
        "msg": "Decouples neutron services from OpenDaylight API service\n\nRemoves including Neutron services in the OpenDaylight API service.\nThis was breaking custom roles when splitting up OpenDaylight and Neutron\ninto different roles.  Also, references to \"controller\" are removed\nbecause with custom roles OpenDaylight could be isolated to any role\ntype.  The 'bootstrap_nodeid' still works with any role, and only\nresolves to the first node in the series of nodes for that role type.\n\nPartial-Bug: 1651499\n\nChange-Id: I418643810ee6b8a2c17a4754c83453140ebe39c7\nSigned-off-by: Tim Rozet <trozet@redhat.com>",
        "cmtr": "Tim Rozet",
        "date": "2016-12-20 13:40:57-05:00",
        "files": ["opendaylight.pp"]
      },
      {
        "hash": "5a1764acf7623ee04d8610793f418ab1d4e2226e",
        "msg": "Adds ability to populate SSH Banner text\n\nA puppet manifest to allow the toggle of 'Banner' in sshd_config\nand enable population of an SSH login banner needed for security\ncompliance such as DISA STIG\n\nIf `Bannertext` is set as a parameter, the `Banner` key within\nsshd_config is toggled to `/etc/issue` and the content is copied\ninto the `/etc/issue` file\n\nChange-Id: Ie9f8afdfa9930428f06c9669fedb460dc1064d5e\nCloses-Bug: #1640306",
        "cmtr": "Luke Hinds",
        "date": "2016-12-21 16:45:37+00:00",
        "files": ["sshd.pp", "sshd-437c531301f458bb.yaml", "tripleo_profile_base_sshd_spec.rb"]
      },
      {
        "hash": "6f1aa132878ce76607c2db9579d78c47f4f666fe",
        "msg": "Add fossw of networking-fujitsu support to puppet-tripleo\n\nEnable ml2.pp to call networking-fujitsu manifest in puppet-neutron\nfor fossw ML2 plugin setting.\n\nChange-Id: I044c5812bbc5cd3de4bc33556cffbe5bad8e64cf\nImplements: blueprint integration-fossw-networking-fujitsu\nDepends-On: I79df6b6a27d95f0c0e2c87207ab80235a4efccfc",
        "cmtr": "Koki Sanagi",
        "date": "2016-12-22 10:39:21-05:00",
        "files": ["ml2.pp"]
      },
      {
        "hash": "3d8dfa171437502721b599fd67e4fbd2951b7f4c",
        "msg": "Ensure package updates don't happen unexpectedly\n\nI'm seeing this run yum update on deploy, even though hiera\ntripleo::packages::enable_upgrade says false.\n\nI assume these are needed because we're getting \"false\", but I'm\nunclear if this is a recently introduced problem (I only noticed it\ntoday as my image has outdated centos packages and it thus hung on\nstep2 of the deploy.\n\nChange-Id: If09cdde9883f2674dbbc40944be5fe4445caa08e\nCloses-Bug: #1652107",
        "cmtr": "Steven Hardy",
        "date": "2016-12-22 16:42:12+00:00",
        "files": ["packages.pp"]
      },
      {
        "hash": "70c9dca45335150daae65d0bbf44908711b0f1d2",
        "msg": "[CVE-2016-9599] Enforce Firewall TCP / UDP rules management\n\nThis closes CVE-2016-9599.\n\n1) Sanitize dynamic HAproxy endpoints firewall rules\n\nBuild the hash of firewall rules only when a port is specified. The\nHAproxy endpoints are using TCP protocol, which means we have to specify\na port to the IPtables rules.\nSome services don't have public network exposure (e.g. Glance Registry),\nwhich means they don't need haproxy_ssl rule.\nThe code prepare the hash depending on the service_port and\npublic_ssl_port parameters and create the actual firewall rules only if\none of those or both parameters are specified.\nIt will prevent new services without public exposure to open all traffic\nbecause no port is specified.\n\n2) Secure Firewall rules creations\n\nThe code won't allow to create TCP / UDP IPtables rules in INPUT\nor OUTPUT chains without port or sport or dport, because doing it would\nallow an IPtables rule opening all traffic for TCP or UDP.\nIf we try to do that, Puppet catalog will fail with an error explaining\nwhy.\nExample of use-cases:\n- creating VRRP rules wouldn't require port parameters.\n- creating TCP or UDP rules would require port parameters.\n\n3) Allow to open all traffic for TCO / UDP (when desired)\n\nSome use-cases require to open all traffic for all ports on TCP / UDP.\nIt will be possible if the user gives port = 'all' when creating the\nfirewall rule.\n\nBackward compatibility:\n- if our users created custom TCP / UDP firewall rules without port\n  parameters, it won't work anymore, for security purpose.\n- if you users want to open TCP / UDP for all ports, they need to pass\n  port = 'all' and the rule will be created, though a warning will be\n  displayed because this is insecure.\n- if our users created custom VRRP rules without port parameters, it\n  will still work correctly and rules will be created.\n- TCP / UDP rules in FORWARD chain without port are still accepted.\n\nChange-Id: I19396c8ab06b91fee3253cdfcb834482f4040a59\nCloses-Bug: #1651831",
        "cmtr": "Emilien Macchi",
        "date": "2016-12-22 12:33:21-05:00",
        "files": ["rule.pp", "endpoint.pp", "tripleo_firewall_spec.rb"]
      },
      {
        "hash": "b6f79567e23709b87e538ac75f7be20a306f7438",
        "msg": "Add cell_v2 setup for nova\n\nWe need to run the basic cell v2 setup for nova as it is required for\nOcata.\n\nChange-Id: I693239ff5026f58a65eb6278b1a8fcb97af4f561\nDepends-On: I43ba77cd4c8da7c6dc117ab0bd53e5cd330dc3de\nDepends-On: I9462ef16fd64a577c3f950bd121f0bd28670fabc\nCloses-Bug: #1649341",
        "cmtr": "Alex Schultz",
        "date": "2016-12-22 21:19:16-07:00",
        "files": ["mysql.pp"]
      },
      {
        "hash": "fec12dfb66d80e90bb818cd8e855a7e3d1d7cd5c",
        "msg": "nova: use transport_url for rabbitmq\n\nConfigure Nova with new Oslo Messaging parameters for RabbitMQ.\n\nNote: parameters are renamed to be standard, so it will help a future\ntransition to another backend in TripleO.\n\nChange-Id: Ia67a4dbe5b2bd12c45308a5581f96d0457b8e018",
        "cmtr": "Carlos Camacho",
        "date": "2016-12-23 14:55:50+01:00",
        "files": ["nova.pp"]
      },
      {
        "hash": "c412f5071de46dc231146b6d823d9f43f1035c10",
        "msg": "Add the ml2_odl section when using opendalight_v2\n\nAdd the option to add the section of ml2_odl\nto ml2_conf.ini when opendaylight_v2 mechanism driver is used\n\nChange-Id: I2a1c5097614e47cc09e43bbc77305a0548d54baa",
        "cmtr": "Itzik Brown",
        "date": "2016-12-29 17:38:54+02:00",
        "files": ["ml2.pp"]
      },
      {
        "hash": "5f23a719f53763daaf4d38fdbda02c9fa85d7c30",
        "msg": "Don't include api/scheduler manifests on manila share service set up\n\nManila pacemaker manifest (which sets manila share service only)\nincludes also manila api and scheduler manifests. There is no\nreason for this. Also it causes that on whichever node manila share\nservice runs also manila api and scheduler services are started.\n\nChange-Id: Ia1b39ef36c5bc34813cd6430b69ad9b698acc3cf\nCloses-Bug: #1653500",
        "cmtr": "Jan Provaznik",
        "date": "2017-01-02 12:32:20+01:00",
        "files": ["manila.pp"]
      },
      {
        "hash": "b09f7a6c80de65c53c8af3a3a84024a19fa320fe",
        "msg": "Sync the db as part of the glance-api install\n\nThe glance database should be created as part of the glance-api service\ninstallation and not the registry. Move the db_sync param to the\nglance-api class call.\n\nChange-Id: Ib9f511219e8cb9a7322745b6bd7c4f9c9cc0c198",
        "cmtr": "Emilien Macchi",
        "date": "2017-01-04 09:41:51-05:00",
        "files": ["api.pp", "registry.pp"]
      },
      {
        "hash": "0f002c65147e6148636b87395548e5406c5601bc",
        "msg": "Fixes missing haproxy firewall rules for OpenDaylight\n\nThis migrates the haproxy config for ODL to use the\ntripleo::haproxy::endpoint class.  This class automatically configures\nfirewall rules for each haproxy endpoint.  Also removes listening on\npublic network for IP and adds listening on ctlplane network for admin\naccess.\n\nPartial-Bug: 1651476\n\nChange-Id: I1f2af2793d040fda17bf73252afe59434d99f31f\nSigned-off-by: Tim Rozet <trozet@redhat.com>",
        "cmtr": "Tim Rozet",
        "date": "2017-01-04 10:36:03-05:00",
        "files": ["haproxy.pp"]
      },
      {
        "hash": "9c187f5aa769c1f1f07503c0cdc8fd62196b6136",
        "msg": "Adds a profile for the Ceph MDS service\n\nThis change adds a profile to deploy the Ceph MDS service and some\nbasic unit tests for it.\n\nDepends-On: I558b43deaa9b243c54f3d7ae945f11dd4925eb5d\nChange-Id: Iaecc3ff7acb851776c5057c42a5a513a70425d2c\nPartial-Bug: #1644784",
        "cmtr": "Giulio Fidente",
        "date": "2017-01-04 16:44:49+00:00",
        "files": ["mds.pp", "tripleo_profile_base_ceph_mds_spec.rb"]
      },
      {
        "hash": "f61277e9f7506c5530de721b3654c6699073e1d8",
        "msg": "nova-api: switch to new wsgi class\n\nnova::wsgi::apache was deprecated in ocata in favor of\nnova::wsgi::apache_api.\nLet's switch to it.\n\nChange-Id: I59b3b36be33268fa6e261a7db3c4aa8e8e712ffb\nDepends-On: I5fc99062d349597393e2248c66f2d863029c7730",
        "cmtr": "Emilien Macchi",
        "date": "2017-01-04 15:11:08-05:00",
        "files": ["api.pp"]
      },
      {
        "hash": "ef41f0364e55ee6a4d152bb4af542dd7efac838b",
        "msg": "Fix a typo in mysql.pp\n\nRemoved redundant 'the'\n\nChange-Id: Ie2051f35ec1e7010423c46084f5512c02af85f33",
        "cmtr": "Cao Xuan Hoang",
        "date": "2017-01-05 13:32:11+07:00",
        "files": ["mysql.pp"]
      },
      {
        "hash": "a59aa24ad3b3bb3acbdedffd34c8e082d971a7a5",
        "msg": "glance/api: cleanup on dbsync\n\nCleanup some code that were useful in the effort of removing Glance\nRegistry service from TripleO.\n\nChange-Id: I2a4bdc413e953b8b713d9a12bba74ca18487fe0d",
        "cmtr": "Emilien Macchi",
        "date": "2017-01-05 12:09:37-05:00",
        "files": ["api.pp"]
      },
      {
        "hash": "8c990738900cd74c2c5c046435517393d1afb92e",
        "msg": "firewall: add IPv6 support\n\nThis patch adds support for ip6tables rules in TripleO, in a intuitive\nand flexible fashion.\n\n1) Default firewal rules 'source' parameter to undef.\n   It was 0.0.0.0/0 before but now undef, so we don't need complex logic to\n   support ipv6 rules. undef will create empty source, which is the same as\n   0.0.0.0/0 or ::/0.\n\n2) Automatically convert icmp rules to ipv6-icmp for ipv6 rules.\n\n3) Automatically create IPv6 rules like it's for IPv4.\n\n4) Only create rules that can be created, depending on\n   source/destination ip version.\n\nThis patch should be backward compatible and adds a layer of security\nfor IPv6 deployments. If previous deployments were manually creating\nIpv6 rules, it's possible that this patch will override them. Our\nframework is able to configure any rule, so it shouldn't be a problem\nfor upgrades.\n\nCo-Authored-By: Ben Nemec <bnemec@redhat.com>\nCloses-Bug: #1654050\nChange-Id: I98a00a9ae265d3e5854632e749cc8c3a1647298c",
        "cmtr": "Emilien Macchi",
        "date": "2017-01-05 16:09:43-05:00",
        "files": ["rule.pp", "tripleo_firewall_spec.rb"]
      },
      {
        "hash": "03158e5ae70bd2bedbb329038931094ba4cbef43",
        "msg": "Fix puppet warning for empty value\n\nUnknown variable: 'haproxy_ssl_firewall_rules' when public_ssl_port is\nempty.\nFixing it by setting an empty hash in this case.\n\nChange-Id: If864732262852ef79ebb91ee77902c86b847072a",
        "cmtr": "Emilien Macchi",
        "date": "2017-01-06 10:06:39-05:00",
        "files": ["endpoint.pp"]
      },
      {
        "hash": "54a067accc17a95b6a1dce6bcf14339eb1104b55",
        "msg": "Ensure panko::db class is initialized\n\nChange-Id: If2f6559a7d76b26fa9b0a3ecfa2e2101aae93e3c",
        "cmtr": "Pradeep Kilambi",
        "date": "2017-01-06 15:51:58-05:00",
        "files": ["panko.pp"]
      },
      {
        "hash": "8eb99b868b71909132c6fc43d0d18940cc7ea9a1",
        "msg": "Add haproxy firewall rules for galera and redis\n\nThis change adds haproxy rules for galera and redis.  They are not there\nbecause these haproxy entries do not use the ::tripleo::haproxy::endpoint\nfunction which does this automatically.\n\nRabbit does not need them because it does not go through haproxy.\n\nCloses-Bug: #1654280\nChange-Id: If995d5c36341f3c089cbda9a0827ea28c19c796b",
        "cmtr": "Michele Baldessari",
        "date": "2017-01-09 11:45:03+01:00",
        "files": ["haproxy.pp"]
      },
      {
        "hash": "a21f1a193a7076a335d82f47cab04340da9c93ff",
        "msg": "Add Docker Registry profile\n\nThe profile was moved out of instack-undercloud puppet manifest and\nchanged to install a v2 Docker registry rather than the old, deprecated\nv1 registry.\n\nChange-Id: Iecf7a4c7e86349e6ecaa0a8ee6d37223e3af7862",
        "cmtr": "Martin Andr",
        "date": "2017-01-09 15:16:50+01:00",
        "files": ["docker_registry.pp", "registry_config.yml.erb"]
      },
      {
        "hash": "77cd102c9a96c1be4bef7f8afb95f300c06d2134",
        "msg": "Use THT to define cell0 creation\n\nAs part of the initial implementation, we hard coded the cell0 setup in\npuppet. This change switches it to leverage the defined value in the\ntripleo-heat-templates\n\nChange-Id: I896a124d91d06ca85b77c9fbe24fd252815a2d28\nDepends-On: I08119d781ef60750cc19753bc03190e413159925\nRelated-Bug: #1649341",
        "cmtr": "Dan Prince",
        "date": "2017-01-09 10:34:58-05:00",
        "files": ["mysql.pp"]
      },
      {
        "hash": "bbf13fe1d5dd242ce370afbdb7bb13db77d53d7f",
        "msg": "Add support for not using admin_token in Ceph/RGW\n\nThis patch add the option for using Keyston V3 authention with\nthe Ceph/RGW service instead of using the admin_token\n\nChange-Id: I42861afcac221478dcb68be13b6dbc2533a7f158",
        "cmtr": "Giulio Fidente",
        "date": "2017-01-09 18:31:33+01:00",
        "files": ["rgw.pp", "rgw-keystone-v3-43ef17dd10f825be.yaml", "tripleo_profile_base_ceph_rgw_spec.rb", "default.yaml"]
      },
      {
        "hash": "7af9ff39e96acd306bdddcf8f6e48a20fe7ee3f0",
        "msg": "Move nova cells db sync into nova-api profile\n\nHaving the db_sync code live in the mysql profile causes\ncoupling that doesn't work unless your MySQL server has the\nlatest Nova packages installed. This may not work for some\nbaremetal setups (where an isolated database exists) or\nwith containers where the MySQL container definately doesn't\nhave nova packages installed.\n\nMoving this code into the nova-api role also matches where we\nwere already db syncing the normal API database so it should be\nfine and safe.\n\nChange-Id: Ib625e2ac9c8d6bd1d335c58e291facc4ea5839ae\nCo-Authored-By: Alex Schultz <aschultz@redhat.com>",
        "cmtr": "Alex Schultz",
        "date": "2017-01-09 14:34:45-07:00",
        "files": ["mysql.pp", "nova.pp", "api.pp"]
      },
      {
        "hash": "079468f97a30bf57b01caedcfc1837fc7ae11ea4",
        "msg": "Rspec tests for nova profiles\n\nThis change fixes the hiera calls in the base nova profile to use the\nparameter rather than continue to call hiera. Additionally this change\nincludes basic test coverage for the various nova profiles.\n\nChange-Id: If393606eeb3c39ed3a2655bd89c5c276a9cf106e",
        "cmtr": "Alex Schultz",
        "date": "2017-01-09 14:39:41-07:00",
        "files": ["nova.pp", "tripleo_profile_base_nova_api_spec.rb", "tripleo_profile_base_nova_compute_ironic_spec.rb", "tripleo_profile_base_nova_compute_libvirt_spec.rb", "tripleo_profile_base_nova_compute_spec.rb", "tripleo_profile_base_nova_conductor_spec.rb", "tripleo_profile_base_nova_consoleauth_spec.rb", "tripleo_profile_base_nova_libvirt_spec.rb", "tripleo_profile_base_nova_scheduler_spec.rb", "tripleo_profile_base_nova_spec.rb", "tripleo_profile_base_nova_vncproxy_spec.rb", "default.yaml"]
      },
      {
        "hash": "858b220cc36a296efd49106f9358c70e38a29b21",
        "msg": "Implement Nova Placement API profile\n\nAllow TripleO to deploy Nova Placement API with a new profile.\n\nChange-Id: I5e25a50f3d7a9b39f4146a61cb528963ee09e90c",
        "cmtr": "Emilien Macchi",
        "date": "2017-01-11 09:40:12-05:00",
        "files": ["haproxy.pp", "mysql.pp", "keystone.pp", "placement.pp"]
      },
      {
        "hash": "e93527becf5e2ae02f52a8b8bcdc70f07167fdf8",
        "msg": "Add support for fence_ironic fencing agent.\n\nWe now support creating Pacemaker stonith fencing using the fence_ironic\nfencing agent.\n\nPartial-Bug: #1649695\n\nDepends-On: I315f9bb78a1296f691dadaeb39fb0a48df1d5f06\nChange-Id: I596eef68820f16516feeda147d3689f0da85d7ac",
        "cmtr": "Chris Jones",
        "date": "2017-01-11 16:55:32+00:00",
        "files": ["fencing.pp"]
      },
      {
        "hash": "2dcc387fa67c6ee705c1bf5a9f79afe5cd818d4a",
        "msg": "Set ceph key when using manila ceph backend\n\nManila ceph driver reads ceph's client configuration\n(keyring is the most important) from ceph.conf file\n(or any other file set by cephfs_conf_path). ceph.conf\nshould be updated with keyring location.\n\nIf ceph is deployed by tripleo then also manila ceph key\nis added into ceph and ceph filesystem is created.\n\nDepends-On: I18436a64fc991b9e697a1d79e369ac110cf8fe20\nChange-Id: Iac4a260af6738ed6afd4bcb107221a736d07c1b5\nPartial-Bug: #1644784\nCloses-Bug: #1646147",
        "cmtr": "Jan Provaznik",
        "date": "2017-01-11 18:09:42+01:00",
        "files": ["manila.pp"]
      },
      {
        "hash": "a9cd9e6838f16d7368ecff0c2d3ff71dcb0e2deb",
        "msg": "Include ::heat at step 3\n\nSince we include ::heat::keystone::domain at step 3, and that class\nrequires heat.conf since it uses the heat_config resource, we need to\nalso include ::heat at step 3. The ::heat class will take care of\ninstalling openstack-heat-common that provides heat.conf.\n\nCloses-Bug: #165389\nPartially-implements: blueprint split-stack-software-configuration\nChange-Id: I5ba34ca96ca84d3f1cf3785ed8bbef6720f7bd42",
        "cmtr": "James Slagle",
        "date": "2017-01-13 15:44:20-05:00",
        "files": ["heat.pp"]
      },
      {
        "hash": "0e7a38a3d930ae717da624efea99ae57ff7025da",
        "msg": "nova: disable ::nova::db::sync_cell_v2\n\nThis feature is broken for us now and there is work in progress in Nova\nto improve nova cell deployment.\nUntil it's fixed upstream, we need to disable cells deployment for now,\nso we can promote our CI.\n\nChange-Id: I379ba9e94a92ed225a03a67fc975b542447a9c8b\nRelated-Bug: #1649341",
        "cmtr": "Emilien Macchi",
        "date": "2017-01-14 17:57:14-05:00",
        "files": ["api.pp", "tripleo_profile_base_nova_api_spec.rb"]
      },
      {
        "hash": "da678b7d7d4ad0f5fcd598452f23bc49259f3ee1",
        "msg": "add cache to object-expirer pipeline\n\nWithout 'cache' in the object-expirer pipeline, adding $memcache_servers\nwill have no effect. This commit adds 'cache' to the pipeline.\n\nChange-Id: I8ddb71e8e6a5844446dd2478b6b9389ed0ade075",
        "cmtr": "Marcus Furlong",
        "date": "2017-01-17 12:01:39+11:00",
        "files": ["proxy.pp"]
      },
      {
        "hash": "bf68fa9683ee30cc2ebdf624f47e82a4fcceb746",
        "msg": "Do not depend on bootstrap_nodeid for any pacemaker profile\n\nWhen we create a pacemaker resource it must happen from a single node.\nIf it happens from multiple nodes an immediate error will be returned by\npcs.\n\nFor the pacemaker roles we enforce this by leveraging the recently\nintroduced <SERVICE_NAME_bootstrap_short_node_name> which gives us\nthe first hostname per-service, regardless of the role.\n(introduced via I03e8685f939e8ae1fcd8b16883b559615042505d)\n\nWith this approach if a pacemaker service belongs to two different\nroles (say role Controller on node A and role galera on node B), it\nwill only create the resource from one of the two and not both (which\nwould return an error).\n\nOnly setting Partial-Bug for this one, because it addresses the issue\nfrom the pacemaker resource creation POV (which is always affected). But\nthe issue itself is a race that we're theoretically affected by since\nthe composable roles work landed. While I have tried to fix the more\ngeneral case in previous attempts, I think it is best if we start a\ndiscussion on how to fix it, because each approach has a bunch of\npotential drawbacks and is quite invasive on how we do things. A\ndiscussion slot for this has been proposed for the Atlanta PTG.\n\nChange-Id: I662398cab60d523d204b57a5674ca8f5c0f2e68a\nPartial-Bug: #1615983",
        "cmtr": "Michele Baldessari",
        "date": "2017-01-18 11:53:16+01:00",
        "files": ["pacemaker.pp", "backup.pp", "volume.pp", "mysql.pp", "redis.pp", "haproxy.pp", "manila.pp", "rabbitmq.pp"]
      },
      {
        "hash": "e56f9e304fa12eef915da4d8e2c0218ca1155ca3",
        "msg": "updates to collectd support\n\nBased on Steve Hardy's comments in\nhttps://review.openstack.org/#/c/413748/, we need to move handling of\nthe list of plugins out of the heat templates and into puppet.  This\nmodule now uses the service_names variable to look up information on\nper-service collectd plugins.\n\nChange-Id: Ie5fba01e1f91ffdc39eb0eb1be9b1464c797b04f",
        "cmtr": "Lars Kellogg-Stedman",
        "date": "2017-01-18 10:06:15-05:00",
        "files": ["collectd.pp", "collectd_plugin.pp", "collectd_service.pp"]
      },
      {
        "hash": "cdeefea9061c1f6eac59e7e5e73238d10a91b01c",
        "msg": "Remove legacy flag and use composable interface\n\nWe dont need this flag anymore as we will disable api\nusing composable interface instead.\n\nSee I67900f7e6816212831aea8ed18f323652857fbd3\n\nCloses-bug: #1656364\n\nChange-Id: Ib6aea02bde6ad7e5223336579f0a99d6cd3ee98f",
        "cmtr": "Pradeep Kilambi",
        "date": "2017-01-18 10:29:22-05:00",
        "files": ["api.pp", "tripleo_profile_base_ceilometer_api_spec.rb"]
      },
      {
        "hash": "cdd7341b502c0fbc7db789472b2b736b300959f4",
        "msg": "Add Ceph RBD mirror Pacemaker profile\n\nThis change adds a profile for the Ceph RBD mirror service, which\nshould be managed by Pacemaker to make sure there is always a single\ninstance running.\n\nChange-Id: Ic63dc5cffece38942d305f538f71dd58a5d50789\nPartial-Bug: #1652177",
        "cmtr": "Giulio Fidente",
        "date": "2017-01-18 16:31:39+01:00",
        "files": ["rbdmirror.pp", "tripleo_profile_pacemaker_ceph_rbdmirror_spec.rp"]
      },
      {
        "hash": "53ee464a37b2644998a9d360d99a760139884232",
        "msg": "Use network entries for nova placement\n\nHaving these available from t-h-t, we should be able to use these now.\n\nChange-Id: I7272df25c4fdba152fe15d40444311bc35ace4d9\nDepends-On: Id0d34c7c3939ee81126ffd26d0658c0a87805a44",
        "cmtr": "Juan Antonio Osorio Robles",
        "date": "2017-01-19 01:37:10+02:00",
        "files": ["haproxy.pp"]
      },
      {
        "hash": "ade8845ac81067d017458ceb9195789ae02176ed",
        "msg": "Adds etcd\n\netcd is used by networking-vpp ML2 driver as the messaging mechanism. This\npatch adds etcd service which can be used by other services.\n\nImplements: blueprint fdio-integration-tripleo\n\nChange-Id: Idaa3e3deddf9be3d278e90b569466c2717e2d517\nSigned-off-by: Feng Pan <fpan@redhat.com>",
        "cmtr": "Feng Pan",
        "date": "2017-01-18 23:58:11-05:00",
        "files": ["Puppetfile_extras", "haproxy.pp", "etcd.pp"]
      },
      {
        "hash": "be7886a30443c82d7743be8cbdf0e0e2d3a1b26a",
        "msg": "Add retries to the ::pacemaker::stonith property\n\nLet's set a default number of retries also for the stonith\nproperty creation. Just like we do for most of the composable\nHA resource creation.\n\nChange-Id: Ie6e19cc838a3f45100f6c98a350bdf6a37d40590\nDepends-On: I20098c5d69cde356fe79f6d8dbdc03ae42ecb3ef",
        "cmtr": "Michele Baldessari",
        "date": "2017-01-19 10:07:52+01:00",
        "files": ["pacemaker.pp"]
      },
      {
        "hash": "bed1c230f22c9f4e75b6fded053311c4d96b1887",
        "msg": "Implement NTP profile\n\nThis puppet manifest will install and configure by default\nthe NTP service. It will also make sure chrony is purged, because it's\npresent on the EL7 images.\n\nChange-Id: If3cf7d9690001b051465ea25cf8a8c3bc6f7c33a",
        "cmtr": "Emilien Macchi",
        "date": "2017-01-19 07:21:12-05:00",
        "files": ["norpm.rb", "ntp.pp"]
      },
      {
        "hash": "193e45b84f731d24fc85e82b619fba63f943f7ae",
        "msg": "Add base profile for Octavia services\n\nAdds initial base profile and profile for API service.\n\nPartially-implements: blueprint octavia-service-integration\nChange-Id: I77783029797be4fb488c6e743c51d228eba9c474",
        "cmtr": "Brent Eagles",
        "date": "2017-01-19 13:17:27-03:18",
        "files": ["octavia.pp", "api.pp", "tripleo_profile_base_octavia_api_spec.rb", "tripleo_profile_base_octavia_spec.rb"]
      },
      {
        "hash": "0ea2d528ce7dce6e99eccf46cccb923c961727d1",
        "msg": "Move nova::placement to common nova manifest\n\nnova::placement needs to be declared on more than placement api node,\nbecause credentials are used by different services (at least\nnova-compute now).\nThis patch moves the class to base/nova.pp, at the same step.\nSo compute nodes will have the credentials and will be able to use\nPlacement API on multinode environments.\n\nChange-Id: Iada8e9fcccec7dbfe7ac0ec0f9ec6eac1581290e",
        "cmtr": "Emilien Macchi",
        "date": "2017-01-20 00:12:53+00:00",
        "files": ["nova.pp", "placement.pp"]
      },
      {
        "hash": "93195f63652fbe79bc7940fc9658df628f37c0ba",
        "msg": "cinder: move glance params into common\n\nglance params are also used by cinder-volume. This patch aims to use\ncinder::glance in common roles for cinder, so we can split cinder api\nand cinder volume.\n\nDepends-On: Id81c029318016068481dd614ed62cc4bfaf0f3e8\nChange-Id: I9703efb38c2a3166c7f21c5c1b942f33abb9e76c",
        "cmtr": "Emilien Macchi",
        "date": "2017-01-19 20:20:02-05:00",
        "files": ["cinder.pp", "api.pp", "tripleo_profile_base_cinder_api_spec.rb", "tripleo_profile_base_cinder_spec.rb"]
      },
      {
        "hash": "a16642bee59a5e9a51e5075c0e3ec04aa611600a",
        "msg": "Fix typo in endpoint.pp\n\nTrivialFix\n\nChange-Id: I8ea2f108d6f98167217b31284c84dbdf23f55f36",
        "cmtr": "zhangyanxian",
        "date": "2017-01-20 07:25:52+00:00",
        "files": ["endpoint.pp"]
      },
      {
        "hash": "2f038b30e8f306d59f7e14471d88d7616026c6ff",
        "msg": "Make sure we bind the rabbit inter-cluster to a specific interface\n\nCurrently the inter-cluster communication port listens to all ip\naddresses:\ntcp 0 0 0.0.0.0:25672 0.0.0.0:* LISTEN 25631/beam.smp\n\nIn order to limit it to listen only to the network assigned to rabbitmq\nwe need to add the following:\n{kernel, [\n    ...\n    {inet_dist_use_interface, {172,17,0,16}},\n    ...\n  ]}\n\nIn order to do the conversion from an ip address to the Erlang\nrepresentation we add a function that takes a string and returns a\nconverted output. The (~400 randomly generated) IPv6/4 addresses at [1]\nhave been parsed both via erl's built-in inet:parse_address() function\nand our ruby implementation. All converted ip addresses resulted in the\nsame output [2], [3]. The only difference is that Erlang's parse_address()\nconsiders network ip addresses (e.g. 10.0.0.0) invalid whereas the ruby\nfunction does not. This should not be a problem as the use case here is\nto bind a service to a specific ip address on an interface and if\nanything we likely prefer the less strict behaviour, given that at least\nin theory it is perfectly valid for an interface to have a network\naddress assigned to it.\n\n[1] http://acksyn.org/files/tripleo/ip-addresses.txt\n[2] http://acksyn.org/files/tripleo/ip-addresses-ruby.txt\n[3] http://acksyn.org/files/tripleo/ip-addresses-erl.txt\nChange-Id: I211c75b9bab25c545bcc7f90f34edebc92bba788\nPartial-Bug: #1645898",
        "cmtr": "Michele Baldessari",
        "date": "2017-01-20 08:41:22+01:00",
        "files": ["ip_to_erl_format.rb", "rabbitmq.pp", "ip_to_erl_format_spec.rb"]
      },
      {
        "hash": "0b32f609ad1c85c919b6bcc8497b1c4672660925",
        "msg": "Implement Nova ec2api profile\n\nChange-Id: If4b091e1ca02f43aa9c65392baf8ceea007b7cfb",
        "cmtr": "Sven Anderson",
        "date": "2017-01-20 14:08:30+01:00",
        "files": ["haproxy.pp", "mysql.pp", "keystone.pp", "ec2api.pp"]
      },
      {
        "hash": "e2a4dee805f60109ad8448c727873fcb7db27e6a",
        "msg": "Delete the unnecessary word in numvfs_persistence.pp\n\nTrivialFix\n\nChange-Id: I4c67bedd2792c6fe4a2a6bfacd15cf27df6c5559",
        "cmtr": "zhangyanxian",
        "date": "2017-01-23 06:10:02+00:00",
        "files": ["numvfs_persistence.pp"]
      },
      {
        "hash": "014375ff237207ad16097c77b1c37a11d10b4b31",
        "msg": "Remove last bits of Glance Registry\n\nGlance Registry has been removed in TripleO. So we can clean\npuppet-tripleo and remove last bits that used to deploy this service.\n\nChange-Id: Iea8f6340349ab366606205305a3ec9a6e4f11ba6",
        "cmtr": "Emilien Macchi",
        "date": "2017-01-23 08:01:37-05:00",
        "files": ["haproxy.pp", "registry.pp"]
      },
      {
        "hash": "5318a833227ee09eccee520542f7235311675403",
        "msg": "Use TLS proxy for Glance API's internal TLS\n\nThis uses the tls_proxy resource added in the previous commit [1] in\nfront of the Glance API server when internal TLS is enabled. Right\nnow values are passed quite manually, but a subsequent commit will use\nt-h-t to pass the appropriate hieradata, and then we'll be able to clean\nit up from here.\n\nNote that the proxy is only deployed when internal TLS is enabled.\n\n[1] I82243fd3acfe4f23aab373116b78e1daf9d08467\n\nbp tls-via-certmonger\nDepends-On: Id5dfb38852cf2420f4195a3c1cb98d5c47bbd45e\n\nChange-Id: Id35a846d43ecae8903a0d58306d9803d5ea00bee",
        "cmtr": "Juan Antonio Osorio Robles",
        "date": "2017-01-23 14:54:43+00:00",
        "files": ["haproxy.pp", "api.pp"]
      },
      {
        "hash": "25b327c9a0601be2b74532a6da33977aad11eb55",
        "msg": "pacemaker remote profile support\n\nThis support enables a base profile called pacemaker_remote which will\nallow the operator to automatically configure the pacemaker_remote\nservice on such nodes. This manifest also automatically adds any\npacemaker_remote nodes to the pacemaker cluster.\n\nDepends-On: I0c01ecb7df1a0f9856fdc866b9d06acf0283fa4f\nDepends-On: Ic0488f4fc63e35b9aede60fae1e2cab34b1fbdd5\nChange-Id: I92953afcc7d536d387381f08164cae8b52f41605",
        "cmtr": "Michele Baldessari",
        "date": "2017-01-24 15:46:51+01:00",
        "files": ["pacemaker.pp", "pacemaker_remote.pp"]
      },
      {
        "hash": "20b2a54e7961c15a35cf326e2b60cc3ef2dd2020",
        "msg": "Clean TLS proxy-related setup for glance api profile\n\nSince the commit this depends on sets it up via hieradata, the\nconditions here are no longer needed.\n\nbp tls-via-certmonger\nChange-Id: I66956f0b85e8e3bf1ab9562221d51d51c230b88e\nDepends-On: I693213a1f35021b540202240e512d121cc1cd0eb",
        "cmtr": "Juan Antonio Osorio Robles",
        "date": "2017-01-24 17:53:46+00:00",
        "files": ["api.pp"]
      },
      {
        "hash": "3849c6a6d3ab6df2bd1bcac006219a7fb1192f2f",
        "msg": "Fix wrong hiera key in ceph_rbdmirror\n\nThere is a typo in the bootstrap check which will lead to:\nCould not find data item ceph_rbdmirror_bootstrap_short_node_name in any\nHiera data file and no default supplied at\n/etc/puppet/modules/tripleo/manifests/profile/pacemaker/ceph/rbdmirror.pp\n\nWe need to be using the correct one:\n$ hiera ceph_rbdmirror_short_bootstrap_node_name\novercloud-remote-0\n\nChange-Id: Ic343e5f99e48360bdd2d2989781a4b6ca484e8fc",
        "cmtr": "Michele Baldessari",
        "date": "2017-01-25 14:49:31+01:00",
        "files": ["rbdmirror.pp"]
      },
      {
        "hash": "51ed5351f7e729ffab69f8543b9bbe4e8e4d5d9e",
        "msg": "[keepalived] fix netmask for vip\n\nFor pacemaker we ensure netmask of virtual IP to 64bit for IPv6 and\n32bit for IPv4. We should have feature parity in keepalived setup.[1]\nThe issue is that puppet picks first IP orf ifconfig output as and\ninterface IP. In case of IPv6 keepalived would add new IP to\ninterface with netmask 128 causing interface_for_ip to fail on\nsecond puppet run.\n\n[1] - https://github.com/openstack/puppet-tripleo/blob/master/manifests/pacemaker/haproxy_with_vip.pp\n\nCloses-Bug: #1659309\n\nChange-Id: Icb0c9a8d51a9bfcdc4b2caef9e52fdeb6f634cba",
        "cmtr": "Lukas Bezdicka",
        "date": "2017-01-25 14:35:53+00:00",
        "files": ["keepalived.pp"]
      },
      {
        "hash": "467c939962b0be1d4262f557c0843ae880894e98",
        "msg": "Ensure basic Ceph configuration is performed by RBD mirror\n\nPreviously we missed to perform the basic Ceph client configuration\non a node where only the RBD mirror service was deployed.\n\nChange-Id: Ie6a4284a88714bcee964a38636e12aa88bb95c9d\nCo-Authored-By: Michele Baldessari <michele@acksyn.org>\nRelated-Bug: #1652177",
        "cmtr": "Giulio Fidente",
        "date": "2017-01-25 16:25:14+01:00",
        "files": ["rbdmirror.pp"]
      },
      {
        "hash": "13fb869de757b3904fe0309d9bf9a2420e79e451",
        "msg": "Remove double include of neutron::server class\n\nThis class was being included in the same way in two different branches\nof the code which could be joined in the initial branch (or if\nstatement).\n\nChange-Id: Iee3c1663a2fe929b21a9c089d89b721600af66bd",
        "cmtr": "Juan Antonio Osorio Robles",
        "date": "2017-01-25 17:57:45+02:00",
        "files": ["server.pp"]
      },
      {
        "hash": "c6f085616aa9a65fe522bf2ab57195b873301246",
        "msg": "Adding tacker service\n\nChange-Id: I3d6bbc05644e840395f87333ec80e3b844f69903",
        "cmtr": "Dan Radez",
        "date": "2017-01-25 13:59:09-05:00",
        "files": ["haproxy.pp", "mysql.pp", "keystone.pp", "tacker.pp"]
      },
      {
        "hash": "f9efeb158261fbdad206ea072c4c628636c1a5f4",
        "msg": "Composable HA\n\nThis commit implements composable HA for the pacemaker profiles.\n- Everytime a pacemaker resource gets included on a node,\n  that node will add a node cluster property with the name of the resource\n  (e.g. galera-role=true)\n- Add a location rule constraint to force running the resource only\n  on the nodes that have that property\n- We also make sure that any pacemaker resource/property creation has a\n  predefined number of tries (20 by default). The reason for this is\n  that within composable HA, it might be possible to get \"older CIB\"\n  errors when another node changed the CIB while we were doing an\n  operation on it. Simply retrying fixes this.\n- Also make sure that we use the newly introduced\n  pacemaker::constraint::order class instead of the older\n  pacemaker::constraint::base class. The former uses the push_cib()\n  function and hence behaves correctly in case multiple nodes try\n  to modify the CIB at the same time.\n\nChange-Id: I63da4f48da14534fd76265764569e76300534472\nDepends-On: Ib931adaff43dbc16220a90fb509845178d696402\nDepends-On: I8d78cc1b14f0e18e034b979a826bf3cdb0878bae\nDepends-On: Iba1017c33b1cd4d56a3ee8824d851b38cfdbc2d3",
        "cmtr": "Emilien Macchi",
        "date": "2017-01-25 19:32:31+00:00",
        "files": ["Rakefile", "haproxy_with_vip.pp", "backup.pp", "volume.pp", "mysql.pp", "redis.pp", "haproxy.pp", "manila.pp", "rabbitmq.pp"]
      },
      {
        "hash": "6b8349b2cbefce281f1efb899d86986a99ce5122",
        "msg": "Add initial profiles for rest of Octavia services\n\nInitial profile files for Octavia services.\n\nPartially-implements: blueprint octavia-service-integration\nChange-Id: Ic6f945cdf36744382a4a63fcc374d5562964ca68",
        "cmtr": "Brent Eagles",
        "date": "2017-01-25 18:29:25-03:18",
        "files": ["health_manager.pp", "housekeeping.pp", "worker.pp", "add-support-for-octavia-f1e472af89e9a05c.yaml"]
      },
      {
        "hash": "2d4015019a02bc7609f359961460494fc890e049",
        "msg": "Rename controller_admin_vip to controller_admin_host\n\nBring change of I53151d4f555d5d161a3e53ce5f022e3bf3b2ffbd into\npuppet-tripleo.\n\nChange-Id: I1227956a0389497eedc00e4ec817f52be608dc75\nRelated-Bug: #1643655",
        "cmtr": "Martin Andr",
        "date": "2017-01-26 10:20:34+01:00",
        "files": ["docker_registry.pp"]
      },
      {
        "hash": "8077d845d32ea2a0e0ffff501ab05595a71d0025",
        "msg": "Use transport_url for rabbitmq connection parameters in heat\n\nDepends-On: I91b9959a6f71b4e6885e55a568116cc28cf16ddd\n\nChange-Id: I1a152dd0a7e7949ee8d91a6f63425dba2406fcaf",
        "cmtr": "Carlos Camacho",
        "date": "2017-01-26 10:58:01+01:00",
        "files": ["heat.pp"]
      },
      {
        "hash": "a63ee9c5f99906d659720685d1444b27ac20585e",
        "msg": "Adding congress service\n\nChange-Id: Ic74ccd5fa7b3b04ca810416e5160463252f17474\nSigned-off-by: Dan Radez <dradez@redhat.com>",
        "cmtr": "Dan Radez",
        "date": "2017-01-26 08:26:43-05:00",
        "files": ["haproxy.pp", "congress.pp", "mysql.pp", "keystone.pp"]
      },
      {
        "hash": "033e1f360025c9409d7e840b48a64c8814c3a1bd",
        "msg": "Use TLS proxy for neutron server's internal TLS\n\nThis uses the tls_proxy resource added in a previous commit [1] in\nfront of the neutron server when internal TLS is enabled. Right\nnow values are passed quite manually, but a subsequent commit will use\nt-h-t to pass the appropriate hieradata, and then we'll be able to\nclean it up from here.\n\nNote that the proxy is only deployed when internal TLS is enabled.\n\n[1] I82243fd3acfe4f23aab373116b78e1daf9d08467\n\nbp tls-via-certmonger\n\nChange-Id: I6dfbf49f45aef9f47e58b5c0dbedd2b4e239979e",
        "cmtr": "Juan Antonio Osorio Robles",
        "date": "2017-01-26 19:00:46+02:00",
        "files": ["haproxy.pp", "neutron.pp", "server.pp"]
      },
      {
        "hash": "bd98b128d7b3155cbf9207eaaa195484f3b36220",
        "msg": "Support composable HA for the Ceph rbdmirror daemon\n\nFollow up patch for I63da4f48da14534fd76265764569e76300534472\nto support composable HA for the Ceph rbdmirror daemon.\n\nChange-Id: I3767bee4b1c7849fa85e71bcc57534b393d2d415",
        "cmtr": "Giulio Fidente",
        "date": "2017-01-26 20:33:40+00:00",
        "files": ["rbdmirror.pp"]
      },
      {
        "hash": "62bb10b8995b5b616bdfe98a4d76ebd84e50cfa0",
        "msg": "horizon: be more flexible in hiera neutron\n\nRequiring the neutron mechanism driver from hiera is too rigid, if\nNeutron is not deployed in the catalog.\nBe more flexible so catalog won't fail if the value is not set in Hiera.\n\nChange-Id: I1475687c4dc53c77e763f42a440355a7c8d014bc\nPartial-Bug: #1659662",
        "cmtr": "Emilien Macchi",
        "date": "2017-01-26 16:45:55-05:00",
        "files": ["horizon.pp"]
      },
      {
        "hash": "d5d4cc1094365b6bb147216d2ec99ddc36020a31",
        "msg": "Add a default rule for dhcpv6 traffic\n\nVia bug https://bugs.launchpad.net/tripleo/+bug/1657108 we need\nto zero out the default rules in /etc/sysconfig/ip{6}tables in\nthe image.\nWe have done this for ipv4, but when we will do it for ipv6 we\nwill also need to make sure we add a rule for dhcpv6 traffic\nas it is shipped in the iptables rpm. (See\nhttps://bugzilla.redhat.com/show_bug.cgi?id=1169036 for more info)\n\nWith this change we correctly get the rule present (aka the first\nACCEPT line. The second line is due to the stock ip6tables rule\nI had in my testing):\n[root@overcloud-controller-0 ~]# iptables -nvL |grep 546\n[root@overcloud-controller-0 ~]# ip6tables -nvL |grep 546\n    0     0 ACCEPT     udp      *      *       ::/0 fe80::/64 multiport dports 546 /* 004 accept ipv6 dhcpv6 ipv6 */ state NEW\n    0     0 ACCEPT     udp      *      *       ::/0 fe80::/64 udp dpt:546 state NEW\n\nChange-Id: If22080054b2b1fa7acfd101e8c34d2707e8e7864\nPartial-Bug: #1657108",
        "cmtr": "Michele Baldessari",
        "date": "2017-01-27 10:54:28+01:00",
        "files": ["pre.pp"]
      },
      {
        "hash": "eb14c2a9f7acd6a7949e7aee91687756731f93db",
        "msg": "Add AuditD Profile\n\nThis patch allows the management of the AuditD service and its associated\nfiles (such as `audit.rules`)\n\nThis is achieved by means of the `puppet-auditd` puppet module.\n\nCloses-Bug: #1640302\nCo-Authored-By: Luke Hinds (lhinds@redhat.com)\nChange-Id: Ie31c063b674075e35e1bfa28d1fc07f3f897407b",
        "cmtr": "lhinds",
        "date": "2017-01-27 10:10:34+00:00",
        "files": ["auditd.pp", "puppet-auditd-0f6cbd6a2d193aac.yaml"]
      },
      {
        "hash": "9c9667e214987fe4a41a96d13f58541f0ddd53a2",
        "msg": "Re-organizes Contrail services to the correct roles\n\nIn current setup some Contrail services belong to the wrong roles.\nThe Contrail control plane can be impacted if the Analytics database has problems.\nFurthermore contrail tripleo puppet modules are being refactored to conform to the\nnew interface of the puppet-contrail modules.\n\nCloses-Bug: 1659560\n\nChange-Id: Id0dd35b95c5fe9d0fcc1e16c4b7d6cc601f10818",
        "cmtr": "Michael Henkel",
        "date": "2017-01-27 12:35:15+01:00",
        "files": ["haproxy.pp", "analytics.pp", "analyticsdatabase.pp", "config.pp", "control.pp", "database.pp", "heat.pp", "neutron_plugin.pp", "provision.pp", "vrouter.pp", "webui.pp"]
      },
      {
        "hash": "8bb10297ced7a93d93aac0d4e5e0725ab178e557",
        "msg": "nova: deploy basic setup for cells\n\nit's not required in Ocata, let's configure the basic setup for cells.\n\nnote: it also cleanup old code that is not valid anymore.\n\nChange-Id: Iac5b2fbe1b03ec7ad4cb8cab2c7694547be6957d",
        "cmtr": "Emilien Macchi",
        "date": "2017-01-27 14:26:25+00:00",
        "files": ["api.pp", "nova_cells_setup-2c3e3344d8adcc26.yaml", "tripleo_profile_base_nova_api_spec.rb"]
      },
      {
        "hash": "e089cc6fbbd89c83bb6e4ba86295702f50d0f4a3",
        "msg": "Clean TLS proxy-related setup for neutron-server profile\n\nSince the commit this depends on sets it up via hieradata, the\nconditionals here are no longer needed.\n\nbp tls-via-certmonger\nDepends-On: I9252512dbf9cf2e3eec50c41bf10629d36070bbd\n\nChange-Id: I37275e42763e103b81878b6af07c750a524c5697",
        "cmtr": "Juan Antonio Osorio Robles",
        "date": "2017-01-27 15:31:50+00:00",
        "files": ["neutron.pp", "server.pp"]
      },
      {
        "hash": "5ef4a34b2814f4adb83b92f33926f9f2f2916ab0",
        "msg": "Fix MySQL service name parameter\n\nThis was wrongly set to service_name while it should have been\nserver_service_name.\n\nChange-Id: Ia802857cc585bb9b057a02f6a13c16981baa5b76",
        "cmtr": "Juan Antonio Osorio Robles",
        "date": "2017-01-27 21:03:58+02:00",
        "files": ["mysql.pp"]
      },
      {
        "hash": "daaa7ce489bf6fe14fb22e499f652d6098399165",
        "msg": "Use transport_url for swift-proxy instead of rabbitmq params\n\nThese parameters are being deprecated, so we should be using the\ntransport_url format instead.\n\nChange-Id: I8b7457b6233c4f88af2d7bc1b9304fcccb6edf61",
        "cmtr": "Emilien Macchi",
        "date": "2017-02-01 01:56:42+00:00",
        "files": ["proxy.pp"]
      },
      {
        "hash": "d3190a13189ff8fb2abc5e9c7b996034b4363c9b",
        "msg": "Fix style nits in contrail manifests\n\nThere are some style nits in the recently merged contrail puppet manifests.\n\nChange-Id: Ice5935105e0323cb55e0d018190e6471ade7324a",
        "cmtr": "Carlos Camacho",
        "date": "2017-02-01 21:35:15+01:00",
        "files": ["database.pp", "heat.pp", "neutron_plugin.pp", "provision.pp"]
      },
      {
        "hash": "621ea892a299d2029348db2b56fea1338bd41c48",
        "msg": "set innodb_file_per_table to ON for MySQL / Galera\n\nInnoDB uses a single file by default which can grow to be\ntens/hundreds of gigabytes, and is not shrinkable even\nif data is deleted from the database.\n\nBest practices are that innodb_file_per_table is set to ON\nwhich instead stores each database table in its own file, each of\nwhich is also shrinkable by the InnoDB engine.\n\nCloses-Bug: #1660722\nChange-Id: I59ee53f6462a2eeddad72b1d75c77a69322d5de4",
        "cmtr": "Mike Bayer",
        "date": "2017-02-01 16:12:13-05:00",
        "files": ["mysql.pp", "mysql.pp", "innodb_file_per_table-f925b3bbf29d44ea.yaml"]
      },
      {
        "hash": "3f7e74ab24bb43f9ad7e24e0efd4206ac6a3dd4e",
        "msg": "Revert \"set innodb_file_per_table to ON for MySQL / Galera\"\n\nThis reverts commit 621ea892a299d2029348db2b56fea1338bd41c48.\n\nWe're getting performance problems on SATA disks.\n\nChange-Id: I30312fd5ca3405694d57e6a4ff98b490de388b92\nCloses-Bug: #1661396\nRelated-Bug: #1660722",
        "cmtr": "Alex Schultz",
        "date": "2017-02-02 21:43:41+00:00",
        "files": ["mysql.pp", "mysql.pp", "innodb_file_per_table-f925b3bbf29d44ea.yaml"]
      },
      {
        "hash": "76931e535c69ab437c4710dc749bc363f4533ea5",
        "msg": "Add support to changing the Rabbitmq password on update\n\nRabbitmq Password is set on the fresh deployment, but during\nupdate, if the password is changed, it is modified in all config\nfiles including rabbitmq config. But the rabbitmq connection fails\nbecause the new password is not successful applied to rabbitmq.\nSetting the rabbitmq_user will invoke 'rabbitmqctl change_password'.\n\nScenario: The password change is applied on Step1 when configuring\nRabbitmq. Other services may be updated on different Steps. Till\nother services config is updated with new rabbitmq password, and\nrestarted, the connections will get Access Denied response. It has\ncyclic dependency. So the passwords will be changes at Step1 and\nonce all services are updated, the connections will work as is.\n\nPartial-Bug: #1611704\nChange-Id: I44865af3d5eb2d37eb648ac7227277e86c8fbc54",
        "cmtr": "Saravanan KR",
        "date": "2017-02-03 16:03:50+05:18",
        "files": ["rabbitmq.pp", "rabbitmq_password_change-4fce15c9ebb0e20c.yaml"]
      },
      {
        "hash": "a0983a4ed743e9d0ca152c29303cce73a1ca5113",
        "msg": "Revert \"Revert \"set innodb_file_per_table to ON for MySQL / Galera\"\"\n\nThis reverts commit 3f7e74ab24bb43f9ad7e24e0efd4206ac6a3dd4e.\n\nAfter identifying how to workaround the performance issues on the\nundercloud, let's put this back in. Enabling innodb_file_per_table is\nimportant for operators to be able to better manage their databases.\n\nChange-Id: I435de381a0f0e3ef221e498f442335cdce3fb818\nDepends-On: I77507c638237072e38d9888aff3da884aeff0b59\nCloses-Bug: #1660722",
        "cmtr": "Alex Schultz",
        "date": "2017-02-03 19:50:08+00:00",
        "files": ["mysql.pp", "mysql.pp", "innodb_file_per_table-f925b3bbf29d44ea.yaml"]
      },
      {
        "hash": "9a69201b5fd40c199468d89d7567c7869e7c5178",
        "msg": "Proxy API endpoints that UI uses\n\nAdd support to enable the UI to use paths via mod_proxy to access API\nendpoints instead of connecting to each endpoint directly on a port\nother than where the UI is served from.  This is necessary to prevent\ncertificate acceptance errors from non-Chrome browsers which take\nexception to connections made to other ports on the same hostname, using\none SSL certificate.\n\nThis change extends the UI's Apache configuration to create one\nmod_proxy location for each of the API endpoints that UI calls upon.\nThese mod_proxy (using ProxyPass, ProxyPassReverse) endpoints are\nconfigured using new heira variables provided in the dependent commit.\n\nAdditionally, this change modifies the default UI configuration file to\ninclude endpoint URLs formatted to use the new endpoint paths that are\ncreated.\n\nRemoved puppet variables which were previously used to generate the\ncontents of the tripleo_ui_config.js template, since they are no longer\nused to generate this file, replaced with the new endpoint URLs\nformatted to use the new endpoint paths that are created.\n\nChange-Id: I55e375ad462fa98e181277ec0bd88658e620e8ad\nImplements: blueprint proxy-undercloud-api-services\nDepends-On: Ib20f4b0891563ae90ec80675635a64c39bd2fdb7",
        "cmtr": "Dan Trainor",
        "date": "2017-02-03 20:04:10-05:00",
        "files": ["ui.pp", "proxy-api-endpoints-359e5fb64d80d400.yaml", "remove-old-urls-dea2b7fdcb50dd48.yaml", "tripleo_ui_spec.rb", "tripleo_ui_config.js.erb"]
      },
      {
        "hash": "27b25981c64694a45431d1f3365ddc6b0b26705f",
        "msg": "Add ::ironic::config to Ironic base profile\n\nI have ExtraConfig settings that need to be set in\nironic.conf. Adding the ::ironic::config module\nto our base Ironic profile should allow users to\ncustomize Ironic if needed.\n\nChange-Id: I93e9b3b5d4def1d8fa42b77b611b7d9d6cb7963b",
        "cmtr": "Dan Prince",
        "date": "2017-02-04 13:57:03-05:00",
        "files": ["ironic.pp"]
      },
      {
        "hash": "22c5d341776c02dfafab1f58f68a852da34f3692",
        "msg": "Stop deploying Nova API in WSGI with Apache\n\nIt was suggested by Nova team to not deploying Nova API in WSGI with\nApache in production.\nIt's causing some issues that we didn't catch until now (see in the bug\nreport). Until we figure out what was wrong, let's disable it so we can\nmove forward in the upgrade process.\n\nRelated-Bug: 1661360\n\nCo-Authored-By: Juan Antonio Osorio Robles <jaosorior@redhat.com>\nChange-Id: Ia87b5bdea79e500ed41c30beb9aa9d6be302e3ac",
        "cmtr": "Emilien Macchi",
        "date": "2017-02-06 16:10:23+00:00",
        "files": ["haproxy.pp", "api.pp", "tripleo_profile_base_nova_api_spec.rb"]
      },
      {
        "hash": "6556123395c14f21de31e844426e541c141ffaaa",
        "msg": "nova/libvirt: switch vnc server binding\n\nOn compute nodes, instead of binding vnc server on 0.0.0.0, use the IP\naddress provided by libvirt's t-h-t profile (hiera).\n\nCo-Authored-By: Juan Antonio Osorio Robles <jaosorior@redhat.com>\nDepends-On: Ie377c09734e9f6170daa519aed69c53fc67c366b\nChange-Id: If6b116b238a52144aad5e76c9edc7df6aa15313c\nCloses-Bug: #1660099",
        "cmtr": "Juan Antonio Osorio Robles",
        "date": "2017-02-06 17:10:19+00:00",
        "files": ["libvirt.pp", "vncserver_listen-4417377cac38464c.yaml"]
      },
      {
        "hash": "f7087b895a21f73664ae9538e367c8cb95ec10f2",
        "msg": "nova: disable API in WSGI by default\n\nCleanup patch once the THT patch is merged.\n\nChange-Id: Iba439a4758a4728197d7620b764a4f0f2648ee0f\nDepends-On: I09b73476762593642a0e011f83f0233de68f2c33",
        "cmtr": "Emilien Macchi",
        "date": "2017-02-09 05:10:41+00:00",
        "files": ["api.pp"]
      },
      {
        "hash": "3b00ffc728b47e132b3ed8bc460f8697ddb32047",
        "msg": "start nova-compute when keystone resources are created\n\n1. Move keystone resources management at step 4.\n2. Move nova-compute startup at step 5.\n\nThat way, we make sure nova-compute will start when all Keystone\nresources are ready.\n\nChange-Id: I6e153e11b8519254d2a67b9142bf774a25bce69d\nCloses-Bug: #1663273",
        "cmtr": "Emilien Macchi",
        "date": "2017-02-09 10:30:54-05:00",
        "files": ["keystone.pp", "compute.pp", "tripleo_profile_base_nova_compute_spec.rb"]
      },
      {
        "hash": "6e074bfde1e78a85b60d104eb901a716107bd6f9",
        "msg": "Rebranding of Eqlx to Dell EMC PS Series\n\nThis changes rebrands Dell Eqlx to Dell PS series\nand matches the tripleo-heat-templates.\n\nChange-Id: I3536147a06b426ace18cf415e99361c47b4cf5d9",
        "cmtr": "rajinir",
        "date": "2017-02-09 13:44:05-06:00",
        "files": ["volume.pp", "dellps.pp", "tripleo_profile_base_cinder_volume_dellps_spec.rb", "tripleo_profile_base_cinder_volume_spec.rb"]
      },
      {
        "hash": "f1065f3f65c77db64bd0c2caa11187326c45db25",
        "msg": "Add module to support ScaleIO backend in Cinder\n\nAlso adds an initial spec file for basic testing of the module.\n\nChange-Id: I5534aab53b70de215336a076d25263c73b8d7b5b\nPartial-Bug: #1661316",
        "cmtr": "rajinir",
        "date": "2017-02-09 13:46:50-06:00",
        "files": ["volume.pp", "scaleio.pp", "tripleo_profile_base_cinder_scaleio_spec.rb"]
      },
      {
        "hash": "bb63f514d22ea82d17947a5972b4da16e66b5a36",
        "msg": "Run nova-cell_v2-discover_hosts at step 5\n\nWe need to run nova-cell_v2-discover_hosts at the very end of the\ndeployment because nova database needs to be aware of all registred\ncompute hosts.\n\n1. Move keystone resources management at step 3.\n2. Move nova-compute service at step 4.\n3. Move nova-placement-api at step 3.\n5. Run nova-cell_v2-discover_hosts at step 5 on one nova-api node.\n6. Run neutron-ovs-agent at step 5 to avoid racy deployments where\n   it starts before neutron-server when doing HA deployments.\n\nWith that change, we expect Nova aware of all compute services deployed\nin TripleO during an initial deployment.\n\nDepends-On: If943157b2b4afeb640919e77ef0214518e13ee15\nChange-Id: I6f2df2a83a248fb5dc21c2bd56029eb45b66ceae\nRelated-Bug: #1663273\nRelated-Bug: #1663458",
        "cmtr": "Emilien Macchi",
        "date": "2017-02-09 23:00:42-05:00",
        "files": ["keystone.pp", "ovs.pp", "api.pp", "compute.pp", "placement.pp", "tripleo_profile_base_nova_compute_spec.rb"]
      },
      {
        "hash": "87652700db4532030360ad251e2a75484708bb26",
        "msg": "nova/api: more cleanup\n\n- transform nova_api_wsgi_enabled in a parameter\n- update rspec tests\n- fix TLS to run at step 1\n\nChange-Id: I4d3f9c92f0717ae8c3bc8d71065fab281de82008",
        "cmtr": "Emilien Macchi",
        "date": "2017-02-10 09:31:35-05:00",
        "files": ["api.pp", "tripleo_profile_base_nova_api_spec.rb"]
      },
      {
        "hash": "b541bf5a370e40feac2f0a612d28989994c19040",
        "msg": "Uncomment internal TLS options for placement API\n\nPlacement API is still running over wsgi which can run with TLS on the\ninternal network; These options were commented from haproxy and doing\nthis breaks the TLS-everywhere setup.\n\nChange-Id: I1194f1f487cdcf45541c0d139806aa3dc4456d6e",
        "cmtr": "Juan Antonio Osorio Robles",
        "date": "2017-02-13 11:22:57+02:00",
        "files": ["haproxy.pp"]
      },
      {
        "hash": "9b12ee02f8d72bb9475922e259a246e9c7483555",
        "msg": "nova: move placement credentials config at step 3\n\nnova placement credentials in nova.conf need to be configured at step 3\nso Nova services can use them as soon as they start.\n\nChange-Id: I0abdd305b7e6c8d83f23e25b3872e98eb56dd299",
        "cmtr": "Emilien Macchi",
        "date": "2017-02-13 15:22:52+00:00",
        "files": ["nova.pp", "tripleo_profile_base_nova_spec.rb"]
      },
      {
        "hash": "d545621e613f867ef84ba073588da79943f3bb61",
        "msg": "tuning: manage keystone resources only at step3\n\n1. Manage Keystone resources only at step 3. Don't verify them\n   at step 4 and 5, it's a huge loss of time.\n2. Don't require Keystone resources for Gnocchi services, they are\n   already ready at Step 5.\n\nRelated-Bug: #1664418\nChange-Id: I9879718a1a86b862e5eb97e6f938533c96c9f5c8",
        "cmtr": "Emilien Macchi",
        "date": "2017-02-14 17:19:16-05:00",
        "files": ["metricd.pp", "statsd.pp", "keystone.pp"]
      },
      {
        "hash": "053ee06787539f6da07985968d6c3b0194e56008",
        "msg": "Enable languages in UI config\n\nWhich language options to offer to the UI users is determined in the\nconfiguration file. Let's show all possible languages by default,\nunless specified otherwise.\n\nChange-Id: I513303bf82dca53e2291ab66f2385a2985a1846e\nRelated-Bug: #1663279",
        "cmtr": "Julie Pichon",
        "date": "2017-02-17 13:11:08+00:00",
        "files": ["ui.pp", "enable-languages-in-ui-88a8caa6db9b4dd7.yaml", "tripleo_ui_config.js.erb"]
      },
      {
        "hash": "f59e01c097c1bd9f121bf94a7978c40ffa4e80d8",
        "msg": "Add VPP service\n\nVector Packet Processing (VPP) is a high performance packet processing\nstack that runs in user space in Linux. VPP is used as an alternative to\nkernel networking stack for accelerated network data path.\n\nImplements: blueprint fdio-integration-tripleo\n\nChange-Id: I70a68a204a8b9d533fc2fa4fc33c39c3b1c366bf\nSigned-off-by: Feng Pan <fpan@redhat.com>",
        "cmtr": "Feng Pan",
        "date": "2017-02-17 09:57:06-05:00",
        "files": ["Puppetfile_extras", "vpp.pp", "vpp-7368457faab68824.yaml"]
      },
      {
        "hash": "e1a1a5cbedad165b4942d77f48c2c55605c70adb",
        "msg": "Use rpc and notify transport_url for oslo_messaging backends\n\nThis commit adds the transport_url for specifying the oslo.messaging\nrpc and notify transport schemes. The rpc or notification backend\ncan be one of rabbit, amqp, zmq, etc. Oslo.messaging is deprecating\nthe host, port and auth configuration options. All drivers will\nget the options via the transport_url.\n\nThis patch:\n* Adds transport_url to base services\n* Updates the corresponding specs\n* Adds to default hierdata\n\nDepends-On: I1cf93d2caebfa1f7373c16754a2ad9bd15eb1a40\n\nChange-Id: Iea5607dbb3ee6b1dd50acc1395de52dc920aa915",
        "cmtr": "Andrew Smith",
        "date": "2017-02-17 10:08:38-05:00",
        "files": ["aodh.pp", "api.pp", "ceilometer.pp", "cinder.pp", "congress.pp", "heat.pp", "ironic.pp", "keystone.pp", "manila.pp", "mistral.pp", "neutron.pp", "nova.pp", "octavia.pp", "sahara.pp", "proxy.pp", "tacker.pp", "tripleo_profile_base_aodh_api_spec.rb", "tripleo_profile_base_aodh_evaluator_spec.rb", "tripleo_profile_base_aodh_listener_spec.rb", "tripleo_profile_base_aodh_notifier_spec.rb", "tripleo_profile_base_aodh_spec.rb", "tripleo_profile_base_ceilometer_api_spec.rb", "tripleo_profile_base_ceilometer_collector_spec.rb", "tripleo_profile_base_ceilometer_expirer_spec.rb", "tripleo_profile_base_ceilometer_spec.rb", "tripleo_profile_base_cinder_api_spec.rb", "tripleo_profile_base_cinder_backup_ceph_spec.rb", "tripleo_profile_base_cinder_backup_spec.rb", "tripleo_profile_base_cinder_backup_swift_spec.rb", "tripleo_profile_base_cinder_scheduler_spec.rb", "tripleo_profile_base_cinder_spec.rb", "tripleo_profile_base_cinder_volume_spec.rb", "tripleo_profile_base_nova_api_spec.rb", "tripleo_profile_base_nova_compute_ironic_spec.rb", "tripleo_profile_base_nova_compute_libvirt_spec.rb", "tripleo_profile_base_nova_compute_spec.rb", "tripleo_profile_base_nova_conductor_spec.rb", "tripleo_profile_base_nova_consoleauth_spec.rb", "tripleo_profile_base_nova_libvirt_spec.rb", "tripleo_profile_base_nova_scheduler_spec.rb", "tripleo_profile_base_nova_spec.rb", "tripleo_profile_base_nova_vncproxy_spec.rb", "tripleo_profile_base_octavia_api_spec.rb", "tripleo_profile_base_octavia_spec.rb", "default.yaml"]
      },
      {
        "hash": "f6116ff0f350aeecdaa346e4e49d208be49ce6b9",
        "msg": "Create /etc/my.cnf.d/tripleo.cnf with proper bind-address\n\nWhen fixing LP#1643487 we added ?bind_address to all DB URIs.\nSince this clashes with Cellsv2 due to the URIs becoming host\ndependent, we need a new approach to pass bind_address to pymysql\nthat leaves the DB URIs host-independent.\n\nWe first create a /etc/my.cnf.d/tripleo.cnf file with a [tripleo]\nsection and in this section we add the correct bind-address option.\nNote that we use the puppet augeas lens and not the mysql one\nbecause the mysql one does not support custom sections *and* there\nare older versions around which do not like the /etc/my.cnf.d/* path.\n\nThe reason for not reusing an existing mariadb file (my.cnf or\ngalera.cnf) is that pymysql's ini file support is not robust\nenough at the moment: https://github.com/PyMySQL/PyMySQL/issues/548\n\nThe reason for putting this file creation code only on the controller\nnodes the following: The slow VIP failover only happens if a\nservice runs where the VIPs exist. The VIPs get created in the\nhaproxy profile and that is why in order to have fast VIP failovers\nthe MySQLClient profile must live where the Haproxy service is running.\n\nCo-Authored-By: Damien Ciabrini <dciabrin@redhat.com>\n\nPartial-Bug: #1663181\nChange-Id: Iff8bd2d9ee85f7bb1445aa2e1b3cfbff1f397b18",
        "cmtr": "Michele Baldessari",
        "date": "2017-02-17 17:21:03+01:00",
        "files": ["client.pp"]
      },
      {
        "hash": "f8313f755c56b2cf614605588f8164c510b18956",
        "msg": "Replace default to be more robust\n\nSpecifying undef as the fallback only works because the merge\nfunction specifically checks for this:\nnext if arg.is_a? String and arg.empty? # empty string is synonym for puppet's undef\n\nBut the empty Hash would be a much more robust default.\n\nChange-Id: I7e302c00ef030d75998e352d88b3ccc60b194ab7",
        "cmtr": "David Gurtner",
        "date": "2017-02-20 19:03:08+01:00",
        "files": ["horizon.pp"]
      },
      {
        "hash": "5fbe3853fbd1e4f22204f452156c2e78f73a5c1c",
        "msg": "Ironic inspector support\n\nThis includes a new ironic-inspector profile, and updates\nto the mysql and keystone profiles so that a database\nand endpoints are also created when the inspector\nis enabled.\n\nChange-Id: I4a71a95efb87a10528df0600277768969a32117b",
        "cmtr": "Dan Prince",
        "date": "2017-02-20 13:53:57-05:00",
        "files": ["mysql.pp", "ironic_inspector.pp", "keystone.pp"]
      },
      {
        "hash": "d12c004bc9c630c756a6b0df351916b9e04b9778",
        "msg": "Stop accidentally removing docker-distribution\n\nBy default Puppet does virtual package matching if precise name matching\nfails. Docker-distribution RPM \"provides\" docker-registry:\n\nbash-4.2# rpm -q --whatprovides docker-registry\ndocker-distribution-2.5.1-1.el7.x86_64\n\nThis means that when we wanted to make docker-registry package absent,\nwe were actually removing docker-distribution instead. This is now fixed\nby allow_virtual => false. Only name matching is performed.\n\nChange-Id: I1f93b404085f0bc2b6c063f573c801db6409c0bb\nCloses-Bug: #1666459",
        "cmtr": "Jiri Stransky",
        "date": "2017-02-21 14:01:31+01:00",
        "files": ["docker_registry.pp"]
      },
      {
        "hash": "fb6965116d567a061a42d077d51c3ca2d220f46d",
        "msg": "Configure authtoken in Nova Placement\n\nThe Nova Placement API's configuration currently relies\non the nova-api profile for its keystone authtoken\nconfiguration. This means that Nova Placement would\nfail if it got installed on an isolated node or\ndocker container (this currently breaks TripleO's\ndeployment of placement via docker).\n\nThis patch creates a new authtoken profile and\ncalls it via the api and placement roles.\n\nChange-Id: I7b38ab6ba5cae41689ac500d97dec4d09c73d387\nCo-Authored-By: Alex Schultz <aschultz@redhat.com>",
        "cmtr": "Alex Schultz",
        "date": "2017-02-21 14:40:43-07:00",
        "files": ["Puppetfile_extras", "api.pp", "authtoken.pp", "placement.pp", "tripleo_profile_base_nova_api_spec.rb", "tripleo_profile_base_nova_authtoken_spec.rb", "tripleo_profile_base_nova_placement_spec.rb"]
      },
      {
        "hash": "d0e69f73c1839e9101fd825ae0019f38d624e49f",
        "msg": "Remove the string cast for using transport_url\n\nos_transport_url was updated to allow receiving\na string or an integer as parameter.\n\nFixes the workarounds in puppet-tripleo\n\nChange-Id: I50993514048bf96b5a42b3425a7d6f98778fe694\nDepends-On: I9e56f8e2de542b20fe9e6995506cff5bb435e220",
        "cmtr": "Carlos Camacho",
        "date": "2017-02-22 10:39:44+01:00",
        "files": ["aodh.pp", "api.pp", "ceilometer.pp", "cinder.pp", "heat.pp", "keystone.pp", "manila.pp", "mistral.pp", "neutron.pp", "nova.pp", "sahara.pp", "bugfix-1664561-50d76b25addb08dd.yaml"]
      },
      {
        "hash": "ebcc470ea8a632e6d5c13561a97e817d5f290aac",
        "msg": "Add httpchk for http services\n\nThe httpchk health check option should help reduce the situtations\nwhere haproxy thinks the service is up but the service is only\nlistening and not actively serving http requests.\n\nChange-Id: Ie72b96c76d7513f84003bc15b6527c97df7ba92f\nCloses-Bug: #1629052",
        "cmtr": "Alex Schultz",
        "date": "2017-02-22 06:12:58-07:00",
        "files": ["haproxy.pp"]
      },
      {
        "hash": "7dddf041c5b7940fa974164c157b7f70840a1e9c",
        "msg": "Add ceilometer polling agent profile\n\nCeilometer central, compute and ipmi agent classes are\ndeprecated. Instead we should be using polling agent\nwith relevant namespace.\n\nCloses-bug: #1662685\n\nChange-Id: I1ee50124bf8936e12414f984e1bcd4545d92e953",
        "cmtr": "Pradeep Kilambi",
        "date": "2017-02-25 12:19:31-05:00",
        "files": ["polling.pp", "add-ceilo-polling-agent-53fab550a09a6196.yaml", "tripleo_profile_base_ceilometer_agent_polling_spec.rb"]
      },
      {
        "hash": "9282075728fde89c4c56828b08134cf8a50878bd",
        "msg": "Remove todo comment\n\nWe can remove the sprintf todo comment (Already fixed).\n\nChange-Id: I407cbf015ccd23a28ee01a669d397479277b4fd3",
        "cmtr": "Carlos Camacho",
        "date": "2017-02-26 21:45:20+01:00",
        "files": ["nova.pp"]
      },
      {
        "hash": "52a68ffc8f060e1961458a524e5861cea02d1c1c",
        "msg": "Default neutron dhcp_agents_per_network to number of agents\n\nThis patch will set neutron's dhcp_agents_per_network equal to the\nnumber of deployed neutron DHCP agents unless otherwise explicitly set.\n\nPartial-bug: #1632721\nChange-Id: I5533e42c5ba9f72cc70d80489a07e30ee2341198",
        "cmtr": "Brent Eagles",
        "date": "2017-02-27 11:58:45-03:18",
        "files": ["neutron.pp", "calculate-dhcp-agents-per-network-3089c5e7b15f8b7b.yaml", "tripleo_profile_base_neutron_spec.rb"]
      },
      {
        "hash": "09665170f6d0f4536a48dd4d1444e07aa064bed7",
        "msg": "mariadb: Move generation of systemd drop-in to puppet-tripleo\n\nSystemd starts mariadb as user mysql, so in order to allow a large\nnumber of connections (e.g. max_connections=4096) it is necessary to\nraise the file descriptor limit via a system drop-in file.\n\nWhen installing an undercloud, such drop-in file is currently\ngenerated by instack-undercloud (in file puppet-stack-config.pp). But\nnon-HA overcloud also need such drop-in to be generated.\n\nIn order to avoid duplicating code, the drop-in creation code should\nbe provided by puppet-tripleo. By default, no drop-in is generated;\nit has to be enabled by instack-undercloud or tripleo-heat-template\nonce they will use it (resp. to create undercloud or non-HA overcloud).\n\nThis patch does not aim at generating a dynamic file limit based on\nthe number of connections, this should land in another dedicated\npatch.  Instead, it just reuses the limit currently set for undercloud\nand HA-overclouds.\n\nAlso, the generation of the drop-in does not force a mysql restart\nlike it currently does in instack-undercloud, to avoid unexpected\nservice disruption on a non-HA overcloud after a minor update.\n\nCo-Authored-By: Tim Rozet <trozet@redhat.com>\n\nDepends-On: I7ca7b5f7614971455cae2bf7c4bf8264b642b0dc\n\nChange-Id: Ia0907b2ab6062a93fb9363e39c86535a490fbaf6\nPartial-Bug: #1648181\nRelated-Bug: #1524809",
        "cmtr": "Tim Rozet",
        "date": "2017-02-27 11:40:51-05:00",
        "files": ["mysql.pp"]
      },
      {
        "hash": "3b78e1cd9717ac8bb4e36fd292477e4373caabec",
        "msg": "Revert \"Add httpchk for http services\"\n\nhttps://bugs.launchpad.net/tripleo/+bug/1668493\nI thought about a fix for ceph_rgw, but I realized\nwe might have missed other services too, specially\nthe ones we're not testing in CI.\nWe need to revisit this work and probably\nmake the code more robust for the services where\nno CI coverage is done.\n\nRelated-Bug: #1668493\nThis reverts commit ebcc470ea8a632e6d5c13561a97e817d5f290aac.\n\nChange-Id: I3f79c881d8aeda361a59f9952948355986a7c835",
        "cmtr": "Emilien Macchi",
        "date": "2017-02-28 05:06:28+00:00",
        "files": ["haproxy.pp"]
      },
      {
        "hash": "fb40fb82f4f98d563af12737a1c433ee4260a43c",
        "msg": "Configure MySQL client SSL connections via the config file\n\nThis does the actual configuration for the mysql client to use SSL if\nthe parameter is set via t-h-t.\n\nChange-Id: I24e4c195a31109835739e78a6b53d36f661f9fd0\nDepends-On: Ifd1a06e0749a05a65f6314255843f572d2209067",
        "cmtr": "Juan Antonio Osorio Robles",
        "date": "2017-02-28 06:56:59+00:00",
        "files": ["client.pp"]
      },
      {
        "hash": "0c00789351a64f9416a9ca6eb68432a445083c9d",
        "msg": "mysqlclient: Drop hiera calls in favor of getting these via t-h-t\n\nThis also updates a leftover comment.\n\nChange-Id: I870caf20103b044655e699aac09f6621414f5326\nDepends-On: I5af5ccb88e644f4dd25503d8e7a93796695d3039",
        "cmtr": "Juan Antonio Osorio Robles",
        "date": "2017-02-28 14:56:07+02:00",
        "files": ["client.pp"]
      },
      {
        "hash": "48adea3b4694b22038924aff5d668b8db401db45",
        "msg": "Add openstack-kolla to docker-registry profile\n\nKolla will be used to build container images and populate the local\ndocker registry.\n\nChange-Id: I325a5248754d269d77eaf78224c7379dd81d6053",
        "cmtr": "Martin Andr",
        "date": "2017-03-06 15:21:10+01:00",
        "files": ["docker_registry.pp"]
      },
      {
        "hash": "149f04e9cf19c8266a118be24a423b1ccd1b4064",
        "msg": "Add docker profile\n\nThis configures the docker service on the host, as an alternative\nto the firstboot script in docker/firstboot/setup_docker_host.sh\n\nDoing this via puppet will enable easier integration with e.g\nthe multinode jobs where no firstboot scripts run, and also\nenables a better error path in the event the service fails to start\n\nCo-Authored-By: Alex Schultz <aschultz@redhat.com>\nChange-Id: Id8add1e8a0ecaedb7d8a7dc9ba3747c1ac3b8eea",
        "cmtr": "Alex Schultz",
        "date": "2017-03-06 08:42:54-07:00",
        "files": ["docker.pp", "docker_profile-8571ae260eec69b8.yaml", "tripleo_profile_base_docker_spec.rb"]
      },
      {
        "hash": "37ba3a8db5e38955469e8bc9158388379d64abc8",
        "msg": "Stop the chronyd service\n\nSince the norpm provider can prevent the chronyd package from actually\ngetting purged, we need to make sure the chronyd service is stopped and\ndisabled so that it does not conflict with ntpd.\n\nChange-Id: I7a697aba7aa5a27ba4ab6e46018057f7f01dfab2\nCloses-Bug: #1665426",
        "cmtr": "Alex Schultz",
        "date": "2017-03-06 12:33:53-07:00",
        "files": ["Puppetfile_extras", "ntp.pp", "tripleo_profile_base_time_ntp_spec.rb"]
      },
      {
        "hash": "d82a7c50c25fd760786b76ef0593c75477496189",
        "msg": "Deploy Heat APIs over httpd\n\nThis deploys the Heat APIs (api, cfn and cloudwatch) over httpd, and\nincludes the TLS-everywhere bits.\n\nbp tls-via-certmonger\n\nChange-Id: I23971b0164468e67c9b3577772af84bd947e16f1",
        "cmtr": "Carlos Camacho",
        "date": "2017-03-07 15:31:42+01:00",
        "files": ["haproxy.pp", "api.pp", "api_cfn.pp", "api_cloudwatch.pp"]
      },
      {
        "hash": "a2f3b91fa666824f78395c11bbfac04afc5129a0",
        "msg": "httpd: Clean up heat API profiles and add release note\n\nThere were some values that were passed to the classes manually, and\nthis takes the parameters from t-h-t instead. Also, the release note was\nadded.\n\nbp tls-via-certmonger\n\nChange-Id: I17c4b7041e16da6489f4b713fdeb28a6e1c5563c\nDepends-On: I88e5ea7b9bbf35ae03f84fdc3ec76ae09f11a1b6",
        "cmtr": "Juan Antonio Osorio Robles",
        "date": "2017-03-07 15:04:43+00:00",
        "files": ["api.pp", "api_cfn.pp", "api_cloudwatch.pp", "deploy-heat-APIs-over-httpd-46b111d0a4a4eed4.yaml"]
      },
      {
        "hash": "03523df5c111694de9367e2f7dbcaa24c52eae60",
        "msg": "sahara: include authtoken class\n\nauthtoken class configures the keystone_authtoken parameters, required\nto move to Keystone V3 auth.\n\nChange-Id: Ibfd761fef813faa7bf13881c52c34e20d3eac9e5",
        "cmtr": "Emilien Macchi",
        "date": "2017-03-07 20:42:42+00:00",
        "files": ["sahara.pp", "sahara_auth_v3-65bd276b39b4e284.yaml"]
      },
      {
        "hash": "3b6113bf0fe5963813f2c39a3848a7eefea778ba",
        "msg": "Enable TLS in the internal network for RabbitMQ\n\nThis optionally enables TLS for RabbitMQ  in the internal network. Note\nthat this leaves enable_internal_tls as undef instead of using the\nregular default. This is because we don't want to enable this just now,\nsince we first want to pass the necessary hieradata via t-h-t. This will\nbe cleaned in further commits.\n\nbp tls-via-certmonger\nDepends-On: I4f37e77ae12e9582fab7d326ebd4c70127c5445f\nDepends-On: Ic32b2cb253fa0dc43aad7226b24919b7e588faa9\nChange-Id: Ic2a7f877745a0a490ddc9315123bd1180b03c514",
        "cmtr": "Juan Antonio Osorio Robles",
        "date": "2017-03-09 11:08:20+00:00",
        "files": ["rabbitmq.pp", "rabbitmq.pp"]
      },
      {
        "hash": "9bc973e3f42c754ee7c6d66f68ce13b08eec787a",
        "msg": "Add tests for tripleo::certmonger::rabbitmq class\n\nChange-Id: I1668b749779bf812d8f55b695dd138cde7eb09d6",
        "cmtr": "Juan Antonio Osorio Robles",
        "date": "2017-03-09 16:19:52+00:00",
        "files": ["rabbitmq.pp", "tripleo_certmonger_rabbitmq.rb"]
      },
      {
        "hash": "d73c2630b534b277122db68620be8923c4d3a6b4",
        "msg": "panko: Do db_sync in api manifest\n\nThe db_sync from panko comes from the panko-api package; So we move the\ndb_sync to be done in the api manifest as it's done for other services\nsuch as barbican.\n\nThis is necessary since in cases where the overcloud deploy requires\npuppet to do the installations, with the previous setup it failed since\nthe command wasn't available in the step it was being done.\n\nChange-Id: I20a549cbaa2ee4b2c762dbae97f5cbf4d0b517c8\nCloses-Bug: #1671716",
        "cmtr": "Juan Antonio Osorio Robles",
        "date": "2017-03-10 12:11:34+02:00",
        "files": ["panko.pp", "api.pp"]
      },
      {
        "hash": "e51209be196597aa0fe035f1f53354649224ecb7",
        "msg": "Adding OVNDBs vip to keepalive\n\nChange-Id: I56f7e3280eda6fe3cc8dd677ad06b700ef504829",
        "cmtr": "Dan Radez",
        "date": "2017-03-10 14:12:03-05:00",
        "files": ["keepalived.pp"]
      },
      {
        "hash": "9cd4ddce32b4f14e7f6168416fcaee26a64f7a90",
        "msg": "Fix deprecated eqlx parameters\n\nThe eqlx_use_chap, eqlx_chap_login and  eqlx_chap_password were\npreviously deprecated and are scheduled to be removed in Pike. This\nchange updates these parameters to use the replacement params.\n\nSee I295d8388ba17dd60e83995e7c82f64f02a3c4258 for more details.\n\nChange-Id: I0f229ed2e7bb65d9da81c5caa69dbe1a4aded814",
        "cmtr": "Alex Schultz",
        "date": "2017-03-10 12:33:01-07:00",
        "files": ["dellps.pp"]
      },
      {
        "hash": "83e7494bd2e5e79d23e90a3575768f704f6978c0",
        "msg": "Add support for BGPVPN service plugin\n\n  Introduce profile to configure networking-bgpvpn service\n\nImplements: blueprint bgpvpn-service-integration\n\nChange-Id: I7c1686693a29cc1985f009bd7a3c268c0e211876\nSigned-off-by: Ricardo Noriega <rnoriega@redhat.com>",
        "cmtr": "Carlos Camacho",
        "date": "2017-03-11 19:08:22+01:00",
        "files": ["bgpvpn.pp", "add-bgpvpn-support-77676690fb6dd17b.yaml"]
      },
      {
        "hash": "4762db7f6b70487ad260d6fedaf873f26e19eeb9",
        "msg": "Tuned should be configured properly\n\nCurrently tuned uses the wrong profile on compute nodes. This patch will\nallow users to update their tuned profile.\n\nFixes bug 1667524\n\nChange-Id: Ic67aca7f5338ea4bb2d3843201e122c72d97056e",
        "cmtr": "Joe Talerico",
        "date": "2017-03-13 11:16:07+00:00",
        "files": ["tuned.pp", "tripleo_profile_base_tuned_spec.rb"]
      },
      {
        "hash": "bee651abcb5f604fc0c4e11e45da65412c9af023",
        "msg": "HAProxy: Refactor certificate retrieval bits\n\nThis moves the certificate request bits to simplify the profile and move\nthe logic to the HAProxy/certmonger specific manifest.\n\nThis is a small iteration on the effort to separate the certificate\nretrieval to its own manifest since this part won't be containerized\nyet.\n\nChange-Id: Ibb01cd9a59049e4728615cb4f37e5bfac5800a92",
        "cmtr": "Juan Antonio Osorio Robles",
        "date": "2017-03-13 15:15:33+02:00",
        "files": ["haproxy.pp", "haproxy.pp"]
      },
      {
        "hash": "5f8607711bb85150bb9631559f0538254ba5c5cc",
        "msg": "Correct haproxy's stat unix socket path\n\nWe currently set the haproxy stat socket to /var/run/haproxy.sock.\nOn Centos/RHEL with selinux enabled this will break:\n\navc: denied { link } for pid=284010 comm=\"haproxy\"\nname=\"haproxy.sock\" dev=\"tmpfs\" ino=330803\nscontext=system_u:system_r:haproxy_t:s0\ntcontext=system_u:object_r:var_run_t:s0 tclass=sock_file\n\nThe blessed/correctly-labeled path is /var/lib/haproxy/stats\n\nNote: I am setting only Partial-Bug because I would still like\nto make this a parameter so other distros may just override the path.\nBut that change is more apt for pike and not for ocata.\n\nChange-Id: I62aab6fb188a9103f1586edac1c2aa7949fdb08c\nPatial-Bug: #1671119",
        "cmtr": "Alex Schultz",
        "date": "2017-03-13 22:20:05+00:00",
        "files": ["haproxy.pp"]
      },
      {
        "hash": "c9acf8a687ea64686c1ecceeff45add014752121",
        "msg": "Fixes issues with raising mysql file limit\n\nChanges Include:\n - Adds spec testing\n - Only raise limits if nonha.  puppet-systemd will restart the mariadb\n   service which breaks ha deployments.  Hence we only want to do this\n   in noha.\n - Minor fix to hiera value refrenced not as parameter to mysql.pp\n\nPartial-Bug: #1648181\nRelated-Bug: #1524809\n\nCo-Authored By: Feng Pan <fpan@redhat.com>\n\nChange-Id: Id063bf4b4ac229181b01f40965811cb8ac4230d5\nSigned-off-by: Tim Rozet <trozet@redhat.com>\nSigned-off-by: Feng Pan <fpan@redhat.com>",
        "cmtr": "Alex Schultz",
        "date": "2017-03-13 23:01:20+00:00",
        "files": ["Puppetfile_extras", "mysql.pp", "tripleo_profile_base_database_mysql_spec.rb"]
      },
      {
        "hash": "f3c157318d7797a42a8ccb57e8d38be288c67fbf",
        "msg": "Create profile to request certificates for the services in the node\n\nThis profile will specifically be used to create all the certificates\nrequired in the node. These are fetched from hiera and will be ran in\nthe first step of the overcloud deployment and in the undercloud.\n\nThe reasoning for this is that, with services moving to containers, we\ncan't yet do these requests for certificates within the containers for\nthe specific services. this is because the containers won't have\ncredentials to the CA, while the baremetal node does. So instead we\nstill do this on the baremetal node, and will subsequently bind mount\nthe certificates to the containers that need them. Also, this gives us\nflexibility since this approach still works for the baremetal case.\n\nThere will be a subsequent commit removing the certificate requests from\nthe service-specific profiles.\n\nChange-Id: I4d2e62b5c1b893551f9478cf5f69173c334ac81f",
        "cmtr": "Juan Antonio Osorio Robles",
        "date": "2017-03-14 12:17:44+02:00",
        "files": ["certmonger_user.pp"]
      },
      {
        "hash": "8fa4f7c87f568748a8afd6795cf839707a5e27ff",
        "msg": "Add networking-vpp ML2 mechanism driver support\n\nImplements: blueprint fdio-integration-tripleo\n\nChange-Id: I5af0b8bbfa3ea6ace9a5cce4aa2fc1fab49ab9f2\nSigned-off-by: Feng Pan <fpan@redhat.com>",
        "cmtr": "Feng Pan",
        "date": "2017-03-15 10:25:56-04:00",
        "files": ["vpp.pp", "ml2.pp", "vpp.pp", "vpp-ml2-9c1321fa30f3b172.yaml"]
      },
      {
        "hash": "ad1324c7acd4afa937ce41b6339e3dc817d0de25",
        "msg": "Include ceph::profile::client from rgw.pp\n\nTo deploy successfully the RadosGW service on a dedicated node\nit is necessary to provision on the node a CephX keyring with the\nneeded permissions to import the RadosGW service keyring. This\nchange will provision any keyring passed via client_keys.\n\nIt makes possible to deploy the CephRgw service on any custom role\nwithout including the CephClient service.\n\nChange-Id: I5772eeb233ca241887226145a472c7a0363249cb\nCloses-Bug: #1673288",
        "cmtr": "Giulio Fidente",
        "date": "2017-03-16 00:49:50+01:00",
        "files": ["rgw.pp"]
      },
      {
        "hash": "6284719dac025be2f9fcc6b3373e342f8866495f",
        "msg": "Remove cluster_enabled setting for etcd\n\nSetting cluster_enabled to false causes ETCD_INITIAL_ADVERTISE_PEER_URLS\nto be unset, which will cause deployment failure when etcd is deployed\nin a single node mode.\n\nCloses-Bug: #1673188\n\nChange-Id: Iadff36bf7beb247d0408913c89f83fa5c8ac6874\nSigned-off-by: Feng Pan <fpan@redhat.com>",
        "cmtr": "Feng Pan",
        "date": "2017-03-16 10:25:49-04:00",
        "files": ["etcd.pp"]
      },
      {
        "hash": "ffe6ae2c24f82df620df14ee4be8bd292cb95075",
        "msg": "Explicitly configure credentials used by ironic to access other services\n\nUsing keystone_authtoken credentials for this purpose is deprecated, and also\nprevents ironic-conductor from being used as a separate role.\n\nAs a side effect, this change makes it possible to potentially enable\nironic-inspector support in the future (it's not enabled yet).\n\nChange-Id: I21180678bec911f1be36e3b174bae81af042938c\nPartial-Bug: #1661250",
        "cmtr": "Dmitry Tantsur",
        "date": "2017-03-16 20:49:36+01:00",
        "files": ["conductor.pp"]
      },
      {
        "hash": "0cec9b6f4936a056573a69257095fd56b69a816f",
        "msg": "Enables OpenDaylight Clustering in HA deployments\n\nPreviously ODL was restricted to only running on the first node in an\ntripleO HA deployment.  This patches enables clustering for ODL and\nallows multiple ODL instances (minimum 3 for HA).\n\nPartially-implements: blueprint opendaylight-ha\n\nChange-Id: Ic9a955a1c2afc040b2f9c6fb86573c04a60f9f31\nSigned-off-by: Tim Rozet <trozet@redhat.com>",
        "cmtr": "Tim Rozet",
        "date": "2017-03-16 16:13:10-04:00",
        "files": ["Puppetfile_extras", "opendaylight.pp", "opendaylight.pp", "opendaylight.pp", "add-opendaylight-ha-47a40c03917faf9c.yaml", "tripleo_profile_base_neutron_opendaylight_spec.rb"]
      },
      {
        "hash": "8db8040e8b7a2298352e2facab457224a55e1987",
        "msg": "Include oslo.messaging amqp support for rpc and notifications\n\nThis commit conditionally includes messaging amqp class for the\noslo.messaging AMQP 1.0 driver to support notifications.\n\nThis patch:\n* include keystone::messaging::amqp class for oslo_messaging_amqp opts\n\nChange-Id: I8eb23a21d2499795c3a76ae3197bda7773165a8c",
        "cmtr": "Andrew Smith",
        "date": "2017-03-21 11:15:05-04:00",
        "files": ["keystone.pp", "messaging-amqp-7efec1bcb435e7cf.yaml"]
      },
      {
        "hash": "b51734442340d051e66df57aec3c7853b98ba8d6",
        "msg": "Create bigswitch agent profile\n\nCreate a tripleo profile for the bigswitch neutron agent configuration\nto be consumed by THT.\n\nChange-Id: I7a8f7f73c9c8446e21c16a5c378bd7e0f0a4c94e\nPartial-Bug: #1674791",
        "cmtr": "Alex Schultz",
        "date": "2017-03-21 12:55:17-06:00",
        "files": ["bigswitch.pp", "neutron-bigswitch-agent-profile-1250bb1518199a67.yaml", "tripleo_profile_base_neutron_agents_bigswitch_spec.rb"]
      },
      {
        "hash": "2195cd30112ddbd410ba4a622827e765cbdb025e",
        "msg": "Move neutron profile out of step 4\n\nThis submission moves the neutron profile\n`::tripleo::profile::base::neutron`\nour of step 4.\n\nChange-Id: I4d0617b0d7801426ea6827e70f5f31f10bbcc038",
        "cmtr": "Carlos Camacho",
        "date": "2017-03-22 07:43:59+00:00",
        "files": ["bgpvpn.pp"]
      },
      {
        "hash": "08b9633c50c757419ce80657ab59b5b3c0d261cc",
        "msg": "Adding listen_options for Contrail Webui https in haproxy\n\nWithout balance source and hash-type consistent traffic to\nContrail Webui https is not correctly load-balanced\n\nChange-Id: I05a5aeea7db801c1403ef3c4dd4f94480fd8692e",
        "cmtr": "Michael Henkel",
        "date": "2017-03-22 15:10:25+01:00",
        "files": ["haproxy.pp"]
      },
      {
        "hash": "aa9af086f05e466e88ac2a85ecc9d39f5a6d1e2f",
        "msg": "Check rabbitmq user at step >= 2\n\nThe rabbitmq user check is moved to step >= 2 from step >= 1. There is\nno gaurantee that rabbitmq is running at step 1, especially if updating\na failed stack that never made it past step 1 to begin with.\n\nChange-Id: I029193da4c180deff3ab516bc8dc2da14c279317\nCloses-Bug: #1675194",
        "cmtr": "James Slagle",
        "date": "2017-03-22 18:01:39-04:00",
        "files": ["rabbitmq.pp", "rabbitmq-user-check-95da891a2e197d89.yaml"]
      },
      {
        "hash": "2102a610c14d357f99a531250e676d6366559212",
        "msg": "Ensure iscsi-initiator-utils installed\n\nWe attempt to use iscsi-iname in an exec for our nova compute profile\nbut we do not ensure that the package providing this command is\ninstalled. This change adds the package definition for\niscsi-initiator-utils to ensure it is installed before trying to use\niscsi-iname.\n\nChange-Id: I1bfdb68170931fd05a09859cf8eefb50ed20915d\nCloses-Bug: #1675462",
        "cmtr": "Alex Schultz",
        "date": "2017-03-23 09:58:34-06:00",
        "files": ["compute.pp", "tripleo_profile_base_nova_compute_spec.rb"]
      },
      {
        "hash": "d9916ce77373f0f754486da73014e815f8ae7b54",
        "msg": "Remove certificate request bits from service profiles\n\nThis is now the job of the certmonger_user profile. So these bits are\nnot needed anymore in the service profiles.\n\nChange-Id: Iaa3137d7d13d5e707f587d3905a5a32598c08800\nDepends-On: Ibf58dfd7d783090e927de6629e487f968f7e05b6",
        "cmtr": "Juan Antonio Osorio Robles",
        "date": "2017-03-26 14:10:26+00:00",
        "files": ["api.pp", "api.pp", "api.pp", "api.pp", "mysql.pp", "api.pp", "api.pp", "haproxy.pp", "api.pp", "api_cfn.pp", "api_cloudwatch.pp", "keystone.pp", "server.pp", "api.pp", "placement.pp", "api.pp", "rabbitmq.pp", "tripleo_profile_base_nova_placement_spec.rb"]
      },
      {
        "hash": "1deb6fea53d88aa6366a6418d5c4d2290366883c",
        "msg": "Add l2 gateway Neutron service plugin profile\n\nIntroduce profile to configure l2 gateway Neutron\nservice plugin.\n\nImplements: blueprint l2gw-service-integration\n\nChange-Id: I01a8afdc51b2a077be1bbc7855892f68756e1fd3\nSigned-off-by: Peng Liu <pliu@redhat.com>",
        "cmtr": "Peng Liu",
        "date": "2017-03-27 05:14:02+00:00",
        "files": ["l2gw.pp", "l2gw_plugin_support-e0b1faafe8e1135f.yaml"]
      },
      {
        "hash": "aec471a78d46d839e98026c4cb98acb412a7b424",
        "msg": "Re-run gnocchi and ceilometer upgrade in step 5\n\nWithout this gnocchi resources types are not created\nas they are skipped initially and the resources from\nceilometer wont make it to gnocchi.\n\nCloses-bug: #1674421\n\nDepends-On: I753f37e121b95813e345f200ad3f3e75ec4bd7e1\n\nChange-Id: Ib45bf1b3e526a58f675d7555fe7bb5038dadeede",
        "cmtr": "Pradeep Kilambi",
        "date": "2017-03-27 13:00:31+00:00",
        "files": ["collector.pp", "api.pp", "re-run-ceilo-upgrade-0d9ba69fe4bfe780.yaml", "tripleo_profile_base_ceilometer_collector_spec.rb"]
      },
      {
        "hash": "faa2ec4b168df611e84010e559c13eef929dfdc4",
        "msg": "Add missing include of ::ec2api::keystone::authtoken\n\nChange-Id: Id933276fab16eebd72751dca136ad805547e6291\nRelated-Bug: #1676491",
        "cmtr": "Sven Anderson",
        "date": "2017-03-27 22:37:15+02:00",
        "files": ["ec2api.pp"]
      },
      {
        "hash": "6ff73840b5a166af0b1516ee31ea0fb38fdf52b8",
        "msg": "Introduce profile to configure l2 gateway Neutron agent.\n\nImplements: blueprint l2gw-service-integration\n\nChange-Id: If1501c153b1b170b9550cb7e5a23be463fba1fe9",
        "cmtr": "Peng Liu",
        "date": "2017-03-29 12:39:45+08:00",
        "files": ["l2gw.pp", "l2gw_agent_support-2bc24b539da738a8.yaml"]
      },
      {
        "hash": "a039e4780096aa5839c6c37819904bc5a33c9266",
        "msg": "Qpid dispatch router puppet profile\n\nDepends-On: I4b56417ce8ee7502ad32da578bdc29c46e459bd5\nChange-Id: Idecbbabdd4f06a37ff0cfb34dc23732b1176a608\nAuthor: John Eckersberg <jeckersb@redhat.com>",
        "cmtr": "Michele Baldessari",
        "date": "2017-03-29 10:19:59+02:00",
        "files": ["qdr.pp"]
      },
      {
        "hash": "87850942adfe0a2ed44441913d2442d1fd86a809",
        "msg": "Adds service for managing securetty\n\nThis adds the ability to manage the securetty file.\n\nBy allowing management of securetty, operators can limit root\nconsole access and improve security through hardening.\n\nChange-Id: Ic4647fb823bd112648c5b8d102913baa8b4dac1c\nCloses-Bug: #1665042",
        "cmtr": "lhinds",
        "date": "2017-03-29 20:25:21+01:00",
        "files": ["securetty.pp", "securetty-6a10eefd601e45ca.yaml", "tripleo_profile_base_securetty_spec.rb", "securetty.erb"]
      },
      {
        "hash": "a0e410797af04537cf4656bdc7b3c1e6985bf065",
        "msg": "securetty: use validate_array for tty list\n\nChange-Id: I1e79407ec6f360a2b205cec6cf8e812a11b799ea",
        "cmtr": "Juan Antonio Osorio Robles",
        "date": "2017-03-30 12:05:57+03:00",
        "files": ["securetty.pp"]
      },
      {
        "hash": "60db285fd59eb36bca9d3a209c945e4f23412b3b",
        "msg": "Refactor enabled languages from an array to a hash\n\nChange-Id: I5173361818508849e5012a943a984af69d9d08cd\nDepends-On: I2d28d9019e8bcf9f6b8ef5698958932d44321679\nCloses-Bug: #1668978",
        "cmtr": "Honza Pokorny",
        "date": "2017-03-30 06:53:50-03:00",
        "files": ["ui.pp", "tripleo_ui_config.js.erb"]
      },
      {
        "hash": "8a29f418383f73bcd2fe90b8e854b695e423bf77",
        "msg": "Fix missing groups for fluentd user\n\nThis patch moves fluentd deployment to step 4 (the same as openstack services)\nand makes resource for user fluentd be dependent on all openstack packages,\nso that we avoid errors such as \"usermod: group 'cinder' does not exist\".\n\nChange-Id: Ibabd4688c00c6a12ea22055c95563d906716954d",
        "cmtr": "Martin Mgr",
        "date": "2017-03-30 21:51:40+02:00",
        "files": ["fluentd.pp"]
      },
      {
        "hash": "38e4976b7b80487e26c75ece20bab631597240a3",
        "msg": "Decouple ceilometer user create from API\n\nCeilometer user is needed for other ceilometer services to\nauthenticate with keystone even when API is not present.\nSo the data can be dispatched to gnocchi. Lets keep these\nseparate so user always exists even when api is not.\n\nDepends-On: Iffebd40752eafb1d30b5962da8b5624fb9df7d48\n\nCloses-bug: #1677354\n\nChange-Id: I8f4e543a7cef5e50a35a191fe20e276d518daf20",
        "cmtr": "Pradeep Kilambi",
        "date": "2017-03-30 21:13:17+00:00",
        "files": ["keystone.pp", "create-ceilo-user-for-gnocchi-b8a4d5ea2f2375a9.yaml"]
      },
      {
        "hash": "6992eaf63c4e6589aba060dec7893a482c6aa31d",
        "msg": "Add resource profile for vmware nsx_v3\n\nAdd support for VMware NSX neutron plugin.\n\nChange-Id: I9a50e608b08dce4e1409c89db1614974beb811f4",
        "cmtr": "Tong Liu",
        "date": "2017-03-31 00:00:58+00:00",
        "files": ["nsx_v3.pp"]
      },
      {
        "hash": "e8125cb3640e0fe74b8617aaf55686d5645c8f7f",
        "msg": "Add tunnel timeout for ui proxy container\n\nAdd an explicit tunnel timeout configuration option to increase the\ntunnel timeout for persistent socket connections from two minutes (2m)\nto one hour (3600s).  A configuration was already present to apply a\ntunnel timeout to the zaqar_ws endpoint, but that only applies to\nconnections made directly to the zaqar_ws endpoint directly.  Since UI\nnow uses mod_proxy to proxy WebSocket connections for Zaqar, the timeout\nis now applied for the same reasons to the ui haproxy server.\n\nChange-Id: If749dc9148ccf8f2fa12b56b6ed6740f42e65aeb\nCloses-Bug: 1672826",
        "cmtr": "Dan Trainor",
        "date": "2017-03-30 23:25:46-04:00",
        "files": ["haproxy.pp", "add-tunnel-timeout-for-haproxy-ui-0705dfd671f9f487.yaml"]
      },
      {
        "hash": "e2928717412242faa4eb15d778f1b5c0952edc08",
        "msg": "Move horizon to step 3\n\nWe configure apache in step 3 so horizon should be configured at the\nsame time or else updates will cause horizon to be unvailable during the\nupdate process.\n\nChange-Id: I4032f7c24edc0ff9ed637e213870cdd3beb9a54e\nCloses-Bug: #1678338",
        "cmtr": "Emilien Macchi",
        "date": "2017-04-02 21:13:05-04:00",
        "files": ["horizon.pp", "fix-horizon-configuration-during-updates-aecfab9a4aa8770b.yaml", "tripleo_profile_base_horizon_spec.rb", "default.yaml"]
      },
      {
        "hash": "2272bcabba8752cd1876f85b1f9b83b0c7592c94",
        "msg": "Deploy WSGI apps at the same step (3)\n\nSo we avoid useless apache restart and save time during the deployment.\n\nRelated-Bug: #1664418\nChange-Id: Ie00b717a6741e215e59d219710154f0d2ce6b39e",
        "cmtr": "Emilien Macchi",
        "date": "2017-04-03 01:22:03+00:00",
        "files": ["api.pp", "api.pp", "api_cfn.pp", "api_cloudwatch.pp", "tripleo_profile_base_aodh_api_spec.rb"]
      },
      {
        "hash": "ccbcd11276c7bc3ffc8f013d9a5b2d3944bf76cf",
        "msg": "Configure migration SSH tunnel\n\nThis patch configures SSH tunneling for nova cold-migration and reuses the\ntunnel for libvirt live-migration unless TLS has been enabled.\n\nChange-Id: I367757cbe8757d11943af7e41af620f9ce919a06\nDepends-On: Iac1763761c652bed637cb7cf85bc12347b5fe7ec",
        "cmtr": "Oliver Walsh",
        "date": "2017-04-03 09:12:55+01:00",
        "files": ["nova.pp", "cold_migration_setup-dc4ebd834920c27f.yaml", "tripleo_profile_base_nova_spec.rb"]
      },
      {
        "hash": "bc6bfc593ecd4e565a6721d92ea3fe45fd81b7df",
        "msg": "Use correct manage_firewall hieradata\n\nThe manage_firewall hieradata was moved to\ntripleo::firewall::manage_firewall but some of the references to it\nwere not updated, which makes it impossible to completely disable\nthe firewall rules.\n\nChange-Id: I5f40f3b8b07bd312cce862aa319b8a1ef331ee49\nCloses-Bug: 1679189",
        "cmtr": "Ben Nemec",
        "date": "2017-04-03 14:04:47+00:00",
        "files": ["haproxy.pp", "endpoint.pp"]
      },
      {
        "hash": "1b93ca14c4d58c360424fbf34f669014b34d3b4b",
        "msg": "Fixes missing neutron base in sriov\n\nThis causes issues in deployments that is not using ML2\nComputeNeutronCorePlugin or OVS agent on the compute nodes.\n\nCloses-Bug: 1679202\n\nChange-Id: I9cdfd115add8c0d2d3ae6802e7bde007c1677c67\nSigned-off-by: Tim Rozet <trozet@redhat.com>",
        "cmtr": "Tim Rozet",
        "date": "2017-04-03 11:06:23-04:00",
        "files": ["sriov.pp", "fix-sriov-neutron-base-3e32bd667886c474.yaml"]
      },
      {
        "hash": "3aa86a4ea3c2406f79d6283cbb158f67136b5e9a",
        "msg": "Restrict mongodb memory usage\n\nCurrently, mongodb has no limits on how much memory\nit can consume. This enforces restriction so mongodb\nservice limits through systemd.\n\nThe puppet-systemd module has support for limits. The\nMemoryLimit support is added in the follwoing pull\nrequest https://github.com/camptocamp/puppet-systemd/pull/23\n\nCloses-bug: #1656558\n\nChange-Id: Ie9391aa39532507c5de8dd668a70d5b66e17c891",
        "cmtr": "Pradeep Kilambi",
        "date": "2017-04-03 15:17:54+00:00",
        "files": ["mongodb.pp", "restrict-mongodb-memory-c19d69638b63feb4.yaml"]
      },
      {
        "hash": "b95f16a2a56343b81bafb272f9567a55c5cca4b9",
        "msg": "Include ironic::drivers::interfaces in the ironic-conductor profile\n\nThis enables configuring new-style drivers (aha hardware types).\n\nPart of blueprint ironic-driver-composition\n\nChange-Id: I72eb8b06cca14073d1d1c82462fb702630e02de3",
        "cmtr": "Dmitry Tantsur",
        "date": "2017-04-03 18:42:35+02:00",
        "files": ["conductor.pp"]
      },
      {
        "hash": "8370c74214a2b4ba8aaa1400b58717a0cbc1b0cc",
        "msg": "Composable services support for Cinder Pure Storage FlashArray\n\nAdded the heat templates for Cinder Pure Storage FlashArray\nbackend to use composable services\n\nChange-Id: I6f46f45a3af394de85672261c7d72ddc492a07b2",
        "cmtr": "Simon Dodsley",
        "date": "2017-04-03 17:41:04-04:00",
        "files": ["volume.pp", "pure.pp", "add-support-for-pure-cinder-d45e6aaf3e243c91.yaml", "tripleo_profile_base_cinder_volume_pure_spec.rb", "tripleo_profile_base_cinder_volume_spec.rb"]
      },
      {
        "hash": "52925ba9cf329a7f029ca7ed196071b29d69ac08",
        "msg": "Add TLS in the internal network for Swift Proxy\n\nThis adds the necessary bits for a TLS Proxy to be placed in front of\nswift proxy when TLS-everywhere is enabled.\n\nThis will be furtherly cleaned up once the t-h-t bits are added.\n\nbp tls-via-certmonger\n\nChange-Id: I6e7193cc5b4bb7e56cc89e0a293c91b0d391c68e",
        "cmtr": "Juan Antonio Osorio Robles",
        "date": "2017-04-04 15:23:46+03:00",
        "files": ["haproxy.pp", "proxy.pp", "tripleo_profile_base_swift_proxy_spec.rb"]
      },
      {
        "hash": "e56d9d1f14455922bf5999a69d6c5575961b6845",
        "msg": "Clean up TLS-related bits from swift-proxy\n\nbp tls-via-certmonger\nChange-Id: I8a66d3a067f934ea30b668308237cbca1d58fbb8\nDepends-On: I3cb9d53d75f982068f1025729c1793efaee87380",
        "cmtr": "Juan Antonio Osorio Robles",
        "date": "2017-04-04 15:23:49+03:00",
        "files": ["proxy.pp", "tripleo_profile_base_swift_proxy_spec.rb"]
      },
      {
        "hash": "b35bc80ac2acf18463e4c18c8360862749aa0964",
        "msg": "SSHD Service extensions\n\nThis change adds an `include` statement to bring in the extra\nfunctionality available from the existing puppet-ssh module in\nalready available in RDO.\n\nBy using puppet-ssh it provides a framework to allow the passing in of\nserver options using just hiera values under ssh::server_options.\nFor example, sshd_config banner can now be passed a server option, as\nwell as all the new parameters outlined in the launchpad issue that\nthe patch references for Closing. For this reason, the former augeas\nsetting for `Banner /etc/issue` is now managed by the main puppet-ssh\nmodule instead.\n\nThe change also allows population of MOTD text to `/etc/motd` as\nwell as `issue.net`.\n\n$bannertext is refactored in accordance with patch [1]\n\n[1] https://review.openstack.org/#/c/442406/\n\nChange-Id: Id329538fb7b623526f1d91d8a513cf3440c86a7c\nCloses-Bug: 1668543",
        "cmtr": "lhinds",
        "date": "2017-04-04 16:18:26+01:00",
        "files": ["Puppetfile_extras", "sshd.pp", "sshd-437c531301f458bb.yaml", "tripleo_profile_base_sshd_spec.rb"]
      },
      {
        "hash": "dc52f322eaa1bf3048408e5719f77e456a357ef6",
        "msg": "Add httpchk for http services\n\nThe httpchk health check option should help reduce the situtations\nwhere haproxy thinks the service is up but the service is only\nlistening and not actively serving http requests.\n\nChange-Id: I13cc5dcf2eea53731e756d078586ab9a97340912\nCloses-Bug: #1629052",
        "cmtr": "Alex Schultz",
        "date": "2017-04-04 15:41:14+00:00",
        "files": ["haproxy.pp"]
      },
      {
        "hash": "e5fe7a5ac180257cdf70dcba2d820f3ca0f749d3",
        "msg": "Move etcd to step 2\n\nEtcd should be configured and started in step 2 with other core\nservices when required.\n\nChange-Id: If95a74d211a194f2bfbe9653a6e19e05b095a210\nSigned-off-by: Feng Pan <fpan@redhat.com>",
        "cmtr": "Feng Pan",
        "date": "2017-04-04 20:57:32-04:00",
        "files": ["etcd.pp"]
      },
      {
        "hash": "ec7f06406000e21dceacb7665f9fed4abe2f78b5",
        "msg": "Certmonger/rabbitmq: Remove parameter doc for unexisting parameter\n\nThis parameter was used at some point in the implementation but ended up\nnot being needed in favor of getting this information from the puppet\nmanifest. So it's removed as the parameter doesn't actually exist.\n\nChange-Id: I09f4091ee7a2221b26249959ea2927090d36ba0f",
        "cmtr": "Juan Antonio Osorio Robles",
        "date": "2017-04-05 09:12:37+03:00",
        "files": ["rabbitmq.pp"]
      },
      {
        "hash": "f464e9f703b824f8971ade50c32884748caffefc",
        "msg": "Make the cluster-check property configurable\n\nThis change will make the global cluster-check property configurable\nand will pick a lower default (60s) in case a pacemaker remote node\nis deployed.\n\nThe cluster-recheck-interval is set to default to 15minutes by\npacemaker. This value is too high when a pacemaker remote service\nis deployed. With this default value a reboot of a pacemaker remote\nnode will be reported as offline by pacemaker for up to 15minutes.\n\nWith this change we do the following:\n1) Do nothing in case pacemaker remote is not deployed\n2) When pacemaker remote is deployed and the operator has not\n   specified otherwise, we set the recheck interval to 60s.\n3) When the operator specifies the recheck interval we set that.\n\nChange-Id: I900952b33317b7998a1f26a65f4d70c1726df19c\nCloses-Bug: #1679753",
        "cmtr": "Michele Baldessari",
        "date": "2017-04-05 08:41:27+02:00",
        "files": ["pacemaker.pp"]
      },
      {
        "hash": "5e109f99c9650751d40439f2716e1329719340a1",
        "msg": "Adding support for Bagpipe Agent as BGPVPN driver\n\nPartially-Implements: blueprint bgpvpn-service-integration\n\nChange-Id: I54ef40f9d958e87d187a6d124995aa6951c0651a\nSigned-off-by: Ricardo Noriega <rnoriega@redhat.com>",
        "cmtr": "Ricardo Noriega",
        "date": "2017-04-05 15:33:53+02:00",
        "files": ["bagpipe.pp", "add-bagpipe-driver-9163f5b22096fde0.yaml"]
      },
      {
        "hash": "3412150d91dc7fe6e9f168b4ffdbb4d54c39fc55",
        "msg": "Migrate Swift ring handling from tripleo-heat-templates to puppet-tripleo\n\nThis allows decoupling the Swift ringbuilding logic from the Controller\nand ObjectStorage roles. A follow up patch will modify\ntripleo-heat-templates and use this modified class.\n\nActually this downloads the Swift rings even if ring building is\ndisabled or if there is no need to rebalance. This is required, because\noperators can disable ring building, but use the same mechanism to\ndistribute pre-built rings to the nodes.\n\nIf ring building is disabled, these won't be uploaded at the end back to\nthe undercloud.\n\nRelated-Bug: 1665641\nChange-Id: Ifd6fa5b398d98e8998630ea0c9a2ce9867ceba2b",
        "cmtr": "Christian Schwede",
        "date": "2017-04-05 16:09:56+02:00",
        "files": ["ringbuilder.pp", "tripleo_profile_base_swift_ringbuilder.rb"]
      },
      {
        "hash": "b8388e378a9151bccbac0db0478b1ef5d1e2e3fb",
        "msg": "Add a trigger to call ldap_backend define\n\nLdap_backend is a define so we need a resource to talk it. If\nldap_backend_enable set by tripleo-heat-templates, we call the\nldap_backend as a resource.\n\nGiven an environment such as the following:\n\nparameter_defaults:\n  KeystoneLdapDomainEnable: true\n  KeystoneLDAPBackendConfigs:\n    tripleoldap:\n      url: ldap://192.0.2.250\n      user: cn=openstack,ou=Users,dc=redhat,dc=example,dc=com\n      password: Secrete\n      suffix: dc=redhat,dc=example,dc=com\n      user_tree_dn: ou=Users,dc=redhat,dc=example,dc=com\n      user_filter: \"(memberOf=cn=OSuser,ou=Groups,dc=redhat,dc=example,dc=com)\"\n      user_objectclass: person\n      user_id_attribute: cn\n      user_allow_create: false\n      user_allow_update: false\n      user_allow_delete: false\n  ControllerExtraConfig:\n    nova::keystone::authtoken::auth_version: v3\n    cinder::keystone::authtoken::auth_version: v3\n\nIt would then create a domain called tripleoldap with an LDAP\nconfiguration as defined by the hash. The parameters from the\nhash are defined by the keystone::ldap_backend resource in\npuppet-keystone.\n\nMore backends can be added as more entries to that hash.\n\nPartial-Bug: 1677603\nCo-Authored-By: Juan Antonio Osorio Robles <jaosorior@redhat.com>\nCo-Authored-By: Guillaume Cor <gucore@redhat.com>\nSigned-off-by: Cyril Lopez <cylopez@redhat.com>\nChange-Id: I1593c6a33ed1a0ea51feda9dfb6e1690eaeac5db",
        "cmtr": "Juan Antonio Osorio Robles",
        "date": "2017-04-05 17:41:01+03:00",
        "files": ["keystone.pp", "add-ldap-backend-48e875e971343e2a.yaml"]
      },
      {
        "hash": "12de93c2f502ee822256f77c8f86399113c0e5e3",
        "msg": "Adjust UI manifest (language list)\n\ntripleo-ui is removing en-GB from the locale list, adjust the manifest\nto reflect this change.\n\nChange-Id: If3f6603d703a1af07a7eaab56e47e8b0b90947af\nRelated-Bug: #1680397",
        "cmtr": "Julie Pichon",
        "date": "2017-04-06 11:19:52+01:00",
        "files": ["ui.pp"]
      },
      {
        "hash": "a22c6c72231a91e97276bdc8fdf77ddd14659e88",
        "msg": "Don't try and create the my.cnf.d dir everytime\n\nThe creation of /etc/my.cnf.d is not idempotent and is run anytime the\nmysql client profile is included. This change adds an unless parameter\nto ensure it is only run if not used.\n\nChange-Id: I4a30eaccf72f5687dc22ba93c19136e55d36dcab\nCloses-Bug: #1680570",
        "cmtr": "Alex Schultz",
        "date": "2017-04-06 13:03:59-06:00",
        "files": ["client.pp"]
      },
      {
        "hash": "23e723255cf46fd730cae185a0dc1f7194a511e0",
        "msg": "Add missing octavia auth include to keystone manifest\n\nThis patch adds the appropriate include to make sure that appropriate\nkeystone user, services, etc. are created when octavia is selected.\n\nCloses-bug: #1680588\n\nChange-Id: I0b6d657a0300538292223923d8808c23f936c193",
        "cmtr": "Brent Eagles",
        "date": "2017-04-06 17:45:03-02:18",
        "files": ["keystone.pp", "add-octavia-auth-to-keystone-d0353544c0e27b57.yaml"]
      },
      {
        "hash": "3589d945865feda586bdb516b3631ef2932aaaa1",
        "msg": "Make galera-ready exec refreshonly\n\nPreviously we were always run the galera-ready exec every step. This\nchange switches it to be refreshonly so we only wait when the service is\nsetup or restarted.\n\nChange-Id: I5ff9d49c2590751913b96777bcd72c8a15627a01\nCloses-Bug: #1680586",
        "cmtr": "Alex Schultz",
        "date": "2017-04-06 14:41:29-06:00",
        "files": ["mysql.pp"]
      },
      {
        "hash": "c0c850d598980790e57f183275bc8395ec8d495c",
        "msg": "firewall: generally accept \"jump\" param and use tripleo:firewall for log rule\n\nTentative fix for bug #1669763, trying to use the same class for every\nrule we want to add to the chain.\n\nChange-Id: I4ba451c1b258391c8f1cfb4d73e38828c437b1c1\nCloses-Bug: #1669763",
        "cmtr": "Alex Schultz",
        "date": "2017-04-06 15:55:04-06:00",
        "files": ["post.pp", "rule.pp"]
      },
      {
        "hash": "13ea87e658e36d1afcc3e4db7f43bcfc068e1f49",
        "msg": "Enable creation of keystone domain when ldap backends are created\n\nThis sets the flag create_domain_entry for the ldap_backend resource,\nwhich will create the domain for the ldap backend (this was previously\nnot the case since only the configuration was created). Furtherly, this\nflag will also refresh the keystone server, so the changes come into\neffect.\n\nNote that this is only done in step 3, so the domains are created there\nand the refresh happens in that step. Also, this is only done for the\nbootstrap node, since when the other nodes start, they will already have\nthe domains available in the keystone database and there won't be a need\nto restart.\n\nRelated-Bug: #1677603\nDepends-On: Ib6c633b6a975e4b760c10a2aef3c252885b05e28\nChange-Id: Id879cf5c5ae39d37bf58b73c78733001d2b03d9c",
        "cmtr": "Juan Antonio Osorio Robles",
        "date": "2017-04-07 10:12:54+03:00",
        "files": ["keystone.pp"]
      },
      {
        "hash": "8b40d4670d14142aab329a7f1af7ee476a71bab5",
        "msg": "TLS-everywhere: Add resources for libvirt's cert for live migration\n\nThis merely requests the certificates that will be used for libvirt's\nlive migration if TLS-everywhere is enabled.\n\nbp tls-via-certmonger\n\nChange-Id: If18206d89460f6660a81aabc4ff8b97f1f99bba7",
        "cmtr": "Juan Antonio Osorio Robles",
        "date": "2017-04-07 11:31:40+03:00",
        "files": ["libvirt.pp", "libvirt.pp", "libvirt_dirs.pp", "certmonger_user.pp"]
      },
      {
        "hash": "ac5445fb7f5499fd5b3d317c56f606c7286132a9",
        "msg": "Stop including ironic::drivers::ssh in the ironic-conductor profile\n\nThe SSH drivers are deprecated, pxe_ipmitool + virtualbmc should be used instead.\nThis is a follow-up to blueprint switch-to-virtualbmc.\n\nChange-Id: I4fd567dffa3992042eebcf495334b8130e1bdc9f",
        "cmtr": "Dmitry Tantsur",
        "date": "2017-04-07 11:16:47+02:00",
        "files": ["conductor.pp", "ironic-ssh-removal-e5f40b477cf7357c.yaml"]
      },
      {
        "hash": "33e0fe959d849acdab4b084ffd31d242c58ff6b6",
        "msg": "syntax error extra comma in rabbitmq.pp\n\nbundle rake syntax\n\nCould not parse for environment *root*: Syntax error at ')'; expected '}'\n\nChange-Id: Idfb254df068b3d7342a6ea3c71dabd1316a61bdf",
        "cmtr": "Jon Schlueter",
        "date": "2017-04-07 07:32:39-04:00",
        "files": ["rabbitmq.pp"]
      },
      {
        "hash": "2ec381a47504208bc2192e3fbb570c638886c5bc",
        "msg": "Use docker profile in docker_registry\n\nThe docker_registry profile has resources to configure\nthe docker service and package. These conflict with the\nentries in the tripleo::profile::base::docker class which\nexists specifically to manage these resources (and has\nunit tests).\n\nThis patch removes the duplicate resources and updates\nthe docker_registry profile to simply include the\nbase docker profile instead.\n\nThis instack-undercloud change below needs to land first.\nDepends-On: I6154f4c7435b02b92f6f64687e9ee89d6b86186a\n\nChange-Id: I75c740e7efc6662861c28caeb7fa965ba55438cb",
        "cmtr": "Dan Prince",
        "date": "2017-04-07 16:27:03-04:00",
        "files": ["docker_registry.pp"]
      },
      {
        "hash": "936aece1de21a5c333b93d711444200c00e2419f",
        "msg": "Add registry_mirror to base::docker profile\n\nThis patch adds a new registry_mirror option to help\nconfigure /etc/docker/daemon.json so that we can make use\nof HTTP docker mirrors within upstream TripleO CI (infra).\n\nChange-Id: I4b966e9b9b174ca5a6f57974185e0149ea12f232",
        "cmtr": "Dan Prince",
        "date": "2017-04-08 08:48:01-04:00",
        "files": ["docker.pp", "tripleo_profile_base_docker_spec.rb"]
      },
      {
        "hash": "39568b17ad87b7e85a8734d1413e4c8eba90b102",
        "msg": "etcd: Make HAProxy terminate TLS connections\n\nWhen TLS is enabled for the internal network, HAProxy needs to handle\netcd's TLS termination. Else it will use plain text.\n\nbp secure-etcd\n\nChange-Id: I20651240edcff0953741d4e8e01fa9a7ab185863",
        "cmtr": "Feng Pan",
        "date": "2017-04-10 15:08:18-04:00",
        "files": ["haproxy.pp"]
      },
      {
        "hash": "b140cf180bdb954c4e07008712d7f26b59c97422",
        "msg": "Update UI language list\n\nChange-Id: I848b3cc747f1be06aeda57ba15d4ec557c23ad46\nDepends-On: Idf3d82058d87d9c8a3b6d8973d5166043dad2252",
        "cmtr": "Julie Pichon",
        "date": "2017-04-11 12:07:35+01:00",
        "files": ["ui.pp"]
      },
      {
        "hash": "bbe603a2608c43d9b68f998204e75b55621a9e8f",
        "msg": "Ensure directory exists for certificates for httpd\n\nWe used to rely on a standard directory for the certificates and keys\nthat are requested by certmonger. However, given the approach we plan to\ntake for containers that's described in the blueprint, we need to use\nservice-specific directories for the certs/keys, since we plan to\nbind-mount these into the containers, and we don't want to bind mount\nany keys/certs from other services.\n\nThus, we start by creating this directories if they don't exist in the\nfilesystem and adding the proper selinux labels.\n\nbp tls-via-certmonger-containers\n\nChange-Id: I0b71902358b754fa8bd7fdbb213479503c87aa46",
        "cmtr": "Juan Antonio Osorio Robles",
        "date": "2017-04-11 11:45:43+00:00",
        "files": ["apache_dirs.pp", "httpd.pp", "certmonger_user.pp"]
      },
      {
        "hash": "2a329d545d0e619c88c323148d5fe2098e70b4b1",
        "msg": "Stop SSHD profile clobbering SSH client config\n\nIncluding the ::ssh manifest will manage both client and server config.\nManaging the client config was not intended and will clobber the OS\ndefault config with the puppet ssh moduled defaults.\n\nFollow up for https://review.openstack.org/443113 where I found the issue after\nthe changes merged.\n\nChange-Id: I6329f5ebbe8fc3950449e325e56293872d11e1b5\nRelated-Bug: 1668543",
        "cmtr": "Oliver Walsh",
        "date": "2017-04-11 21:54:44+01:00",
        "files": ["sshd.pp", "tripleo_profile_base_sshd_spec.rb"]
      },
      {
        "hash": "60d187ee0bc87c33e4b6e4d79983089157ce7565",
        "msg": "Enable internal network TLS for etcd\n\nbp secure-etcd\n\nChange-Id: I0759deef7cbcf13b9056350e92f01afd33e9c649\nSigned-off-by: Feng Pan <fpan@redhat.com>",
        "cmtr": "Juan Antonio Osorio Robles",
        "date": "2017-04-12 08:28:02+00:00",
        "files": ["etcd.pp", "haproxy.pp", "certmonger_user.pp", "etcd.pp", "etcd-tls-bb8605c91ff8a94c.yaml", "tripleo_certmonger_etcd.rb"]
      },
      {
        "hash": "2e305930366010412021cf3e2411d66ba97ba1e0",
        "msg": "Add ML2 configuration for Bagpipe BGPVPN extension\n\nChange-Id: I9e1a56782e258fb6982b70d9a07f35808f2b2de5\nDepends-On: Ic975ec1d6b2bf6e6bd28b47ba9dd2a3ae629d149\nSigned-off-by: Ricardo Noriega <rnoriega@redhat.com>",
        "cmtr": "Ricardo Noriega",
        "date": "2017-04-12 12:26:19+02:00",
        "files": ["bagpipe.pp", "add-bagpipe-driver-9163f5b22096fde0.yaml"]
      },
      {
        "hash": "890178bd6f6f465ffcb8cf4ad9b8019a1d6dc653",
        "msg": "Move ceilometer wsgi to step 3\n\nApache is configured in step 3 so if we configure ceilometer in step 4,\nthe configuration is removed on updates. We need to configure it in step\n3 with the other apache services to ensure we don't have issues on\nupdates.\n\nChange-Id: Icc9d03cd8904c93cb6e17f662f141c6e4c0bf423\nRelated-Bug: #1664418",
        "cmtr": "Alex Schultz",
        "date": "2017-04-12 10:03:22-06:00",
        "files": ["api.pp", "tripleo_profile_base_ceilometer_api_spec.rb"]
      },
      {
        "hash": "9de4c92571fdbe342a20a68e4ee44feb55464007",
        "msg": "Move gnocchi wsgi configuration to step 3\n\nWe configure apache in step3 so we need to configure the gnocchi api in\nstep 3 as well to prevent unnecessary service restarts during updates.\n\nChange-Id: I30010c9cf0b0c23fde5d00b67472979d519a15be\nRelated-Bug: #1664418",
        "cmtr": "Alex Schultz",
        "date": "2017-04-12 10:34:07-06:00",
        "files": ["api.pp", "tripleo_profile_base_gnocchi_api_spec.rb", "default.yaml"]
      },
      {
        "hash": "5c8d5fd8ecd5c1a24df256950ad8c8524f6b6e01",
        "msg": "Make install of kolla optional on the undercloud\n\nThis defaults to 'True' to keep backward compatibility and can be\ndisabled by setting 'enable_container_images_built' to false in\nundercloud.conf.\n\nDepends-On: Ia3379cf66b1d6b180def69c2a5b22b2602baacef\nChange-Id: I33e7e9a6a3865fed38f7ed6490455457da67782b",
        "cmtr": "Martin Andr",
        "date": "2017-04-12 20:51:08+02:00",
        "files": ["docker_registry.pp"]
      },
      {
        "hash": "49ea8b5ed3ce79857e7875413f908f8cdcce1a8e",
        "msg": "Dell SC: Add exclude_domain_ip option\n\nThis option allows users to exclude some fault domains.\nOtherwise all domains are returned.\n\nChange-Id: I6eb2bcc7db003a5eebd3924e3e4eb44e35f60483\nDepends-On: I8ac91e6720e52da9cf7480f80bcfb456bf0c2433",
        "cmtr": "rajinir",
        "date": "2017-04-12 14:07:13-05:00",
        "files": ["dellsc.pp"]
      },
      {
        "hash": "bf6b92920208a59b89b77f44073d408c84c20da7",
        "msg": "Allow setting of keepalived router ID\n\nBy default the undercloud and the overcloud share virtual_router_id\ndefinition, leading to errors like \"ip address associated with VRID not\npresent in received packet\". This allows setting the range for the IDs.\n\nChange-Id: I0c822777824b469b0f8ef0f31b3708fe47d5b2d7",
        "cmtr": "Thomas Herve",
        "date": "2017-04-13 15:27:46+02:00",
        "files": ["keepalived.pp"]
      },
      {
        "hash": "da1cae2f84914f7250aeeebd9a5c566053278735",
        "msg": "Support for external swift proxy\n\nUsers may have an external swift proxy already available (i.e. radosgw\nfrom already existing ceph, or hardware appliance implementing swift\nproxy). With this change user may specify an environment file that\nregisters the specified urls as endpoint for the object-store service.\nThe internal swift proxy is left as unconfigured.\n\nChange-Id: Ia568c3a5723d8bd8c2c37dbba094fc8a83b9d67e",
        "cmtr": "Luca Lorenzetto",
        "date": "2017-04-14 10:45:57+02:00",
        "files": ["keystone.pp"]
      },
      {
        "hash": "6cb95e6a69677755a070cc73062b70c84452824e",
        "msg": "HAproxy/heat_api: increase timeout to 10m\n\nDefault timeout is 2min but it doesn't reflect the rpc_response_timeout\nvalue that we set in THT and instack-undercloud, which is 600 (10 min).\n\nIn some cases (in low-memory environments), Heat needs more than 2\nminutes to reply to the client, when deploying the overcloud.\nIt makes sense to increase the timeout to the value of rpc_timeout to\ngive a chance to Heat to reply to the client, otherwise HAproxy will\nkill the connection and send 504 to the client.\n\nDepends-On: I9669d40d86d762101734704fcef153e360767690\nChange-Id: I32c71fe7930c8798d306046d6933e4b20c22740c\nRelated-Bug: 1666072",
        "cmtr": "Emilien Macchi",
        "date": "2017-04-17 21:07:36+00:00",
        "files": ["haproxy.pp", "heat_api_timeout-cbb01242534cec79.yaml"]
      },
      {
        "hash": "c372d01a9427d65ae44063adf68c78748770eac4",
        "msg": "Haproxy: When using TLS everywhere, use verifyhost for the balancermembers\n\nThis checks that the subjectAltName in the backend server's certificate\nmatches the server's name that was intended to be used.\n\nChange-Id: If1c61e1becf9cc84c9b18835aef1eaaa8c0d4341",
        "cmtr": "Juan Antonio Osorio Robles",
        "date": "2017-04-18 14:51:03+03:00",
        "files": ["haproxy.pp"]
      },
      {
        "hash": "6990da87c36158677d2c1f78405f45c86e915767",
        "msg": "Enable setting SubjectaltNames for haproxy and httpd certs\n\nThis enables setting the subjectAltNames for HAProxy and httpd certs.\nThese will eventually replace the usage of many certs, to have instead\njust one that has several subjectAltNames.\n\nChange-Id: Icd152c8e0389b6a104381ba6ab4e0944e9828ba3",
        "cmtr": "Juan Antonio Osorio Robles",
        "date": "2017-04-18 15:48:02+03:00",
        "files": ["haproxy.pp", "httpd.pp"]
      },
      {
        "hash": "9e729c0db22865d036860346eb6b81c4c2108719",
        "msg": "Ensure we configure ssl.conf\n\nEvery time we call apache module regardless of using SSL we have to\nconfigure mod_ssl from puppet-apache or we'll hit issue during package\nupdate. File /etc/httpd/conf.d/ssl.conf from mod_ssl package contains\nListen 443 while apache::mod::ssl just configures SSL bits but does not\nadd Listen. If the apache::mod::ssl is not included the ssl.conf file is\nremoved and recreated during mod_ssl package update. This causes\nconflict on port 443.\n\nChange-Id: Ic5a0719f67d3795a9edca25284d1cf6f088073e8\nRelated-Bug: 1682448\nResolves: rhbz#1441977",
        "cmtr": "Lukas Bezdicka",
        "date": "2017-04-18 17:07:46+02:00",
        "files": ["api.pp", "api.pp", "api.pp", "api.pp", "api.pp", "api.pp", "api_cfn.pp", "api_cloudwatch.pp", "keystone.pp", "api.pp", "placement.pp", "api.pp", "zaqar.pp", "ensure-ssl-conf-2f32c6ead6f3bb0e.yaml"]
      },
      {
        "hash": "f8ed8b69ddd56b43675a7ecdfb8e61c207ad44b1",
        "msg": "Add linuxbridge agent profile\n\nAdd a tripleo profile for neutron linuxbridge agent configuration.\n\nChange-Id: Ie3ac03052f341c26735b423701e1decf7233d935\nPartial-Bug: #1652211",
        "cmtr": "Bartosz Stopa",
        "date": "2017-04-19 09:18:27+02:00",
        "files": ["linuxbridge.pp"]
      },
      {
        "hash": "84d3a82476ffe2853a734be1d9403f2ab41dbf35",
        "msg": "Allow to configure haproxy daemon's status\n\nCurrently we hard-code the fact that haproxy starts as a daemon.\nWhen running haproxy in a container we need this to be configurable\nbecause the haproxy process will be pid number 1.\n\nWe are not changing the current semantics which have the 'daemon'\noption always set, but we are allowing its disabling.\n\nChange-Id: I51c482b70731f15fee4025bbce14e46a49a49938",
        "cmtr": "Michele Baldessari",
        "date": "2017-04-19 12:58:35+02:00",
        "files": ["haproxy.pp"]
      },
      {
        "hash": "f30b791103ec3c5ff9b2e656fe751ad4bb3c6a6c",
        "msg": "Dell SC: Add secondary DSM support\n\nAdds support for a secondary DSM in case the primary becomes\nunavailable.\n\nChange-Id: Ibf8c333f62556d421d67c853f1f0740d7f9985bf\nDepends-On: I331466e4f254b2b8ff7891b796e78cd30c2c87f7",
        "cmtr": "rajinir",
        "date": "2017-04-19 16:11:23-05:00",
        "files": ["dellsc.pp"]
      },
      {
        "hash": "be27b5cb0429e0370ddb4a83a8b710bc81ec1fd2",
        "msg": "Ensure /etc/docker/daemon.json\n\nA recent Centos docker packaging change removed the default\n/etc/docker/daemon.json file. As such we need to create an empty\njson file if none exists before running Augeas to configure\nthe settings.\n\nChange-Id: Ibfe04b468639002f55da7bb65d2606f730c700b7\nCloses-bug: #1684297",
        "cmtr": "Dan Prince",
        "date": "2017-04-19 17:20:27-05:00",
        "files": ["docker.pp"]
      },
      {
        "hash": "4450afd495794a8ac0fc5b8c51d696416e5deb9d",
        "msg": "Cover gnocchi api step 4 and 5\n\nUpdate the gnocchi api to expose the redis information as a class\nparameter so it can be tested correctly.\n\nChange-Id: I075b4af5e7bb35f90f7b82f8fb1b6d6ad6363b71",
        "cmtr": "Alex Schultz",
        "date": "2017-04-19 16:27:43-06:00",
        "files": ["api.pp", "tripleo_profile_base_gnocchi_api_spec.rb", "default.yaml"]
      },
      {
        "hash": "3c49f51c8f42472d0d1cb2986b46a6c96821293a",
        "msg": "Refactor SSHD config to allow both SSHD options and banner/motd to be set\n\nIn https://review.openstack.org/#/c/444622/7 the sshd_options and banner/motd\nare mutually exclusive. This patch, and the next patchset of that review,\nresolves the conflict.\n\nRelated-Bug: 1668543\n\nChange-Id: I1d09530d69e42c0c36311789166554a889e46556",
        "cmtr": "Oliver Walsh",
        "date": "2017-04-19 22:30:36+00:00",
        "files": ["sshd.pp", "tripleo_profile_base_sshd_spec.rb"]
      },
      {
        "hash": "2ce8aa08e5337f2643d5e8bc3a1d8ccdc3662652",
        "msg": "Include zaqar apache module\n\nThis includes the Zaqar apache module, allowing to run Zaqar behind\nhttpd.\n\nDepends-On: I69b923dd76a60e9ec786cae886c137ba572ec906\nChange-Id: Ib52144e5877d9293057713d6bdca557724baad5c",
        "cmtr": "Thomas Herve",
        "date": "2017-04-20 12:19:59+02:00",
        "files": ["zaqar.pp", "zaqar-httpd-93db7feb60622687.yaml"]
      },
      {
        "hash": "2e89f8ede8369d0a7445599d18ac562ca91e9ad0",
        "msg": "Move ceilometer upgrade re-run out of collector\n\nSince collector is deprecated, lets move this out of collector.pp\nso it gets run and resource types are created appropriately even\nwhen collector is not included.\n\nCloses-bug: #1676961\n\nChange-Id: I32445a891c34f519ab16dcecc81993f8909f6481",
        "cmtr": "Pradeep Kilambi",
        "date": "2017-04-21 14:50:46+00:00",
        "files": ["ceilometer.pp", "collector.pp", "move-ceilo-upgrade-out-3318df875de5cd00.yaml", "tripleo_profile_base_ceilometer_collector_spec.rb", "tripleo_profile_base_ceilometer_spec.rb"]
      },
      {
        "hash": "a640e13f1b4921092f8be9cda6495d4fe7453cdb",
        "msg": "Add support for Redfish hardware in Ironic\n\nPart of blueprint redfish-support\n\nDepends-On: Icd065cec7114fc026b658ede0d78be2e777c15aa\nChange-Id: Ib14f87800ae7657cf6176a4820248a2ce048241d",
        "cmtr": "Dmitry Tantsur",
        "date": "2017-04-24 14:49:43+02:00",
        "files": ["conductor.pp", "redfish-9203af1f7bf02bc5.yaml"]
      },
      {
        "hash": "c504d6a8591bcf12e31d97a62222d7611941b136",
        "msg": "Add a flag to rabbitmq so that we can deploy with ha-mode: all again\n\nIn change Ib62001c03e1e08f58cf0c6e0ba07a8879a584084 we switched the\nrabbitmq queues HA mode from ha-all to ha-exactly. While this gives us a\nnice performance boost with rabbitmq, it makes rabbit less resilient to\nnetwork glitches as we painfully found out via\nhttps://bugzilla.redhat.com/show_bug.cgi?id=1441635.\n\nWill propose another THT change to actually change the default to\n-1 so we get this ha-mode:all by default.\n\nChange-Id: I9a90e71094b8d8d58b5be0a45a2979701b0ac21c\nPartial-Bug: #1686337\nCo-Authored-By: Damien Ciabrini <dciabrin@redhat.com>\nCo-Authored-By: John Eckersberg <jeckersb@redhat.com>",
        "cmtr": "Michele Baldessari",
        "date": "2017-04-26 10:24:54+02:00",
        "files": ["rabbitmq.pp"]
      },
      {
        "hash": "19d177c182f35a16bf3ddccfcf7fad6bb54c7bb2",
        "msg": "Add support for autofencing to Pacemaker Remote.\n\nWe now configure stonith devices for Pacemaker Remote nodes.\n\nChange-Id: I87c60bd56feac6dedc00a3c458b805aa9b71d9ce\nDepends-On: Ifb4d19a6b9920b0e340555d6441878c7234eb197\nPartial-Bug: #1686115",
        "cmtr": "Chris Jones",
        "date": "2017-04-26 10:21:09+01:00",
        "files": ["pacemaker_remote.pp"]
      },
      {
        "hash": "b2aad9c14c4b95ce6df2262a2151586993322d4a",
        "msg": "Include base apache module in tls_proxy resource\n\nOther services include it by using the vhost resource from openstacklib.\nIf we include a service (such as swift-proxy) that uses the tls_proxy\nresource, and we do so in a separate node or in its own container, it\nwill fail since the base apache module hadn't been included.\n\nChange-Id: I0167e08b0b652618d8a1af792376bcf02c8fcd82",
        "cmtr": "Juan Antonio Osorio Robles",
        "date": "2017-04-27 09:56:13+03:00",
        "files": ["tls_proxy.pp"]
      },
      {
        "hash": "7568ac4a6307afeaee0a1ac67673904465b5949a",
        "msg": "Fix wrong notify in swift proxy profile\n\nthe TLS proxy was notifying neutron::server instead of swift proxy.\n\nChange-Id: I212978c107a75209d5b7c266e608eb9a9e9cdc76",
        "cmtr": "Juan Antonio Osorio Robles",
        "date": "2017-04-27 10:23:36+03:00",
        "files": ["proxy.pp"]
      },
      {
        "hash": "2ac0a83b94af27ed19492f887eab2dd4a49ec25b",
        "msg": "snmp: remove useless parameter for binding\n\nBinding is now done in THT via Hiera directly, so users can change the\noption more easily.\n\nDepends-On: Iccf0a8d35cc05d34272c078c97a5dddfb8e7d614\nChange-Id: I9d5fd152bb73ea54c4d0d3bab862f11eaa4ebd79\nCloses-Bug: #1687628",
        "cmtr": "Emilien Macchi",
        "date": "2017-05-02 12:19:08-04:00",
        "files": ["snmp.pp"]
      },
      {
        "hash": "6227484b60cd72cf4647051923a3baf175100a72",
        "msg": "IPv6 VIP addresses need to be /128\n\nWe currently hardcode /64 as our VIP addresses when using IPv6.\nThe problem with this is that some server code might bind to that\nIP as a source address when doing inter-cluster communication\n(rabbitmq/galera for example). So when the VIP moves there will\nbe effectively a network outage between the nodes, which should not\nhappen.\n\nLikely this was hardcoded to /64 because the RA IPaddr2 needs a nic\nparameter when /128 is specified. This is due to:\nhttps://bugzilla.redhat.com/show_bug.cgi?id=1445628\n\nWe also make sure we use the ipv6_addrlabel option set to 99 so that\nthey will never be used as source ip addresses.\n\nDepends-On: I7fcf15a00aedbdcfb21db501ad46c69fb97ec30c\nPartial-Bug: #1686357\n\nChange-Id: Ibefde870512ad1e03ff12f7aea91b3734f03f96f\nCo-Authored-By: Sofer Athlan-Guyot <sathlang@redhat.com>\nCo-Authored-By: Marios Andreou <mandreou@redhat.com>\nCo-Authored-By: Damien Ciabrini <dciabrin@redhat.com>",
        "cmtr": "Michele Baldessari",
        "date": "2017-05-03 12:32:09+02:00",
        "files": ["haproxy_with_vip.pp"]
      },
      {
        "hash": "3b3d43e00ae4f0a44a35aee6a1fc451c1c6e1b33",
        "msg": "MySQL client: Make CA file configurable\n\nIt used to be hardcoded to use the OpenSSL default CA Bundle, however,\nthis will be changed in t-h-t.\n\nChange-Id: I75bdaf71d88d169e64687a180cb13c1f63418a0f",
        "cmtr": "Juan Antonio Osorio Robles",
        "date": "2017-05-03 11:53:21+00:00",
        "files": ["client.pp"]
      },
      {
        "hash": "f8ca94a5b7c7658631f5b0a9b010251ebbcff65e",
        "msg": "Restrict nova migration ssh tunnel\n\nThis change enhances the security of the migration ssh tunnel:\n- The ssh authorized_keys file is only writeable by root.\n- Creates a new user for migration instead of using root/nova.\n- Disables SSH forwarding for this user.\n- Optionally restricts the networks that this user can connect from.\n- Uses an ssh wrapper command to whitelist the commands that this user can run\n  over ssh.\n\nRequires the openstack-nova-migration package from\nhttps://review.rdoproject.org/r/6327\n\nbp tripleo-cold-migration\n\nChange-Id: Idb56acd1e1ecb5a5fd4d942969be428cc9cbe293",
        "cmtr": "Emilien Macchi",
        "date": "2017-05-03 20:20:01+00:00",
        "files": ["nova.pp", "cold_migration_security-1543136408c76459.yaml", "tripleo_profile_base_nova_spec.rb", "default.yaml"]
      },
      {
        "hash": "5a350024957d197295a16f6f25e8a253c7c1545a",
        "msg": "Add support for Cinder \"NAS secure\" driver params\n\nAdd ability to set Cinder's nas_secure_file_operations and\nnas_secure_file_permissions driver parameters. Two sets of identically\nnamed parameters are implemented by Cinder's NFS and NetApp back end\ndrivers.\n\nThe ability to control these parameters is crucial for supporting deployments\nthat require non-default values.\n\nPartial-Bug: #1688332\nDepends-On: Id92cfd4190de8687d4731cf301f2df0bde1ba7d9\nChange-Id: I76e2ce10acf7b671be6a2785829ebb3012b79308",
        "cmtr": "Alan Bishop",
        "date": "2017-05-04 12:29:11-04:00",
        "files": ["netapp.pp", "nfs.pp"]
      },
      {
        "hash": "fe8edab1f4c761dcd6bad8eb6ccadd62627b077a",
        "msg": "Disable SSH login for nova_migration user when migration over ssh is disabled.\n\nIf migration over ssh is enabled, and then later disabled, the ssh config\nfor the nova_migration user remains intact. This change clobbers the migration\nSSH key to disable login when it is not necessary.\n\nChange-Id: Icc6d5d4f4671b3525a731d334ca6fa7c5419dac3\nCloses-Bug: #1688321",
        "cmtr": "Oliver Walsh",
        "date": "2017-05-05 12:36:05+01:00",
        "files": ["nova.pp", "tripleo_profile_base_nova_spec.rb"]
      },
      {
        "hash": "05e696c62d02ef64180d611413ae10f0418c002a",
        "msg": "Handle duplicate/invalid entries in migration SSH inbound addresses\n\nAn error (e.g a typo) in a custom tripleo-heat-templates environment\nfile could lead to an invalid match block in /etc/ssh/sshd_config.\nSSH fails-safe and refuses all logins in this case.\n\nThis change validates the migration_ssh_localaddrs parameter is an\narray of IP addresses and removes and duplicate entries.\n\nChange-Id: Ibcf144d960fe52f0eab0d5015bd30cf7c1e37e25\nCloses-Bug: #1688308",
        "cmtr": "Oliver Walsh",
        "date": "2017-05-05 12:40:59+01:00",
        "files": ["nova.pp", "tripleo_profile_base_nova_spec.rb"]
      },
      {
        "hash": "926ec0151bf0bee2854cbe1d25f278ee6362eef6",
        "msg": "Remove limits for redis in /etc/security/limits.d\n\nNow that puppet-redis supports ulimit for cluster managed redis (via\nhttps://github.com/arioch/puppet-redis/pull/192), we need to remove the\nfile snippet as otherwise we will get a duplicate resource error.\n\nWe will need to create a THT change that at the very least sets the\nredis::managed_by_cluster_manager key to true so that\n/etc/security/limits.d/redis.conf gets created.\nWe also add code to not break backwards compatibility with the old hiera\nkey.\n\nChange-Id: I4ffccfe3e3ba862d445476c14c8f2cb267fa108d\nPartial-Bug: #1688464",
        "cmtr": "Michele Baldessari",
        "date": "2017-05-05 18:14:45+02:00",
        "files": ["redis.pp", "deprecate-redis-file-limit-4a60fa0fde4667ef.yaml"]
      },
      {
        "hash": "ce1a26b06f1bd9cac72422f065afbc9292cb8e5a",
        "msg": "Add Mistral event engine\n\nMistral has an event engine for triggering cron events. Let's run it.\n\nChange-Id: I386e0b77064ca6938af36238f82bfec010aa5a17\nDepends-On: Icaef5e5732f98e9cc39ed1f024d715cee371acac",
        "cmtr": "Brad P. Crochet",
        "date": "2017-05-06 09:58:56-04:00",
        "files": ["event_engine.pp", "add-mistral-event-engine-05097cb76834f09d.yaml"]
      },
      {
        "hash": "732d87864429445a9010963bc456a67e422b2d8f",
        "msg": "Enable mistral to run under mod_wsgi\n\nMistral should run under mod_wsgi. Enable that.\n\nChange-Id: I99f83c35eaa892c10deb63e199d22a43f06f5dcc\nDepends-On: I61199f53d7e32fcb3d068ccaf548a836b5bb58e9",
        "cmtr": "Brad P. Crochet",
        "date": "2017-05-06 15:11:49-04:00",
        "files": ["api.pp", "mistral-mod-wsgi-1a1d3eb279daa7fd.yaml"]
      },
      {
        "hash": "5f0f850d78f9bf7393fe77313aedaf1d32da8b40",
        "msg": "Pass mistral::api service_name from t-h-t\n\nIn order to have the chicken-egg work, service_name had to be explicitly\npassed to ::mistral::api. This switches to using values from t-h-t.\n\nChange-Id: Ib94e51f863ba59a1a1db47d58aed3ba4e5fc9650\nDepends-On: Ie98dd5061d92dbc3c15bdd8926b0e3d62cc471f6",
        "cmtr": "Brad P. Crochet",
        "date": "2017-05-06 19:14:47-04:00",
        "files": ["api.pp"]
      },
      {
        "hash": "b6d02fd5001153b53b3061d63d2cb686b0646f18",
        "msg": "Use verify_on_create when creating pacemaker remote resources\n\nWe currently create remote resources without waiting for their creation.\nThis leads to the following potential race (spotted by Marian Mkrcmari):\n- On Step1 pacemaker bootstrap node creates the resource but the remote\n  resource is not yet created\n- Step1 completes and Step2 starts\n- On Step2 the remote node sets a property (or calls pcs cib) but the\n  remote is not yet set up so 'pcs cluster cib' will fail there with:\n\n    (err): Could not evaluate: backup_cib: Running: /usr/sbin/pcs cluster\n    cib /var/lib/pacemaker/cib/puppet-cib-backup20170506-15994-1swnk1i failed\n    with code: 1 ->\n\nNote that when verify_on_create is set to true we are not using the cib\ndump/push mechanism. That is fine because we create the remotes on\nstep1 and the dump/push mechanism is only needed starting from step2\nwhen multiple nodes set cluster properties at the same time.\n\nTested by Marian Mkrcmari successfully as well.\n\nCloses-Bug: #1689028\n\nChange-Id: I764526b3f3c06591d477cc92779d83a19802368e\nDepends-On: I1db31dcc92b8695ab0522bba91df729b37f34e0f",
        "cmtr": "Michele Baldessari",
        "date": "2017-05-07 12:38:13+02:00",
        "files": ["pacemaker.pp"]
      },
      {
        "hash": "2556c56b5b8bb84b1846683bb4a21881b35fad08",
        "msg": "vhostuser socket dir shall be created for vhostuserclient mode\n\nIn order to support vhostuser client mode, a vhostuser_socket_dir\nneeds to be created with qemu:qemu g+w permissions.\n\nCloses-Bug: #1675690\n\nCo-Authored-By: Sanjay Upadhyay <supadhya@redhat.com>\n\nChange-Id: I255f98c40869e7508ed01a03a96294284ecdc6a8\nSigned-off-by: Karthik S <ksundara@redhat.com>",
        "cmtr": "Sanjay Upadhyay",
        "date": "2017-05-13 05:20:47+05:18",
        "files": [".gitignore", "ovs.pp", "tripleo_profile_base_neutron_ovs_spec.rb", "default.yaml"]
      },
      {
        "hash": "976bb6b49918101cf7402d8d9b6582f9b035b392",
        "msg": "Composable Role for Neutron LBaaS\n\nAdd composable service interface for Neutron LBaaSv2 service.\n\nChange-Id: Ieeb21fafd340fdfbaddbe7633946fe0f05c640c9",
        "cmtr": "AndrewToth",
        "date": "2017-05-16 17:25:55+00:00",
        "files": ["lbaas.pp", "lbaas.pp", "Composable_role_for_neutron_lbaas-acdf08f1a9dfd3fe.yaml"]
      },
      {
        "hash": "ef6309e1dd51cf2ac9b744017f7fc6e24d8649f3",
        "msg": "TLS everywhere: Add resources for mongodb's TLS configuration\n\nbp tls-via-certmonger\n\nChange-Id: I85dda29bcad686372a74bd7f094bfd62777a3032",
        "cmtr": "Juan Antonio Osorio Robles",
        "date": "2017-05-17 07:44:30+00:00",
        "files": ["mongodb.pp", "certmonger_user.pp"]
      },
      {
        "hash": "6b17c04e364bc5827ded3e4357f95cb007f73590",
        "msg": "Switch to overlay2 driver for storage\n\nThis patch switches the default to the overlay2 storage driver and see\nif it helps performance.\n\nBackground:\n\nThe loopback driver is not recommended for production. Most\nother docker storage backends require extra disks (or partitions)\nwhich we don't have on the root disk. Overlay seems to make the\nmost since for TripleO upgrades where we intend to update\nin-place installations to use docker.\n\nCo-Authored-By: Martin Andr <m.andre@redhat.com>\nChange-Id: I6896a9b3e9dc3e269bf5b0dc753bf8c985482daf",
        "cmtr": "Martin Andr",
        "date": "2017-05-19 10:54:03+02:00",
        "files": ["docker.pp", "tripleo_profile_base_docker_spec.rb"]
      },
      {
        "hash": "533f3e56b2d67ddd966589abbf5416deb99f6dbb",
        "msg": "Bad example in firewall.pp\n\nIt was an error in the example to set firewall rule\n\nTested on newton.\n\nCloses-Bug: 1691990\n\nChange-Id: I091ad0305ac9d9fbb63853e46169fcaa6092456b\nSigned-off-by: Cyril Lopez <cylopez@redhat.com>",
        "cmtr": "Cyril Lopez",
        "date": "2017-05-19 12:17:35+02:00",
        "files": ["firewall.pp"]
      },
      {
        "hash": "1ff831a0a8f4874d9724faeca1a9d603644f8a49",
        "msg": "Adds OpenDaylight resources for configuring cluster with docker\n\nIn puppet-opendaylight configuring a cluster is done using an exec\ncalling an opendaylight script to configure the clustering file.  For\ncontainerizing ODL, we cannot use exec as a puppet tag, therefore we\nneed to use a defined type to tag with.  This patch adds that defined\ntype to configure a cluster and a class to call it.  These will only be\nused during containerized deploys and calls the same configuration\nscript used by puppet-odl.\n\nChange-Id: I020550ede0ef981582392cf6c48dd5cb5823a074\nSigned-off-by: Tim Rozet <trozet@redhat.com>",
        "cmtr": "Tim Rozet",
        "date": "2017-05-22 17:30:18-04:00",
        "files": ["configure_cluster.pp", "create_cluster.pp"]
      },
      {
        "hash": "88560a7dc3565e9e4a5655bf8abb70d0606c3cff",
        "msg": "Enable novajoin user on keystone profile\n\nIf novajoin is enabled, the keystone profile should create its user.\n\nbp tls-via-certmonger-containers\n\nChange-Id: Ifb43b72cbf0180cf12e6d3584c92ae01ce5294e5",
        "cmtr": "Juan Antonio Osorio Robles",
        "date": "2017-05-23 09:24:36+03:00",
        "files": ["keystone.pp"]
      },
      {
        "hash": "f88d4a433b2c18ce5bc9e1c6789e017f9fa37dad",
        "msg": "Clustercheck, monitor service for galera containers\n\nIn HA overcloud deployments, HAProxy makes use of a helper service\ncalled \"clustercheck\", to check whether galera nodes are available for\nserving traffic.\n\nThis change implements a dedicated profile for clustercheck, which was\noriginally part of the pacemaker mysql profile. The profile generates\nthe necessary configuration files for clustercheck and let heat\ntemplates manage the associated container's lifecycle.\n\nCo-Authored-By: Michele Baldessari <michele@acksyn.org>\nPartial-Bug: #1692969\nChange-Id: I1aabe34fa6a9c8c705a4405f275b66502c313cf2",
        "cmtr": "Damien",
        "date": "2017-05-23 11:59:09-04:00",
        "files": ["clustercheck.pp"]
      },
      {
        "hash": "cc8e33e0e113091601ee0e8efbc031dec95c7d19",
        "msg": "Add missing octavia mysql user creation\n\nThis patch makes sure the octavia mysql user is created when the\noctavia_api service is enabled.\n\nChange-Id: I270f3f6879737fc29370165e4a8fa8c9c19fffb3",
        "cmtr": "Martin Andr",
        "date": "2017-05-24 18:46:59+02:00",
        "files": ["mysql.pp"]
      },
      {
        "hash": "daf64974d89db6bffe1fd99b344b18d682d9f237",
        "msg": "Move ceilometer upgrade step out of base\n\nceilometer-upgrade should only run on controller nodes.\nSince its currently in base profile, it gets triggered\non compute as well. So instead split out the upgrade\ninto its own and include when we deploy notification\nand central agents instead.\n\nChange-Id: I2910e8aa5da7fded4cf94b57fb0a14fefd88adbe\nCloses-bug: #1693339",
        "cmtr": "Pradeep Kilambi",
        "date": "2017-05-24 16:44:41-04:00",
        "files": ["ceilometer.pp", "notification.pp", "polling.pp", "upgrade.pp", "tripleo_profile_base_ceilometer_spec.rb"]
      },
      {
        "hash": "8b5b0b3f15d511f258ee7813cb525c5baff4eb75",
        "msg": "Puppet module to deploy Redis bundle for HA\n\nThis module is used by tripleo-heat-templates to configure and deploy\nKolla-based Redis containers managed by pacemaker.\n\nWe use short-lived containers that call pcs via puppet to create\nthe needed pacemaker resources, properties and constraints.\n\nCo-Authored-By: Michele Baldesari <michele@acksyn.org>\nPartial-Bug: #1692924\n\nDepends-On: I44fbd7f89ab22b72e8d3fc0a0e3fe54a9418a60f\nDepends-On: Ie9b7e7d2a3cec4b121915a17c1e809e4ec950e7f\n\nChange-Id: Ia1131611d15670190b7b6654f72e6290bf7f8b9e",
        "cmtr": "Michele Baldessari",
        "date": "2017-05-25 14:34:37+02:00",
        "files": ["redis_bundle.pp"]
      },
      {
        "hash": "c21c573fd5156c32ffaece3b101d5424887c398a",
        "msg": "Puppet module to deploy HAProxy bundle for HA\n\nThis module is used by tripleo-heat-templates to configure and deploy\nKolla-based haproxy containers managed by pacemaker.\n\nWe use short-lived containers that call pcs via puppet to create\nthe needed pacemaker resources, properties and constraints.\n\nCo-Authored-By: Michele Baldesari <michele@acksyn.org>\nPartial-Bug: #1692908\n\nDepends-On: I44fbd7f89ab22b72e8d3fc0a0e3fe54a9418a60f\nDepends-On: Ie9b7e7d2a3cec4b121915a17c1e809e4ec950e7f\n\nChange-Id: Ifcf890a88ef003d3ab754cb677cbf34ba8db9312",
        "cmtr": "Michele Baldessari",
        "date": "2017-05-25 14:37:17+02:00",
        "files": ["haproxy_with_vip.pp", "haproxy_bundle.pp"]
      },
      {
        "hash": "c635586477d667e29631d2d26e018620abbb3f0c",
        "msg": "Restart docker after changing storage driver\n\nThis likely explains why CI appears to still be running the\ndevicemapper driver even though overlay2 is now the default.\n\nChange-Id: Ic2d80bae1fddbdb1c80bae297031521dd78d896a\nCloses-Bug: #1692502",
        "cmtr": "Steve Baker",
        "date": "2017-05-26 22:14:12+00:00",
        "files": ["docker.pp"]
      },
      {
        "hash": "04ff27d3bc8e6bfccaa9bec4b713d0ee434031dc",
        "msg": "Puppet module to deploy RabbitMQ bundle for HA\n\nThis module is used by tripleo-heat-templates to configure and deploy\nKolla-based RabbitMQ containers managed by pacemaker.\n\nWe use short-lived containers that call pcs via puppet to create\nthe needed pacemaker resources, properties and constraints.\n\nCo-Authored-By: Michele Baldessari <michele@acksyn.org>\nCo-Authored-By: John Eckersberg <jeckersb@redhat.com>\nPartial-Bug: #1692909\n\nChange-Id: I0722e4a4d4716f477e8304cfa1aadd3eef7c2f31\nDepends-On: I44fbd7f89ab22b72e8d3fc0a0e3fe54a9418a60f\nDepends-On: Ie9b7e7d2a3cec4b121915a17c1e809e4ec950e7f",
        "cmtr": "Damien",
        "date": "2017-05-30 07:32:47-04:00",
        "files": ["rabbitmq_bundle.pp"]
      },
      {
        "hash": "48a6a0985d3b532a7f7712704706a03be6127a42",
        "msg": "Pacemaker support for OVN DB servers\n\nThis patch enables OVN DB servers to be started in master/slave\nmode in the pacemaker cluster.\n\nA virtual IP resource is created first and then the pacemaker OVN OCF\nresource - \"ovn:ovndb-servers\" is created. The OVN OCF resource is\nconfigured to be colocated with the vip resource. The ovn-controller and\nNeutron OVN ML2 mechanism driver which depends on OVN DB servers will\nalways connect to the vip address on which the master OVN DB servers\nlisten on.\n\nThe OVN OCF resource itself takes care of (re)starting ovn-northd service\non the master node and we don't have to manage it.\n\nWhen HA is enabled for OVN DB servers, haproxy does not configure the OVN DB\nservers in its configuration.\n\nThis patch requires OVS 2.7 in the overcloud.\n\nCo-authored:by: Numan Siddique <nusiddiq@redhat.com>\nChange-Id: I9dc366002ef5919339961e5deebbf8aa815c73db\nPartial-bug: #1670564",
        "cmtr": "Numan Siddique",
        "date": "2017-06-01 11:42:53+05:18",
        "files": ["haproxy.pp", "ovn_northd.pp", "ovn-ha-c7668c26aefb8f2d.yaml"]
      },
      {
        "hash": "bb826c000ff72f21e88744e4253b3bbf9a86077b",
        "msg": "Install rsync package for galera\n\nSince galera is configured to use rsync, we ought to make sure the\npackage is installed. Particularly when using deployed-server, the\npackage is not always installed by default depending on what was used to\ninstall the servers.\n\nChange-Id: I92ee78f2dd2c0f7fd4d393b104166407d7c654e2\nCloses-Bug: #1693003",
        "cmtr": "James Slagle",
        "date": "2017-06-01 14:55:51-04:00",
        "files": ["mysql.pp", "galera-install-rsync-b2f2504f12cc0cfd.yaml"]
      },
      {
        "hash": "90704a6017f7c539e3c1fed038ed247763619380",
        "msg": "Add conditional for setting authlogin_nsswitch_use_ldap selboolean\n\nIf selinux is enabled the authlogin_nsswitch_use_ldap Boolean must\nbe enabled. This setting allows LDAP communications to the confined\nLDAP/server port. This change includes a conditional for enabling this\nBoolean only when selinux is in use.\n\nChange-Id: If985f2434d28fcd33198929bf61f2a3a82e601fe\nCloses-Bug: #1695002",
        "cmtr": "Jacob Liberman",
        "date": "2017-06-01 21:10:38+00:00",
        "files": ["keystone.pp"]
      },
      {
        "hash": "0e674bddfcc6e9acedb2edb605be560dff8c5b1a",
        "msg": "Puppet module to deploy MySQL bundle for HA\n\nThis module is used by tripleo-heat-templates to configure and deploy\nKolla-based mysql containers managed by pacemaker.\n\nWe use short-lived containers that call pcs via puppet to create\nthe needed pacemaker resources, properties and constraints.\n\nCo-Authored-By: Michele Baldesari <michele@acksyn.org>\nPartial-Bug: #1692842\n\nDepends-On: I44fbd7f89ab22b72e8d3fc0a0e3fe54a9418a60f\nDepends-On: Ie9b7e7d2a3cec4b121915a17c1e809e4ec950e7f\n\nChange-Id: I3b4d8ad2eec70080419882d5d822f78ebd3721ae",
        "cmtr": "Damien Ciabrini",
        "date": "2017-06-02 15:06:55-04:00",
        "files": ["mysql_bundle.pp"]
      },
      {
        "hash": "cc841552bd61a3ddc950a19ae198326845c8fcc9",
        "msg": "Add novajoin profile\n\nThis is needed in order to deploy novajoin in a containerized undercloud\nenvironment.\n\nChange-Id: Iea461f66b8f4e3b01a0498e566a2c3684144df80",
        "cmtr": "Juan Antonio Osorio Robles",
        "date": "2017-06-05 13:10:26+03:00",
        "files": ["novajoin.pp", "tripleo_profile_base_novajoin_spec.rb"]
      },
      {
        "hash": "4216c6bff1c9322cccc220e0c83acedc1d4d17c5",
        "msg": "Support for proxying ironic-inspector via Apache\n\nFuture work in the UI requires Apache to proxy for the\nironic-inspector service the same as it has for other\nrelated services.  This adds support for ironic-inspector\nthrough Apache's mod_proxy\n\nCloses-Bug: 1695202\nDepends-On: Id395604f1dfbc4bf4f26adbe05f484a10227fd76\nChange-Id: I9dcb0769ff90a2fc9561cb86bb822be8087ffe8e",
        "cmtr": "Dan Trainor",
        "date": "2017-06-05 10:28:14-04:00",
        "files": ["ui.pp", "add-support-for-proxying-ironic-inspector-via-apache-ea70e9fa1ad04553.yaml", "tripleo_ui_config.js.erb"]
      },
      {
        "hash": "016cef3ea729e1e3aed948ff3d07d650a5d92884",
        "msg": "Add polkit rule to allow kolla nova user access to libvirtd socket on docker host\n\nThe polkit rules are currently evaluated in the context of the docker host.\nAs a result the check fails for the kolla nova compute user, as the uids are not\nconsistent with the host uids (in fact we probably can't assume a nova user exists\non the docker host).\n\nAs a short-term workaround a 'docker_nova' user group is created on the docker host\nand the polkit rule is updated to grant this user access to the libvirtd socket.\n\nLonger term solution probably requires running polkitd in a container too.\n\nChange-Id: I91be1f1eacf8eed9017bbfef393ee2d66771e8d6\nRelated-bug: #1693844",
        "cmtr": "Oliver Walsh",
        "date": "2017-06-06 21:49:08+01:00",
        "files": ["docker.pp", "tripleo_profile_base_docker_spec.rb"]
      },
      {
        "hash": "410e05ba63cad12d99f33717d116213a38413740",
        "msg": "Fix Swift ring management in container deployments\n\nThe ring up- and downloading was never executed if run within a\ncontainerized environment. This is due to the fact that this manifest\ngets executed within step 6(5) only. There is also an ordering issue,\nwhich actually tries to create the tarballs before rebalancing.\n\nThis patch fixes the step conditions and also chains the tarball\ncreation to the rebalance.\n\nThe check to query rings on all nodes can now be disabled. This is\nrequired on containerized environments: the local ring will be modified\nand rebalanced, but rings on the existing servers are not yet modified.\nTherefore a recon-check will fail, and needs to be disabled.\n\nCloses-Bug: 1694211\nChange-Id: I51c5795b9893d797bd73e059910f17a98f04cdbe",
        "cmtr": "Christian Schwede",
        "date": "2017-06-07 15:45:04+02:00",
        "files": ["ringbuilder.pp", "swift-container-ring-mgmt-ecf65b9fbae0d297.yaml"]
      },
      {
        "hash": "4db65debf58d0508afb08ada43f2f262d3f5274f",
        "msg": "Remove unnecessary references to neutron core plugin hiera\n\nIf the tripleo::profile::base::neutron::sriov is included it\nis expected that the SR-IOV agent should be deployed and configured so\nreferences to core plugin configuration is out of place and currently\nbreaks deployment.\n\nChange-Id: Ie5d8cd7863c0d042cc6a4e1fc52602d8a03a1935",
        "cmtr": "Brent Eagles",
        "date": "2017-06-07 13:37:59-02:18",
        "files": ["sriov.pp"]
      },
      {
        "hash": "6b0084c85df7c94465e2d1e9cda42a52947feee4",
        "msg": "Fix the port for Panko API\n\nThe port used for Panko is conflicts with Trove[1]. According to the\nofficial documentation[2] this should be 8777. The 8777 port has been\noccupied by ceilometer. So set the panko api port to 8977.\n\n[1]https://github.com/openstack/trove/blob/master/etc/apache2/trove#L20\n[2]https://docs.openstack.org/developer/panko/install/manual.html#installing-the-api-server\n\nChange-Id: I5ccfc97765fc8b8bf9686b2451eda9c44c77dffc\nCloses-Bug: #1691283\nDepends-On: I53b286d1d6466b574fdb286cc45f3138f96dff59",
        "cmtr": "ZhongShengping",
        "date": "2017-06-08 08:56:51+08:00",
        "files": ["haproxy.pp"]
      },
      {
        "hash": "92697b653ebfcb9d3e0af1e470cd0276b8dca04f",
        "msg": "Puppet module to deploy cinder-backup bundle for HA\n\nThis module is used by tripleo-heat-templates to configure and deploy\nKolla-based cinder-backup containers managed by pacemaker.\n\nWe use short-lived containers that call pcs via puppet to create\nthe needed pacemaker resources, properties and constraints.\n\nCo-Authored-By: Michele Baldesari <michele@acksyn.org>\nPartial-Bug: #1668920\n\nChange-Id: If53495ff75d4832cc6be80dc0dc9bd540ab6583b",
        "cmtr": "Damien Ciabrini",
        "date": "2017-06-08 07:29:22-04:00",
        "files": ["backup_bundle.pp"]
      },
      {
        "hash": "fc5bc07b3be401694681420ba453af29b95a9fcf",
        "msg": "Puppet module to deploy cinder-volume bundle for HA\n\nThis module is used by tripleo-heat-templates to configure and deploy\nKolla-based cinder-volume containers managed by pacemaker.\n\nWe use short-lived containers that call pcs via puppet to create\nthe needed pacemaker resources, properties and constraints.\n\nCo-Authored-By: Michele Baldesari <michele@acksyn.org>\nPartial-Bug: #1668920\n\nChange-Id: I95ad4dd89b47396bea672813d87de35e64c04b2d",
        "cmtr": "Damien Ciabrini",
        "date": "2017-06-08 07:57:02-04:00",
        "files": ["volume_bundle.pp"]
      },
      {
        "hash": "2bb37b6189693d7588730eeb080f85009c3b6d6c",
        "msg": "Add resource to fetch CRL\n\nThis will fetch the CRL file from the specified file or URL. Furtherly\nit will set up a cron job to refresh the crl file once a week and notify\nthe needed services.\n\nbp tls-via-certmonger\n\nChange-Id: I38e163e8ebb80ea5f79cfb8df44a71fdcd284e04",
        "cmtr": "Juan Antonio Osorio Robles",
        "date": "2017-06-08 16:57:15+03:00",
        "files": ["crl.pp", "Add-CRL-resource-d2263462d40f01c0.yaml", "tripleo_certmonger_ca_crl_spec.rb"]
      },
      {
        "hash": "c8d2a1133e8aff13acf52da2ab29e8dccda1e6b6",
        "msg": "Use CRL for HAProxy\n\nThis sets up the CRL file to be triggered on the certmonger_user\nresource. Furtherly, HAProxy uses this CRL file in the member options,\nthus effectively enabling revocation for proxied nodes.\n\nSo, if a certificate has been revoked by the CA, HAProxy will not proxy\nrequests to it.\n\nbp tls-via-certmonger\n\nChange-Id: I4f1edc551488aa5bf6033442c4fa1fb0d3f735cd",
        "cmtr": "Juan Antonio Osorio Robles",
        "date": "2017-06-08 16:57:18+03:00",
        "files": ["haproxy.pp", "certmonger_user.pp", "HAProxy-CRL-d05b555f92ff55ed.yaml"]
      },
      {
        "hash": "6e81485315fb658e54d43ac32c3346af3bd5c862",
        "msg": "Fix Swift ring rebalance order\n\nThe current order is broken if there were changes to the account and\ncontainer devices, but not to the object devices. In these cases it can\nhappen that the rebalance happens before modifying devices.\n\nChange-Id: I15641c32266939c9a00936cc471cc59b1bb54eec",
        "cmtr": "Christian Schwede",
        "date": "2017-06-09 12:08:35+02:00",
        "files": ["ringbuilder.pp"]
      },
      {
        "hash": "194bdacf5b3733b79d48243d9141c7e4670e67d1",
        "msg": "Configure credentials for ironic to access cinder\n\nChange-Id: I097c494d3953b7d26d94aecc546ddef5225d1125\nDepends-On: I2f0eb779b711e57f1532b1227896542d0ecffc89",
        "cmtr": "Dmitry Tantsur",
        "date": "2017-06-09 17:06:20+02:00",
        "files": ["conductor.pp"]
      },
      {
        "hash": "b10adec303ebbd0159ef8cc2a0078828814b45b9",
        "msg": "Make sure the resource bundles use a location_rule\n\nIn composable HA we bind resources to nodes that have special\nnode properties. We need to do this also for bundle resources\notherwise there is a potential race where the bundle might be\nstarted on nodes where it is not supposed to during a small\nwindow of time.\n\nTested with the depends-on and correctly obtained a containerized\ncomposable HA deployment:\n\nDocker container set: rabbitmq-bundle\n[192.168.24.1:8787/tripleoupstream/centos-binary-rabbitmq:latest]\n  rabbitmq-bundle-0    (ocf::heartbeat:rabbitmq-cluster):      Started overcloud-rabbit-0\n  rabbitmq-bundle-1    (ocf::heartbeat:rabbitmq-cluster):      Started overcloud-rabbit-1\n  rabbitmq-bundle-2    (ocf::heartbeat:rabbitmq-cluster):      Started overcloud-rabbit-2\nDocker container set: galera-bundle\n[192.168.24.1:8787/tripleoupstream/centos-binary-mariadb:latest]\n  galera-bundle-0      (ocf::heartbeat:galera):        Master overcloud-galera-0\n  galera-bundle-1      (ocf::heartbeat:galera):        Master overcloud-galera-1\n  galera-bundle-2      (ocf::heartbeat:galera):        Master overcloud-galera-2\nDocker container set: redis-bundle\n[192.168.24.1:8787/tripleoupstream/centos-binary-redis:latest]\n  redis-bundle-0       (ocf::heartbeat:redis): Master overcloud-controller-0\n  redis-bundle-1       (ocf::heartbeat:redis): Slave overcloud-controller-1\n  redis-bundle-2       (ocf::heartbeat:redis): Slave overcloud-controller-2\nip-192.168.24.11       (ocf::heartbeat:IPaddr2):       Started overcloud-controller-0\nip-10.0.0.7    (ocf::heartbeat:IPaddr2):       Started overcloud-controller-1\nip-172.16.2.11 (ocf::heartbeat:IPaddr2):       Started overcloud-controller-2\nip-172.16.2.9  (ocf::heartbeat:IPaddr2):       Started overcloud-controller-0\nip-172.16.1.6  (ocf::heartbeat:IPaddr2):       Started overcloud-controller-1\nip-172.16.3.7  (ocf::heartbeat:IPaddr2):       Started overcloud-controller-2\nDocker container set: haproxy-bundle\n[192.168.24.1:8787/tripleoupstream/centos-binary-haproxy:latest]\n  haproxy-bundle-docker-0      (ocf::heartbeat:docker):        Started overcloud-controller-0\n  haproxy-bundle-docker-1      (ocf::heartbeat:docker):        Started overcloud-controller-1\n  haproxy-bundle-docker-2      (ocf::heartbeat:docker):        Started overcloud-controller-2\n\nDepends-On: I44449861cbfe56304b8829c9ca10fd648353b3ae\nChange-Id: I48fb490040497ba08cae19937159c0efdf99e3f8",
        "cmtr": "Michele Baldessari",
        "date": "2017-06-09 21:18:27+02:00",
        "files": ["mysql_bundle.pp", "redis_bundle.pp", "haproxy_bundle.pp", "rabbitmq_bundle.pp"]
      },
      {
        "hash": "439a674e51b78141e57c0390cfcae403ab130fc8",
        "msg": "Do not create VIP for pacemaker OVN OCF resource\n\nThe commit with change id [1], added the pacemaker HA support\nfor OVN DB servers. That commit created a new VIP which is\nreally not required.\n\nThis patch removes the code to create a new ip resource. Instead\nit expects the pacemaker ip resource (with the ip address in the\n'ovn_dbs_vip' parameter and with the name \"ip-$ovn_dbs_vip\") to be\ncreated before ovn_northd class is called, which is the case anyway\nif 'ovn_dbs_vip' is taken from the ServiceNetMapDefaults (in t-h-t).\n\n[1] - I9dc366002ef5919339961e5deebbf8aa815c73db\n\nChange-Id: I94d3960e6c5406e3af309cc8c787ac0a6c9b1756\nPartial-bug: #1670564",
        "cmtr": "Numan Siddique",
        "date": "2017-06-11 06:07:18+05:18",
        "files": ["ovn_northd.pp"]
      },
      {
        "hash": "2606a4e66fa2802de604d56ade018119bebd79cc",
        "msg": "Remove condition to match hdr(host) in haproxy redirect rule\n\nThe horizon proxy should redirect all HTTP requests to HTTPS,\nregardless of the 'Host' field in the header. The current rule will\ncause haproxy to redirect HTTP requests if the 'Host' field contains\nthe public virtual IP address. It will not redirect if the 'Host'\nfield contains a hostname, FQDN, etc.\n\nChange-Id: I6c8f58a30f97cdf4c668734793197ea976297733\nSigned-off-by: Ryan O'Hara <rohara@redhat.com>",
        "cmtr": "Juan Antonio Osorio Robles",
        "date": "2017-06-12 08:23:09+00:00",
        "files": ["haproxy.pp"]
      },
      {
        "hash": "1b8548d0f5ce8d1e8d99f8ad9201a128c938184f",
        "msg": "Configure Galera cluster with FQDNs instead of shortnames\n\nThis takes into use the cluster_host_map, which allows to give aliases\nto the pacemaker nodes (which are FQDNs), and allows us to configure the\ncluster using FQDNs.\n\nWe need FQDNs in order to request certificates, since the default CA\n(FreeIPA) only allows certificates for FQDNs.\n\nChange-Id: I2f146afdd32aef2d11cf25a65fa8d67428f621f5",
        "cmtr": "Juan Antonio Osorio Robles",
        "date": "2017-06-13 08:12:17+00:00",
        "files": ["mysql.pp"]
      },
      {
        "hash": "96c4adecb2b6ff51d1a3b63a4219e107d0172d1b",
        "msg": "Fixes an issue when rebooting with an NFS mount.\n\n_netdev mount option helps fix a timing issue when rebooting.\nThis looks like we're hitting an issue where we're using\nnetwork instead of NetworkManager and that systemd doesn't\nunmount the NFS shares before stopping network.\n\nChange-Id: I5d2c89db29ef75aaf371b3c9dd561587d7b6f87b\nCloses-Bug: #1697752",
        "cmtr": "Marc Methot",
        "date": "2017-06-13 15:55:49-04:00",
        "files": ["nfs_mount.pp"]
      },
      {
        "hash": "94f13e66089cc0b18d5b4b2f6e204160d836ac3e",
        "msg": "Ensure hiera step value is an integer\n\nThe step is typically set with the hieradata setting an integer value:\n\n  {\"step\": 1}\n\nHowever it would be useful for the value to be a string so that\nsubstitutions are possible, for example:\n\n  {\"step\": \"%{::step}\"}\n\nThis change ensures the step parameter defaults to an integer by\ncalling Integer(hiera('step'))\n\nThis change was made by manually removing the undef defaults from\nfluentd.pp, uchiwa.pp, and sensu.pp then bulk updating with:\n\n    find ./ -type f -print0 |xargs -0 sed -i \"s/= hiera('step')/= Integer(hiera('step'))/\"\n\nChange-Id: I8a47ca53a7dea8391103abcb8960a97036a6f5b3",
        "cmtr": "Steve Baker",
        "date": "2017-06-14 14:31:52+12:00",
        "files": ["analytics.pp", "analyticsdatabase.pp", "config.pp", "control.pp", "database.pp", "heat.pp", "provision.pp", "vrouter.pp", "aodh.pp", "api.pp", "evaluator.pp", "listener.pp", "notifier.pp", "auditd.pp", "barbican.pp", "api.pp", "ceilometer.pp", "central.pp", "compute.pp", "notification.pp", "polling.pp", "api.pp", "collector.pp", "expirer.pp", "upgrade.pp", "ceph.pp", "client.pp", "mds.pp", "mon.pp", "osd.pp", "rgw.pp", "cinder.pp", "api.pp", "backup.pp", "ceph.pp", "swift.pp", "scheduler.pp", "volume.pp", "dellps.pp", "dellsc.pp", "hpelefthand.pp", "iscsi.pp", "netapp.pp", "nfs.pp", "pure.pp", "rbd.pp", "scaleio.pp", "congress.pp", "mongodb.pp", "mysql.pp", "client.pp", "redis.pp", "docker.pp", "etcd.pp", "api.pp", "gnocchi.pp", "api.pp", "metricd.pp", "statsd.pp", "haproxy.pp", "heat.pp", "api.pp", "api_cfn.pp", "api_cloudwatch.pp", "engine.pp", "horizon.pp", "ironic.pp", "api.pp", "conductor.pp", "ironic_inspector.pp", "keepalived.pp", "keystone.pp", "fluentd.pp", "manila.pp", "api.pp", "scheduler.pp", "share.pp", "memcached.pp", "collectd.pp", "mistral.pp", "api.pp", "engine.pp", "event_engine.pp", "executor.pp", "sensu.pp", "uchiwa.pp", "neutron.pp", "bagpipe.pp", "bigswitch.pp", "l2gw.pp", "midonet.pp", "nuage.pp", "ovn.pp", "vpp.pp", "bgpvpn.pp", "dhcp.pp", "l2gw.pp", "l3.pp", "lbaas.pp", "linuxbridge.pp", "metadata.pp", "midonet.pp", "n1k.pp", "vrouter.pp", "opendaylight.pp", "ovn_northd.pp", "ovs.pp", "ml2.pp", "bagpipe.pp", "opendaylight.pp", "ovn.pp", "vpp.pp", "nsx_v3.pp", "nuage.pp", "opencontrail.pp", "opendaylight.pp", "plumgrid.pp", "plumgrid.pp", "server.pp", "sriov.pp", "nova.pp", "api.pp", "authtoken.pp", "compute.pp", "ironic.pp", "libvirt.pp", "conductor.pp", "consoleauth.pp", "ec2api.pp", "libvirt.pp", "placement.pp", "scheduler.pp", "vncproxy.pp", "novajoin.pp", "octavia.pp", "api.pp", "health_manager.pp", "housekeeping.pp", "worker.pp", "pacemaker.pp", "pacemaker_remote.pp", "panko.pp", "api.pp", "qdr.pp", "rabbitmq.pp", "sahara.pp", "api.pp", "engine.pp", "securetty.pp", "snmp.pp", "proxy.pp", "ringbuilder.pp", "storage.pp", "tacker.pp", "api.pp", "conductor.pp", "taskmanager.pp", "vpp.pp", "zaqar.pp", "rbdmirror.pp", "backup.pp", "backup_bundle.pp", "volume.pp", "volume_bundle.pp", "clustercheck.pp", "mysql.pp", "mysql_bundle.pp", "redis.pp", "redis_bundle.pp", "haproxy.pp", "haproxy_bundle.pp", "manila.pp", "lbaas.pp", "ovn_northd.pp", "rabbitmq.pp", "rabbitmq_bundle.pp"]
      },
      {
        "hash": "332755c0fd586f0a3085704b3f4bda78ad8a87ad",
        "msg": "Only set the stonith property on the pacemaker_master node\n\nIt makes little sense to enforce the stonith property on remote nodes and/or\nall cluster nodes. We can just enforce it once on the pacemaker_master\nnode as it is a cluster-wide property anyway. We can also remove the\ntripleo::fencing -> pacemaker::stonith constraint in the pacemaker\nremote profile now as the fencing stuff happens on step 5 anyway and\nthe property is set at step 1.\n\nWhile this works in general it creates extra CIB changes for nothing and\nslows down the deployment.\n\nChange-Id: Ifef08033043a4cc90a6261e962d2fdecdf275650\nCloses-Bug: #1696336",
        "cmtr": "Michele Baldessari",
        "date": "2017-06-14 09:01:26+02:00",
        "files": ["pacemaker.pp", "pacemaker_remote.pp"]
      },
      {
        "hash": "c70e68e65f806489d9d3f91d406bae82beaa3665",
        "msg": "Addition of Nuage as mechanism driver for ML2\n\nAdding Nuage as mechanism driver where ML2 is the neutron\ncore plugin. ML2 base profile includes Nuage when mechanism\ndriver is Nuage. Added Nuage neutron ML2 profile for tripleo.\n\nChange-Id: Ib56a7ad8f43fc6274eebc83bd2a62e68c030599d",
        "cmtr": "lokesh-jain",
        "date": "2017-06-14 18:45:04-04:00",
        "files": ["ml2.pp", "nuage.pp"]
      },
      {
        "hash": "5e91493f7aaecef924a78f0743f812a225080085",
        "msg": "Move gnocchi upgrade and api to step 4\n\ngnocchi upgrade requires storage sacks to be initialized. This means\nwe need to ensure the storage backends are up before running the\nupgrade and starting the api. Lets move the api to step 4 so we can\nensure other dependencies are in place.\n\nCo-Authored-By: Juan Antonio Osorio Robles <jaosorior@redhat.com>\nDepends-On: Ibfa9fb39f60c1e4a802d189b32ff4c34476c93d3\nChange-Id: If2ae48b21389e76fd638c0b48c148a5d4f227630",
        "cmtr": "Juan Antonio Osorio Robles",
        "date": "2017-06-15 10:18:03+03:00",
        "files": ["api.pp", "tripleo_profile_base_gnocchi_api_spec.rb"]
      },
      {
        "hash": "62dffeb9dad1394e27de4f8c709f6534ecab8ad3",
        "msg": "Fix redis when hostname has capital letters\n\nThe bootstrap_nodeid comparison should be case insensitive.\n\nChange-Id: I1e6672bb0219c1cf56ab21dd911c6f33e2436cc3\nCloses-Bug: #1698190",
        "cmtr": "Alex Schultz",
        "date": "2017-06-15 13:17:08-06:00",
        "files": ["redis.pp", "tripleo_profile_base_database_redis_spec.rb", "default.yaml"]
      },
      {
        "hash": "192463755bb599b8879c09a97cf731dad0cde6a0",
        "msg": "For http service endpoints always redirect to https\n\nIf public TLS is enabled, this sets as default that services should\nalways redirect to https.\n\nChange-Id: I19b9d07ac8925366ed27fefcaca4fdb9a9ab1b37",
        "cmtr": "Juan Antonio Osorio Robles",
        "date": "2017-06-16 12:53:59+03:00",
        "files": ["haproxy.pp", "endpoint.pp"]
      },
      {
        "hash": "76b0074c76c067de6e722b7e2a6410ecfcb45fb7",
        "msg": "Require the UI package when creating the virtual host\n\nQuickstart is failing with this error:\n\nError: Cannot create /var/www/openstack-tripleo-ui/dist;\n       parent directory /var/www/openstack-tripleo-ui does not exist\nError: /Stage[main]/Tripleo::Ui/Apache::Vhost[tripleo-ui]/File[/var/www/openstack-tripleo-ui/dist]\n       ensure: change from absent to directory\n       failed: Cannot create /var/www/openstack-tripleo-ui/dist; parent directory /var/www/openstack-tripleo-ui does not exist\n\nPuppet cant create the folders tree by itself.\n\nCloses-bug: 1698105\nChange-Id: I5cce963a6225552f4b7253cb34edc72b392b9dda",
        "cmtr": "Carlos Camacho",
        "date": "2017-06-19 18:10:24+02:00",
        "files": ["ui.pp", "ui.pp"]
      },
      {
        "hash": "38ac9318c4d35f76cc6a7d06132efc3c2906ea12",
        "msg": "Remove manifest/profile/baseui.pp\n\nThis file is not needed anymore.\n\nChange-Id: I904443624c18cc5116bc6027c016b9ccdd5e10aa\nCloses-bug: 1698105\nDepends-On: Ie20ecabea91ca4c2040c5ef3bf6c71b2b53d26ef",
        "cmtr": "Carlos Camacho",
        "date": "2017-06-19 19:08:03+02:00",
        "files": ["ui.pp"]
      },
      {
        "hash": "7e6924c436e9a7581fe37ed46fa21984e4be69bd",
        "msg": "Add maxconn parameter to MySQL / HAProxy\n\nAllows configurability of maxconn as applies to\nthe MySQL section of the HAProxy config, both\nfor clustercheck and single node.\n\nAlso adds a new test for the haproxy class\noverall to exercise options.\n\nChange-Id: I023682dd5e85cc78d6dd3e5214a53863acc4f303",
        "cmtr": "Mike Bayer",
        "date": "2017-06-20 10:48:43-04:00",
        "files": ["haproxy.pp", "add-mysql_maxconn-to-haproxy-84a5ad07d8d14ddd.yaml", "tripleo_haproxy_spec.rb", "default.yaml"]
      },
      {
        "hash": "e1abfd7e6c6d64e8b6bf2bed019f9894e40db9e7",
        "msg": "Make enabling haproxy stats interface configurable\n\nSome people might or might not want to enable it. So this makes it\nconfigurable. It defaults to true as we were always deploying it before.\n\nChange-Id: I8d2a08cdaf3e5ec3d1a69d4f95e57522508c8610",
        "cmtr": "Juan Antonio Osorio Robles",
        "date": "2017-06-20 18:50:12+03:00",
        "files": ["haproxy.pp"]
      },
      {
        "hash": "76eb1bbd4f977e16c97516500f050f8b49e7399d",
        "msg": "Ignore failures when loading nf_conntrack_proto_sctp kernel module\n\nIgnore failures if nf_conntrack_proto_sctp module failed to load.\nSince RHEL 7.4, nf_conntrack_proto_sctp module is compiled into the\nkernel instead of as a module as the sctp support.\nTripleO will still try to load the module to support RHEL 7.3, but\nin the future will remove the module management and rely on the kernel\nprovided in newer versions of RHEL.\n\nCo-Authored-By: Or Idgar <oidgar@redhat.com>\nCo-Authored-By: Alex Schultz <aschultz@redhat.com>\nCo-Authored-By: Emilien Macchi <emilien@redhat.com>\n\nChange-Id: I8f1c841a7c0f3b1247aba2b959b6dfbe43d8cd79\nCloses-Bug: 1695885",
        "cmtr": "Emilien Macchi",
        "date": "2017-06-20 18:47:56+00:00",
        "files": ["kernel.pp", "nf_conntrack_proto_sctp-a64300a3fc7b4e55.yaml", "tripleo_profile_base_kernel_spec.rb"]
      },
      {
        "hash": "5d36fa2348b2ff7aa8ad668f56b160515ed128fe",
        "msg": "Allow certmonger mysql resource to use several DNS names\n\nThis allows for several SubjectAltNames which will subsequently be\nused for the replication traffic as well.\n\nbp tls-via-certmonger\n\nChange-Id: Ic68266eaf39d6803f7c3e299095578bbcfd63b88",
        "cmtr": "Juan Antonio Osorio Robles",
        "date": "2017-06-21 08:39:18+00:00",
        "files": ["mysql.pp"]
      },
      {
        "hash": "3a5d4a3036dfee193573bc215407d94496d76fd6",
        "msg": "Enable TLS for MySQL's replication traffic\n\nThis enables the options so Galera can use TLS for the replication\ntraffic.\n\nbp tls-via-certmonger\n\nDepends-On: I9252303b92a2805ba83f86a85770db2551a014d3\nChange-Id: I2ee3bf4bbda3f65f5b03440ecbc75f14225a2428",
        "cmtr": "Juan Antonio Osorio Robles",
        "date": "2017-06-21 08:39:32+00:00",
        "files": ["mysql.pp"]
      },
      {
        "hash": "2fe27a294d7d4e99e1762e951dac41b3c4658eea",
        "msg": "Deploy ironic-api with WSGI\n\nChange-Id: I952c86db88dcd611722a3feaea88f618eee17620",
        "cmtr": "Dmitry Tantsur",
        "date": "2017-06-21 15:52:48+02:00",
        "files": ["api.pp"]
      },
      {
        "hash": "2210f3c9170140985b793ef3df48489c308c70d1",
        "msg": "Make collectd to log also to file\n\nThis change will make possible to set collectd to log to file\n(/var/log/collectd.log by default).\n\nChange-Id: I50289ad6657852d37abbf12938128ff9ab9e3bac",
        "cmtr": "Martin Mgr",
        "date": "2017-06-21 16:23:00+02:00",
        "files": ["collectd.pp"]
      },
      {
        "hash": "b6a6f3e28eb102cf66f6c4b6f75c42add0e11ca6",
        "msg": "Add Swift dispersion profile\n\nThe swift-dispersion-populate command needs to be called when Swift and\nKeystone are up and running, and therefore we need to ensure this is\nrunning in step 5 or later.\n\nChange-Id: I5b4c08c252b6083dace5a65367920c475de416ce",
        "cmtr": "Christian Schwede",
        "date": "2017-06-23 09:46:55+02:00",
        "files": ["dispersion.pp", "swift-dispersion-profile-09dc69980028e751.yaml"]
      },
      {
        "hash": "d5ac6b70f2f6048b4846fa539aa4e870bed6c201",
        "msg": "Force MySQL users to use SSL if internal TLS is enabled\n\nThis forces the MySQL users to use SSL when connecting to MySQL.\n\nbp tls-via-certmonger\n\nDepends-On: I24e4c195a31109835739e78a6b53d36f661f9fd0\nChange-Id: I98856955132b680a159144204da1d5b400fe9794",
        "cmtr": "Juan Antonio Osorio Robles",
        "date": "2017-06-26 11:27:21+00:00",
        "files": ["mysql.pp"]
      },
      {
        "hash": "fabb0b236e1eb21378b0cd214a96681bd2b0ba4a",
        "msg": "Change CRL refresh to run every 2 hours\n\nThe default CA issues CRLs for 4 hours by default. So we need to change\nthese values to reflect this, else we'll get verification issues due to\nthe CRL having expired before its refreshed.\n\nHowever, the nextupdate value for the CRLs might not be aligned with the\ncron job. And getting this alignment is not entirely trivial. So I opted\nfor updating every 2 hours to address this.\n\nChange-Id: I732b400462c5cabd7c6c18c007fc9e8c87b700d3",
        "cmtr": "Juan Antonio Osorio Robles",
        "date": "2017-06-26 14:24:26+00:00",
        "files": ["crl.pp"]
      },
      {
        "hash": "5097c9d6d12231a6adcfc627e67901050e6e0ae2",
        "msg": "MySQL: configure ::zaqar::db::mysql selectively\n\nAdds the ability to create an empty MySQL database for Zaqar\nif zaqar is enabled and settings for the mysql backend are\nalso available in hiera. This should allow Zaqar's database to\nget created when needed, but skipped if MongoDB is used\ninstead (per overcloud defaults).\n\nChange-Id: I3598e39c0a3cdf80b96e728d9aa8a7e6505e0690",
        "cmtr": "Dan Prince",
        "date": "2017-06-26 10:35:25-04:00",
        "files": ["mysql.pp"]
      },
      {
        "hash": "ad14f23c112922399b96601806da34ad045cbf22",
        "msg": "Always start httpd at the same time\n\nPuppet wipes out whatever is not in it's resource catalog each run for\nhttpd. This causes httpd to restart if in the next step there are\nreasources added that were not there earlier.\n\nThis patch, thus changes the instances of httpd to start at the same\ntime: On step 3 for the bootstrap node, and on step 4 for every other\nnode.\n\nCloses-Bug: #1699502\nChange-Id: I3d29728c1ab7bd5b78100f89e00e5fa082f97b0c\nCo-Authored-By: Alex Schultz <aschultz@redhat.com>",
        "cmtr": "Juan Antonio Osorio Robles",
        "date": "2017-06-27 14:38:45+03:00",
        "files": ["api.pp", "api.pp", "api.pp", "api_cfn.pp", "api_cloudwatch.pp", "horizon.pp", "api.pp", "placement.pp", "zaqar.pp", "start-httpd-step3-and-4-2bd7be9e1429ef6d.yaml", "tripleo_profile_base_aodh_api_spec.rb", "tripleo_profile_base_ceilometer_api_spec.rb", "tripleo_profile_base_horizon_spec.rb", "tripleo_profile_base_nova_placement_spec.rb"]
      },
      {
        "hash": "c513d40f49329657db2e9a22fced9a3f79316f12",
        "msg": "Always start httpd at the same time (TLS proxy)\n\nFor the TLS everywhere job, there are some apache vhosts set up that\nserve as TLS proxies. These need to be started at the same time as the\nrest of the apache vhosts too.\n\nChange-Id: I15e67c7c04142cff01704e2590d3b2a6a949cc06",
        "cmtr": "Juan Antonio Osorio Robles",
        "date": "2017-06-27 14:38:45+03:00",
        "files": ["server.pp", "proxy.pp"]
      },
      {
        "hash": "ee5301929877a5330b93f99e1ca5958ca5963eb5",
        "msg": "Split docker options and insecure registry\n\nUse augeas to modify only parameters' dedicated configuration.\nSplit options from insecure registry. Overlapping those params may\nunschedule the docker service restarts for some cases, ending up with\na split brain state for the docker service run-time config vs changed\n/etc/sysconfig/options config.\n\nChange-Id: Ic5640061837b022f7175f0db0dc269f9a61e6023\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>",
        "cmtr": "Bogdan Dobrelya",
        "date": "2017-06-27 15:08:52+02:00",
        "files": ["docker.pp", "tripleo_profile_base_docker_spec.rb"]
      },
      {
        "hash": "f88690220aa991caf78201944fd4fd4424a3a0dd",
        "msg": "Allow disabling udev usage by LVM\n\nDisabling udev usage from LVM seems to be the only observed working\nway of running containerized cinder-volume with local LVM backend.\n\nI didn't come across reports that not using udev would have negative\nimpact on the functionality.\n\nAdditional info at\nhttps://groups.google.com/forum/#!topic/docker-user/n4Xtvsb4RAw\n\nChange-Id: I1bf395a6228dba66fa6bf9b8bcc9f3ac3d922a49\nRelated-Bug: #1700140",
        "cmtr": "Jiri Stransky",
        "date": "2017-06-27 15:34:59+02:00",
        "files": ["lvm.pp", "tripleo_profile_base_lvm_spec.rb"]
      },
      {
        "hash": "90eed9d6a01000377eeadddb07a9e8d57163fe17",
        "msg": "Merge the nova HAproxy TLS options\n\nThis makes sure that we set the necessary options so HAProxy uses TLS\nto contact nova.  It was commented out when nova was moved to not run\nover httpd. Since that is no longer the case we can re-enable it.\n\nChange-Id: I026a7dab30b00a4e93966f650f098c570b0b624b\nDepends-On: Iac35b7ddcd8a800901548c75ca8d5083ad17e4d3",
        "cmtr": "Rob Crittenden",
        "date": "2017-06-28 15:50:40-04:00",
        "files": ["haproxy.pp"]
      },
      {
        "hash": "d71697a419f459b8fa4b748a64ac6580b3a82456",
        "msg": "Do not fail if PCI device is missing\n\nFixes a problem where SR-IOV VF count configuration will fail if a\nphysical function is in use by a guest when 'puppet apply' is executed.\nThis change substitutes warnings for failures and skips complaints if a\nPCI device is unavailable.\n\nNote: this patch has the side-effect of allowing the same configuration\ndata on hosts that may *not* or *ever* have PCI SR-IOV devices on the\nhardware. Time will tell how evil this is in practice.\n\nCloses-Bug: #1701284\nChange-Id: I71edc135432ab2193741c37ce977dd11172401e6",
        "cmtr": "Brent Eagles",
        "date": "2017-06-29 12:07:14-02:18",
        "files": ["numvfs.rb", "sriov.pp", "allow-missing-pci-dev-for-sriov-bbc29f62fcac10ff.yaml", "tripleo_host_sriov_spec.rb"]
      },
      {
        "hash": "096e913306584baaf0fd2e7bb4951ecb23f370ac",
        "msg": "Zaqar: support configurable backends\n\nThis patch updates the Zaqar profile so that we have\nsupport for configuring alternate versions of the messaging\nand management backends.\n\nIn Pike instack-undercloud started using the swift/sqlalchemy\nbackends and the intent here is to update the new containers\nundercloud to use a similar default (thus letting us drop Mongodb).\n\nChange-Id: Ie6a56b9163950cee2c0341afa0c0ddce665f3704",
        "cmtr": "Dan Prince",
        "date": "2017-06-29 14:55:17-04:00",
        "files": ["zaqar.pp", "zaqar_undercloud_backends-66c268161cf7840e.yaml"]
      },
      {
        "hash": "6140d801f1e51397d3ee3ae010434f07b8e891ec",
        "msg": "Refactor nova migration config into client & target profiles\n\nThe nova migration config has always been applied by the base::nova profile.\nIt assumed that libvirtd/nova-compute and are all running on the\nsame host.\nWhere this config didn't apply (e.g a nova api host) it was disabled by a flag.\n\nThis approach is not compatible with containers. Hieradata for all containers\nare combined so per-host flags no longer work, and we can no longer assume\nlibvirtd and nova-compute run in the same context.\n\nThis change refactors the profiles out of the base nova profile and into\na client profile and a target profile that can be included where appropriate.\n\nChange-Id: I063a84a8e6da64ae3b09125cfa42e48df69adc12\nImplements: blueprint tripleo-cold-migration",
        "cmtr": "Oliver Walsh",
        "date": "2017-07-03 14:34:08+01:00",
        "files": ["nova.pp", "libvirt.pp", "libvirt.pp", "migration.pp", "client.pp", "target.pp", "tripleo_profile_base_nova_compute_libvirt_spec.rb", "tripleo_profile_base_nova_compute_spec.rb", "tripleo_profile_base_nova_libvirt_spec.rb", "tripleo_profile_base_nova_migration_client_spec.rb", "tripleo_profile_base_nova_migration_spec.rb", "tripleo_profile_base_nova_migration_target_spec.rb", "tripleo_profile_base_nova_spec.rb", "default.yaml"]
      },
      {
        "hash": "17da52b03048bad1388508055c9622a74f0d4c65",
        "msg": "Update puppet-tripleo libvirt to support docker deployments\n\nIt is not necessary to mangle libvirt_rbd_secret_key parameter as this\nis now given by the templates.\n\nDepends-On: Iff3dbcb0f1b4d2373570e184e636a71553cea708\nChange-Id: I6b163ab102f505f0d0ce9eb1ad9d4274e4ff6348",
        "cmtr": "Giulio Fidente",
        "date": "2017-07-03 15:51:34+00:00",
        "files": ["libvirt.pp"]
      },
      {
        "hash": "8b9e2b3c6ca5221249b8aa7dc792e756ee92209a",
        "msg": "Contrail: Fix controlplane/dataplane network asignments & enable optional dpdk\n\nThis patch will move the Contrail roles communication towards\nOpenStack APIs from the public/external network to the\ninternal_api network. I will also add the option to enable\ndpdk for Contrail.\n\nChange-Id: Ia835df656031cdf28de20f41ec6ab1c028dced23\nCloses-Bug: 1698422",
        "cmtr": "Michael Henkel",
        "date": "2017-07-05 22:52:58+02:00",
        "files": ["netmask_to_cidr.rb", "haproxy.pp", "analytics.pp", "analyticsdatabase.pp", "config.pp", "control.pp", "database.pp", "heat.pp", "neutron_plugin.pp", "provision.pp", "vrouter.pp", "webui.pp", "contrail-move-traffic-to-internal_api-ddc96d24c7018b81.yaml", "netmask_to_cidr_spec.rb"]
      },
      {
        "hash": "1a862ea2f2801f017670f20cdc0ba9ff272a29b8",
        "msg": "Remove reference to bootstack_nodeid\n\nThis has been replaced with bootstrap_nodeid which isn't hard-coded to\nthe Controller role and thus will work should this service be deployed\non any other role via composable services.\n\nChange-Id: I0a9fced847caf344e5d26b452f1bd40afab8f029",
        "cmtr": "Steven Hardy",
        "date": "2017-07-06 17:28:27+01:00",
        "files": ["opendaylight.pp", "create_cluster.pp"]
      },
      {
        "hash": "8b2d4047774ead6223adf2b98e30b9e6ca9ca3d2",
        "msg": "Add option for innodb_flush_log_at_trx_commit = 2 for Galera only\n\nThe innodb_flush_log_at_trx_commit flag changes the timing\nof when the log buffer is written to disk for writes.\nAt its default of 1, transactions are written to disk\nand the buffer flushed on a per-transaction basis; but when\nset to 2, the flush of the buffer proceeds only once per\nsecond.  This removes the durability guarantee for the\nsingle node.  However the central concept of Galera is\nthat durability is achieved via the cluster as a whole,\nin that transactions are replicated to other nodes before\nthe commit succeeds (though not necessarily written to disk\nunless wsrep_causal_reads is set).  In this model,\ndata would only be lost of all nodes of the Galera cluster\nwere killed within one second of each other.  Percona's\nblog post at https://www.percona.com/blog/2014/11/17/typical-misconceptions-on-galera-for-mysql/\nrecommends that the value of 2 should be considered \"safe\"\nfor a Galera cluster unless you are in fact worried that\nall three nodes will be powered off simultaneously.\n\nThe value here is added as an option only, defaulting\nto the usual default of \"1\", flush per transaction.\n\nChange-Id: Id5a30f1daf978e094a74db2d284febbc9ae64bb3",
        "cmtr": "Mike Bayer",
        "date": "2017-07-06 12:42:38-04:00",
        "files": ["mysql.pp", "innodb_flush_log_at_trx_commit-eb7d99749ca3c911.yaml"]
      },
      {
        "hash": "e32f679b052746acfe012bf12117ad55f0699d18",
        "msg": "Let pacemaker bind-mount needed cert for haproxy bundle\n\nWhen SSL configuration is enabled, haproxy expects to load a SSL\ncertificate file at startup.\n\nUpdate the bundle configuration to always bind-mount the cert\nfile, to support both SSL and non SSL HAproxy bundle deployments.\n\nChange-Id: I6f4d3a5abae8f1781cfe6f69ff960aad500061e3",
        "cmtr": "Damien Ciabrini",
        "date": "2017-07-10 08:49:36-04:00",
        "files": ["haproxy_bundle.pp"]
      },
      {
        "hash": "fb10b8ec5be95e761d541162150ca3eec7b58a61",
        "msg": "Refactor iscsi initiator-name reset into separate profile\n\nThis currently assumes nova-compute and iscsid run in the same context which\nisn't true for a containerized deployment\n\nChange-Id: I91f1ce7625c351745dbadd84b565d55598ea5b59",
        "cmtr": "Oliver Walsh",
        "date": "2017-07-11 20:38:35+01:00",
        "files": ["iscsid.pp", "compute.pp", "tripleo_profile_base_iscsid_spec.rb", "tripleo_profile_base_nova_compute_spec.rb"]
      },
      {
        "hash": "764157de6f222e0e5698cdcf7b22926b7997fcb8",
        "msg": "Fix mysql client config generation with containerized environment\n\nWhen the tripleo::profile::base::database::mysql::client profile is\nincluded by other openstack services, the file /etc/my.cnf.d/tripleo.cnf\nis not generated because docker-puppet is configured to disregard the\nexec tags.\n\nMake the profile use either File or Exec resource based on how it's\nbeing called, to make it work for both containerized and non-containerized\nuse cases.\n\nChange-Id: I103baa02373f6713cc300ac039a6f173ff0bbf1c",
        "cmtr": "Damien Ciabrini",
        "date": "2017-07-12 04:08:05-04:00",
        "files": ["client.pp"]
      },
      {
        "hash": "1e90178298d77c23e654c374f17f999f4d9274e1",
        "msg": "Leverage kolla config_files to copy config into containers\n\nThis solves a problem with bind-mounts when the containers are holding\nfiles descriptors open.\n\nAt the same time this makes the template more robust to puppet changes\nsince new config files will be available in the containers without\nneeding to update the templates.\n\nCloses-Bug: #1698323\nChange-Id: I857c94ba5f7f064d7c58df621ec5d477654b9166\nDepends-On: I78dcec741a941dc21adba33ba33a6dc6ff1d217c",
        "cmtr": "Tuan Luong-Anh",
        "date": "2017-07-12 09:56:56+00:00",
        "files": ["backup_bundle.pp", "volume_bundle.pp", "mysql_bundle.pp", "redis_bundle.pp", "haproxy_bundle.pp", "rabbitmq_bundle.pp"]
      },
      {
        "hash": "6462e2e3c37d4778e27c26e1286e905009318aef",
        "msg": "Remove dependency on memcached_node_ips_v6\n\nThis is set via all_nodes_config in t-h-t, but it's a special case for\nthis service, so it'll be better if we handle the ipv6 transformation\nin puppet instead of relying on the service specific list mangling in\nt-h-t (one aspect of which has been identified as a potential performance\nproblem).\n\nRelated-Bug: #1684272\nChange-Id: Iccb9089db4b382db3adb9340f18f6d2364ca7f58",
        "cmtr": "Steven Hardy",
        "date": "2017-07-13 09:17:54+01:00",
        "files": ["horizon.pp", "nova.pp", "authtoken.pp", "tripleo_profile_base_nova_authtoken_spec.rb"]
      },
      {
        "hash": "f84751aeae1ca8a70a7794533475aa671f342ce0",
        "msg": "Add insecure_registry_address to docker profile\n\nThis patch adds a new insecure_registry_address parameter\nto the docker profile. This parameter is meant to replace two\ndeprecated parameters which did the same thing.\n\nCo-Authored-By: Ian Main <imain@redhat.com>\nChange-Id: I729fa00175cb36b02b882d729aae5ff06d0e3fbc",
        "cmtr": "Dan Prince",
        "date": "2017-07-13 08:05:53-04:00",
        "files": ["docker.pp"]
      },
      {
        "hash": "7f78fa1bc20ecafe618fcbc045493337a3d8813b",
        "msg": "Fix typo in haproxy bundle\n\nChange I6f4d3a5abae8f1781cfe6f69ff960aad500061e3 slipped in a typo\nand it removed the '$' character from a puppet manifest. Which causes\na deployment to fail with:\nINFO: running container haproxy-bundle-docker-0 for the first time\nERROR: /usr/bin/docker-current: Error response from daemon: Invalid bind mount spec \"deployed_ssl_cert_path:deployed_ssl_cert_path:ro\": Invalid volume destination path: 'deployed_ssl_cert_path' mount path must be absolute.. See '/usr/bin/docker-current run --help'.\nERROR: docker failed to launch container\n\nChange-Id: Ic602fd443d38482bf1f924531561b2174dc38293",
        "cmtr": "Michele Baldessari",
        "date": "2017-07-13 14:18:44+02:00",
        "files": ["haproxy_bundle.pp"]
      },
      {
        "hash": "a87fb1282327f7c67542cff006d5a83c87afb75c",
        "msg": "Add new profile for the Veritas HyperScale's cinder backend.\n\nAdd new hook in the keystone profile for Veritas HyperScale.\nAdd new hook in the rabbitmq profile for Veritas HyperScale.\nAdd new hook in the mysql profile for Veritas HyperScale.\n\nChange-Id: I9168bffa5c73a205d1bb84b831b06081c40af549\nDepends-On: I316b22f4f7f9f68fe5c46075dc348a70e437fb1d\nDepends-On: Id188af5e2f7bf628a97a70b8f20bef28e42b372d\nSigned-off-by: abhishek.kane <abhishek.kane@veritas.com>\nSigned-off-by: Dnyaneshwar Pawar <dnyaneshwar.pawar@veritas.com>",
        "cmtr": "abhishek.kane",
        "date": "2017-07-14 12:33:59+05:18",
        "files": ["volume.pp", "veritas_hyperscale.pp", "mysql.pp", "keystone.pp", "rabbitmq.pp", "veritas-hyperscale-driver-profile-970b5cb72f9fdcba.yaml", "tripleo_profile_base_cinder_veritas_hyperscale_spec.rb", "tripleo_profile_base_cinder_volume_spec.rb"]
      },
      {
        "hash": "acafaf0bdeac625d634e62ce4cfdaac2b46aa812",
        "msg": "Modified glance stores parameter values\n\nThe stores parameter should be set with the new parameters\nas they are going to be deprecated in the old method.\n\nChange-Id: If272345e96988778ceccb8f2f624db1c38aea365\nCloses-Bug: 1704327",
        "cmtr": "PranaliD",
        "date": "2017-07-14 13:19:40+05:18",
        "files": ["api.pp"]
      },
      {
        "hash": "3ee568800d9295bc2a4f843bd3ce74b109613c6b",
        "msg": "Update resource references for dependencies\n\nThe latest version of puppet now reports these as catalog failures so\nthis change removes the unnecessary references and the references\nshould be updated.\n\nCloses-Bug: #1702964\nChange-Id: Iebc547aa92f9f40e4a633c57d79e6c9cddb5dd28",
        "cmtr": "Emilien Macchi",
        "date": "2017-07-15 22:21:18-07:00",
        "files": ["local.pp", "tripleo_certmonger_ca_local_spec.rb"]
      },
      {
        "hash": "661757a16f485567403470b38b403cccaf60bdb2",
        "msg": "Retry ceilometer-upgrade\n\nWhen the ceilometer-upgrade command is run in step5, it talks to gnocchi\nand keystone on all the controllers. Since these other nodes might have\nhttpd restarted mid-upgrade we should retry if we get a failure.\n\nChange-Id: I874cf9c34b41d055a258704dabe9150eab0f7968\nCloses-Bug: #1703444",
        "cmtr": "Emilien Macchi",
        "date": "2017-07-16 05:21:40+00:00",
        "files": ["upgrade.pp"]
      },
      {
        "hash": "547afe7df02011e5ea650eaffdad3858cf3fc21d",
        "msg": "Create a Mesh of qdrouterd links for messaging high availability\n\nFor multi-node deployments of the dispatch router, a mesh of\ninter-router links is created. Note that bi-directional links must\nnot be configured.\n\nExample: For nodes A, B, C\n  Node    Inter-Router Link\n   A:           []\n   B:           [A]\n   C:           [A,B]\n\nChange-Id: If43beea7a53c1f8f1dff062341c7ea81751c3122",
        "cmtr": "Andrew Smith",
        "date": "2017-07-16 19:57:04-04:00",
        "files": ["qdr.pp", "tripleo_profile_base_qdr_spec.rb"]
      },
      {
        "hash": "1bde378cf6dcec905b291985c768dc71833cca06",
        "msg": "PS Cinder: Added support for password less login\n\nAdded missing san_private_key parameter used for password less SSH\nauthentication.\n\nChange-Id: Ia9857064692681172573e9092b53a352cd776cbd\nDepends-On: 0743d42ed1ed66e08ab7f4355145b4c06c589801",
        "cmtr": "rajinir",
        "date": "2017-07-18 12:52:17-05:00",
        "files": ["dellps.pp", "ps-san-private_key-5a9f11e7907ba600.yaml"]
      },
      {
        "hash": "3c779afcdc6e9a7d120ed6d42d8cf96b70956ce5",
        "msg": "Puppet module to deploy Manila Share bundle for HA\n\nThis module is used by tripleo-heat-templates to configure and deploy\nKolla-based manila-share containers managed by pacemaker.\n\nWe use short-lived containers that call pcs via puppet to create\nthe needed pacemaker resources, properties and constraints.\n\nBased on work done in fc5bc07b3be401694681420ba453af29b95a9fcf\n\nChange-Id: I89f65e8a34a3a88029498463942016a9f5285f1c\nPartial-Bug: #1668922",
        "cmtr": "Victoria Martinez de la Cruz",
        "date": "2017-07-18 17:04:55-03:00",
        "files": ["share_bundle.pp"]
      },
      {
        "hash": "e14120563938d40b1860e1d4945e578503ab428e",
        "msg": "Make calls to nova::compute::rbd from libvirt profile\n\nSome of the tasks carried by nova::compute::rbd class apply libvirt.\n\nChange-Id: Ib233689fdcdda391596d01a21f77bd8e1672ae04\nDepends-On: I28557deb13b75922932cd3e86c3467a541c988d0",
        "cmtr": "Giulio Fidente",
        "date": "2017-07-19 16:38:40+02:00",
        "files": ["libvirt.pp", "compute_libvirt_shared.pp", "libvirt.pp"]
      },
      {
        "hash": "1da0b51ecc703d01bb362c6b6038ab2bc652ea7a",
        "msg": "Fix up the control-port for rabbitmq bundles\n\nMistakenly this was set to 3121 which is the same port that pacemaker\nremote uses. Move this to 3122 which was the plan all along.\n\nAlso fix a wrong port comment in redis and mysql at the same time.\n\nChange-Id: Iccca6a53a769570443091577c7d86f47119d9cbb",
        "cmtr": "Michele Baldessari",
        "date": "2017-07-21 10:46:48+02:00",
        "files": ["mysql_bundle.pp", "redis_bundle.pp", "rabbitmq_bundle.pp"]
      },
      {
        "hash": "9b438a0249d59399c63c016921a9b6add8159dd2",
        "msg": "Fix lint issues to upgrade to puppet-lint 2.3\n\n2017-07-20 15:09:38.571317 | manifests/glance/nfs_mount.pp:65:WARNING: arrow should be on the right operand's line\n2017-07-20 15:09:38.571430 | manifests/pacemaker/haproxy_with_vip.pp:107:WARNING: arrow should be on the right operand's line\n2017-07-20 15:09:38.571473 | manifests/pacemaker/haproxy_with_vip.pp:108:WARNING: arrow should be on the right operand's line\n2017-07-20 15:09:38.571511 | manifests/pacemaker/haproxy_with_vip.pp:109:WARNING: arrow should be on the right operand's line\n2017-07-20 15:09:38.571551 | manifests/pacemaker/resource_restart_flag.pp:44:WARNING: arrow should be on the right operand's line\n2017-07-20 15:09:38.571590 | manifests/profile/base/cinder/volume/nfs.pp:72:WARNING: arrow should be on the right operand's line\n2017-07-20 15:09:38.571625 | manifests/profile/base/docker.pp:188:WARNING: arrow should be on the right operand's line\n2017-07-20 15:09:38.571661 | manifests/profile/base/docker.pp:210:WARNING: arrow should be on the right operand's line\n2017-07-20 15:09:38.571699 | manifests/profile/base/logging/fluentd.pp:79:WARNING: arrow should be on the right operand's line\n2017-07-20 15:09:38.571735 | manifests/profile/base/pacemaker.pp:107:WARNING: arrow should be on the right operand's line\n2017-07-20 15:09:38.571773 | manifests/profile/base/swift/ringbuilder.pp:97:WARNING: arrow should be on the right operand's line\n2017-07-20 15:09:38.571811 | manifests/profile/base/swift/ringbuilder.pp:125:WARNING: arrow should be on the right operand's line\n2017-07-20 15:09:38.571850 | manifests/profile/base/swift/ringbuilder.pp:130:WARNING: arrow should be on the right operand's line\n2017-07-20 15:09:38.571889 | manifests/profile/pacemaker/ceph/rbdmirror.pp:79:WARNING: arrow should be on the right operand's line\n2017-07-20 15:09:38.571927 | manifests/profile/pacemaker/cinder/backup.pp:66:WARNING: arrow should be on the right operand's line\n2017-07-20 15:09:38.571965 | manifests/profile/pacemaker/ovn_northd.pp:96:WARNING: arrow should be on the right operand's line\n\nChange-Id: I9393c5e04310cf84695531df9bb16f33e7e15abb",
        "cmtr": "Carlos Camacho",
        "date": "2017-07-21 11:42:45+02:00",
        "files": ["nfs_mount.pp", "haproxy_with_vip.pp", "resource_restart_flag.pp", "nfs.pp", "docker.pp", "fluentd.pp", "pacemaker.pp", "ringbuilder.pp", "rbdmirror.pp", "backup.pp", "ovn_northd.pp"]
      },
      {
        "hash": "13270af7908e9c1d71668e7ea8947ee4f2a97b60",
        "msg": "Deprecates using exec workaround for ODL clustering\n\nPreviously we had used an exec defined in puppet-tripleo to do\nclustering with OpenDaylight docker containers.  The clustering issue is\nnow fixed in puppet-opendaylight by:\nhttps://git.opendaylight.org/gerrit/#/c/60491\n\nSo removing the custom function and class workaround.  Also,\n'ha_node_index' is deprecated for configuring clustering with\npuppet-opendaylight so that is also removed.\n\nDepends-On: I21c1eb2eff6d4cb855eff4a1122f55ad625d84cc\n\nChange-Id: I7693b692c74071945fdcc08292542e9b458a540b\nSigned-off-by: Tim Rozet <trozet@redhat.com>",
        "cmtr": "Tim Rozet",
        "date": "2017-07-21 13:02:51-04:00",
        "files": ["opendaylight.pp", "configure_cluster.pp", "create_cluster.pp", "cleanup_odl_clustering-7efdd58639df88a5.yaml", "tripleo_profile_base_neutron_opendaylight_spec.rb"]
      },
      {
        "hash": "d90abf468cf065057a171fdd8031006eb8536088",
        "msg": "Configure redis as incoming storage driver in gnocchi\n\npuppet support for this is added in Id8d4d091da2611de75390e045ebd473caf2a8909\n\nChange-Id: I3354b54571a1b9d0a9187698217628d273cd7d7e",
        "cmtr": "Pradeep Kilambi",
        "date": "2017-07-24 20:09:59+00:00",
        "files": ["api.pp", "tripleo_profile_base_gnocchi_api_spec.rb"]
      },
      {
        "hash": "bf5eaa2fa243b9f3a1e329ea60ad23e12af41f1c",
        "msg": "Pass 'false' docroot to vhost for tls_proxy\n\npassing undef causes a failure since due to a recent commit [1] the\nresource now does proper validation of the parameters.\n\n[1] https://github.com/puppetlabs/puppetlabs-apache/commit/d6952b21ec66d7ce8b69dd0c2f2a0debca54e18f\n\nChange-Id: I6dc1e5820a1f4fe449d254d301738e1073f4b82b\nCloses-Bug: #1706026",
        "cmtr": "Emilien Macchi",
        "date": "2017-07-26 03:58:59+00:00",
        "files": ["tls_proxy.pp"]
      },
      {
        "hash": "ea79aff996dae9e0dcaf756193f3e103e23bab48",
        "msg": "Move gnocchi::api resource to run with wsgi setup\n\nHaving this run in step 4 causes a refresh (restart) for httpd, which\nin turn is problematic for the gnocchi db upgrade command, since when\nit runs httpd is not available at that point. This fixes the issue,\nsince the API configuration is now ran at the same time as the wsgi\nbits.\n\nChange-Id: Ie0ab389a4450bb940757e34d1964423911885fa3",
        "cmtr": "Emilien Macchi",
        "date": "2017-07-26 03:59:20+00:00",
        "files": ["api.pp"]
      },
      {
        "hash": "237e613a175fd975bf6679646eaf092ff6725015",
        "msg": "Fix nova and selinux unit tests\n\nThe unit tests jobs are failing because of missing pre conditions for\nthe new shared class introduced by\nIb233689fdcdda391596d01a21f77bd8e1672ae04.  Additionally this change\nmoved some classes around so that the tests are now failing due to\nduplicate class declarations for nova::compute::libvirt::services. This\nchange moves the include that pulls in the declaration first prior to\nthe include that exists in tripleo::profile::base::nova::libvirt.\n\nThe selinux test was also failing due to a type issue with the fact\nbeing used (boolean vs string)\n\nChange-Id: I5bd4b61d6008820729d58f7743e7e61955dd6f51\nCloses-Bug: #1707034",
        "cmtr": "Alex Schultz",
        "date": "2017-07-27 12:54:30-06:00",
        "files": ["libvirt.pp", "tripleo_profile_base_nova_compute_libvirt_spec.rb", "tripleo_profile_base_nova_libvirt_spec.rb", "tripleo_selinux_spec.rb"]
      },
      {
        "hash": "50f160a148b6a973891ffc6d0882f4c0d597336e",
        "msg": "Prevent haproxy to run iptables during docker-puppet configuration\n\nWhen docker-puppet runs module tripleo::haproxy to generate haproxy\nconfiguration file, and tripleo::firewall::manage_firewall is true,\niptables is called to set up firewall rules for the proxied services\nand fails due to lack of NET_ADMIN capability.\n\nMake the generation of firewall rule configurable by exposing a\nnew argument to the puppet module. That way, firewall management can\nbe temporarily disabled when being run through docker-puppet.\n\nChange-Id: I2d6274d061039a9793ad162ed8e750bd87bf71e9\nPartial-Bug: #1697921",
        "cmtr": "Alex Schultz",
        "date": "2017-07-27 18:59:30+00:00",
        "files": ["haproxy.pp", "endpoint.pp", "haproxy.pp", "haproxy.pp"]
      },
      {
        "hash": "01ae50352519d80810739c0f9319f74aab2e786d",
        "msg": "Handle SSL options for Zaqar\n\nThis allows running Zaqar with SSL under Apache.\n\nChange-Id: I4c68a662c2433398249f770ac50ba0791449fe71",
        "cmtr": "Alex Schultz",
        "date": "2017-07-27 18:59:52+00:00",
        "files": ["haproxy.pp", "zaqar.pp"]
      },
      {
        "hash": "b59d7e7725866f8bc3018e5be130ce4a194509c6",
        "msg": "Replace enabled languages with excluded languages in UI\n\nChange-Id: I14d2c8d11abb1df17759e2a9d4ae6b9ccebbe30f\nDepends-On: Idf5a3314c19be18ca6cabbae1e94bc7cb1d1fe94",
        "cmtr": "Alex Schultz",
        "date": "2017-07-27 19:00:04+00:00",
        "files": ["ui.pp", "tripleo_ui_config.js.erb"]
      },
      {
        "hash": "fab85e5dcb55160544d8a420b0f4e30002c908f8",
        "msg": "Support for Dell EMC Unity Cinder Driver\n\nThis changes adds Dell EMC Unity backend as composable service\nand matches the tripleo-heat-templates.\n\nChange-Id: I015f7dfec4bedf72332d91b91cda3ef1dc8caf8c",
        "cmtr": "rajinir",
        "date": "2017-07-28 19:57:10-05:00",
        "files": ["volume.pp", "dellemc_unity.pp", "tripleo_profile_base_cinder_unity_spec.rb"]
      },
      {
        "hash": "5ae3fab74381403cc76525ba3ff63a60836c17c1",
        "msg": "Fix legacy nova/cinder encryption key manager configuration\n\nRecent changes in Nova [0] and Cinder [1] result in Barbican being selected\nas the default encryption key manager, even when TripleO is not deploying\nBarbican.\n\nThis change ensures the legacy key manager is enabled when no key manager\n(such as Barbican) has been specified. This restores the previous behavior,\nwhere the legacy key manager was enabled by default.\n\n[0] https://review.openstack.org/484501\n[1] https://review.openstack.org/485322\n\nCloses-Bug: #1706389\nChange-Id: Idc92f7a77cde757538eaac51c4ad8dc397f9c3d3",
        "cmtr": "Alan Bishop",
        "date": "2017-07-30 15:11:55-04:00",
        "files": ["api.pp", "compute.pp", "tripleo_profile_base_cinder_api_spec.rb", "tripleo_profile_base_nova_compute_spec.rb", "step4.yaml"]
      },
      {
        "hash": "e51e79692032d2cf8c6092e86c5a28a0e7f1832d",
        "msg": "Enable TLS for the HAProxy stats interface\n\nThis creates a new class for the stats interface and furtherly\nconfigures it to also use the certificates that are provided by\ncertmonger (via the internal_certificates_specs variable).\n\nNote that the already existing haproxy_stats_certificate still works and\nwill take precedence if it's set.\n\nbp tls-via-certmonger\n\nChange-Id: Iea65d91648ab13dbe6ec20241a1a7c95ce856e3e",
        "cmtr": "Juan Antonio Osorio Robles",
        "date": "2017-07-31 13:30:14+00:00",
        "files": ["haproxy.pp", "stats.pp", "TLS-for-haproxy-stats-3ce3b7780f0ef5b7.yaml", "tripleo_haproxy_stats_spec.rb"]
      },
      {
        "hash": "5caebe85e91bc22586cde872b4ed68943fc74a63",
        "msg": "Use clustercheck credentials to poll galera state in container\n\nThe clustercheck service currently connects to mysql as root\nto poll the state of the galera cluster.\n\nUpdate the generated config to use clustercheck credentials.\n\nDepends-On: If8e0b3f9e4f317fde5328e71115aab87a5fa655f\nCloses-Bug: #1707683\n\nChange-Id: I4ee6e1f56a7880ccf456f5c08d26a267fb810361",
        "cmtr": "Damien Ciabrini",
        "date": "2017-07-31 12:39:51-04:00",
        "files": ["clustercheck.pp"]
      },
      {
        "hash": "c5dc8512354d51d62067d14e35a913e42531db10",
        "msg": "Enable encryption of pacemaker traffic by default\n\nWe already are setting a pre-shared key by default for the pacemaker\ncluster. This was done in order to communicate with TLS-PSK with\npacemaker-remote clusters. This key is also useful for us to enable\nencrypted traffic for the regular cluster traffic, which we enable by\ndefault with this patch.\n\nChange-Id: I349b8bf79eeeaa4ddde1c17b7014603913f184cf",
        "cmtr": "Juan Antonio Osorio Robles",
        "date": "2017-08-01 08:39:33+03:00",
        "files": ["pacemaker.pp", "Use-encryption-for-pacemaker-by-default-ca887dca02a21705.yaml"]
      },
      {
        "hash": "a9695bd47038776ee4e38c584b593551c1f64250",
        "msg": "Ensure directory exists for certificates for haproxy\n\nWe used to rely on a standard directory for the certificates and keys\nthat are requested by certmonger. However, given the approach we plan to\ntake for containers that's described in the blueprint, we need to use\nservice-specific directories for the certs/keys, since we plan to\nbind-mount these into the containers, and we don't want to bind mount\nany keys/certs from other services.\n\nThus, we start by creating this directories if they don't exist in the\nfilesystem and adding the proper selinux labels.\n\nbp tls-via-certmonger-containers\n\nChange-Id: Iba3adb9464a755e67c6f87d1233b3affa8be565a",
        "cmtr": "Juan Antonio Osorio Robles",
        "date": "2017-08-02 11:13:00+03:00",
        "files": ["haproxy.pp", "haproxy_dirs.pp", "certmonger_user.pp"]
      },
      {
        "hash": "1b82fe40fe53572703854fcdbeda72cdf148e9c1",
        "msg": "Use normal socket file permissions instead of polkit\n\nThe default (on RHEL/CentOS) is to use polkit but this is only useful\nfor GUI support or for fine grained API access control.  As we don't\nrequire either we can achieve identical control using plain old unix\nfilesystem permissions.\n\nI've merged Sven's changes from https://review.openstack.org/484979\nand https://review.openstack.org/487150.\n\nAs we need to be careful with the libvirtd option quoting I think it's\nbest to do this in puppet-tripleo instead of t-h-t yaml.\n\nThe option to override the settings from t-h-t remains.\n\nCo-Authored-By: Sven Anderson <sven@redhat.com>\n\nReverts I91be1f1eacf8eed9017bbfef393ee2d66771e8d6\n\nCloses-bug: 1696504\n\nChange-Id: I507bdd8e3a461091562177403a2a55fcaf6694d2\nDepends-On: I17f6c9b5a6e2120a53bae296042ece492210597a",
        "cmtr": "Emilien Macchi",
        "date": "2017-08-02 18:08:38+00:00",
        "files": ["docker.pp", "libvirt.pp", "tripleo_profile_base_docker_spec.rb", "tripleo_profile_base_nova_libvirt_spec.rb"]
      },
      {
        "hash": "7d13151a4465a951bbf50e14babe4ff720b3f2a7",
        "msg": "Configure dockerd with --iptables=false\n\nThis change defaults --iptables=false for dockerd to avoid\nhaving Docker create its own FORWARD iptables rules. These\nrules can interact with normal OS networking rules and disable\ncommunications between hosts on reboot.\n\nChange-Id: I875fa14f7d810c7f0aba3b3a1b04b60a19470f0f\nCloses-bug: #1708279",
        "cmtr": "Martin Andr",
        "date": "2017-08-03 09:12:09+02:00",
        "files": ["docker.pp", "tripleo_profile_base_docker_spec.rb"]
      },
      {
        "hash": "54532632aad311768b224bd92f42cf60dce84705",
        "msg": "Enable innodb_buffer_pool_size configuration\n\nAdds a hiera-enabled setting for mysql.pp to\nallow configuration of innodb_buffer_pool_size, a key\nconfigurational element for MySQL performance tuning.\n\nChange-Id: Iabdcb6f76510becb98cba35c95db550ffce44ff3\nCloses-bug: #1704978",
        "cmtr": "Mike Bayer",
        "date": "2017-08-03 12:03:21-04:00",
        "files": ["mysql.pp", "innodb_buffer_pool_size-6fa946cf008a4606.yaml"]
      },
      {
        "hash": "07f9fa69fa145298a2b33bfed5481b5faccf3544",
        "msg": "Enable TLS configuration for containerized Galera\n\nIn non-containerized deployments, Galera can be configured to use TLS\nfor gcomm group communication when enable_internal_tls is set to true.\n\nFix the creation of the mysql bundle resource to enable TLS when\nconfigured. The key and cert are passed as other configuration files\nand must be copied by Kolla at container startup.\n\nChange-Id: If845baa7b0a437c28148c817b7f94d540ca15814\nPartial-Bug: #1708135",
        "cmtr": "Damien Ciabrini",
        "date": "2017-08-06 09:47:57+00:00",
        "files": ["mysql_bundle.pp"]
      },
      {
        "hash": "7586c580793c555a302129acaf82965bf612ef32",
        "msg": "Run online_data_migrations for Ironic on upgrade\n\nThis only enables correct offline upgrade for now, proper rolling\nupgrade support will follow in the Queens release.\n\nChange-Id: Iebbd0c6dfc704ba2e0b5176d607354dd31f13a0d\nDepends-On: I548c80cf138b661ba3a5e45a6dfe8711f3322ed0\nPartial-Bug: #1708149",
        "cmtr": "Dmitry Tantsur",
        "date": "2017-08-07 15:53:34+02:00",
        "files": ["ironic.pp"]
      },
      {
        "hash": "86a3261b4d08e2d8f8393b73ae3d481b8ac736fd",
        "msg": "Enable TLS configuration for containerized RabbitMQ\n\nIn non-containerized deployments, RabbitMQ can be configured to use TLS for\nserving and mirroring traffic.\n\nFix the creation of the rabbitmq bundle resource to enable TLS when configured.\nThe key and cert are passed as other configuration files and must be copied by\nKolla at container startup.\n\nChange-Id: Ia64d79462de7012e5bceebf0ffe478a1cccdd6c9\nPartial-Bug: #1709558",
        "cmtr": "Damien Ciabrini",
        "date": "2017-08-09 07:51:58+00:00",
        "files": ["rabbitmq_bundle.pp"]
      },
      {
        "hash": "1f695f183ae114650d222ab7434bdeb2587a82aa",
        "msg": "Enable TLS configuration for containerized HAProxy\n\nIn non-containerized deployments, HAProxy can be configured to use TLS\nfor proxying internal services.\n\nFix the creation of the of the haproxy bundle resource to enable TLS\nwhen configured. The keys and certs files, as well as the crl file are\nall passed as configuration files and must be copied by Kolla at\ncontainer startup.\n\nChange-Id: I4b72739446c63f0f0ac9f859314a4d6746e20255\nPartial-Bug: #1709563",
        "cmtr": "Damien Ciabrini",
        "date": "2017-08-09 22:05:21+00:00",
        "files": ["haproxy_bundle.pp"]
      },
      {
        "hash": "4b2533863244ff1c667354364557a1f9c554d2f9",
        "msg": "Do not include manila ceph key resource twice\n\nWhen mds creates manila key [1], then manila manifest needs to check\nfirst if this resource already exists otherwise puppet fails.\n\n[1] I6308a317ffe0af244396aba5197c85e273e69f68\n\nChange-Id: I3f18bbe476c4f43fa4e162cc66c5df443122cd0c",
        "cmtr": "Jan Provaznik",
        "date": "2017-08-10 17:38:57+02:00",
        "files": ["manila.pp"]
      },
      {
        "hash": "040411c2a4f8b1fbd1e4a5598e5ea0e6a4306e06",
        "msg": "Modify resource dependencies of certmonger_user resources\n\nIn a containerized environment the haproxy class might not be defined,\nso this was made optional. On the other hand, this also retrieves the\nCRL before any certmonger_certificate resources are created.\n\nbp tls-via-certmonger-containers\nChange-Id: I2078da7757ff3af1d05d36315fcebd54bb4ca3ec",
        "cmtr": "Juan Antonio Osorio Robles",
        "date": "2017-08-11 04:06:14+00:00",
        "files": ["haproxy.pp", "certmonger_user.pp"]
      },
      {
        "hash": "c7b87f0d1b8f21a1a114afab66a1b31108135f31",
        "msg": "HAProxy: Set listen options for internal services too\n\nThis was missed from a previous commit, as described in the bug report.\nWe need to set this variable in this case as well, else it will use the\nundefined variable, thus ignoring anything that the user had set.\n\nChange-Id: I6810e7bb3eed16a6478974ac759c3f720a41120a\nCloses-Bug: #1709332",
        "cmtr": "Juan Antonio Osorio Robles",
        "date": "2017-08-11 04:23:43+00:00",
        "files": ["endpoint.pp"]
      },
      {
        "hash": "897d594633210379f32f234854dde687a7a77f8c",
        "msg": "Do not create fs and server side key from manila\n\nBoth fs and key are handled by ceph-ansible, move fs and key\ncreation out of manila manifest to assure that it works with and\nwithout ceph-ansbile.\n\nClient-side manila key is created from ceph-mds and ceph-external\ntemplates in I6308a317ffe0af244396aba5197c85e273e69f68.\n\nDepends-On: I6308a317ffe0af244396aba5197c85e273e69f68\nPartially-Implements: blueprint nfs-ganesha\nChange-Id: I2b5567a39ac8737e80758b705818cc1807dc8bf1",
        "cmtr": "Jan Provaznik",
        "date": "2017-08-11 12:48:32+02:00",
        "files": ["mds.pp", "manila.pp"]
      },
      {
        "hash": "fd363513b68d8e19bf24be4824d11c618ea550c7",
        "msg": "Support for Dell EMC VMAX ISCSI Cinder Driver\n\nThis changes adds Dell EMC VMAX ISCSI backend as composable service\nand matches the tripleo-heat-templates.\n\nChange-Id: Ifc169c60994856e382b76b72e020624ca64eef9f\nImplements: blueprint dellemc-vmax-isci",
        "cmtr": "rajinir",
        "date": "2017-08-14 10:06:49-05:00",
        "files": ["volume.pp", "dellemc_vmax_iscsi.pp", "tripleo_profile_base_cinder_vmax_spec.rb"]
      },
      {
        "hash": "15006764245e0e90ae1951df8543a60db84f9ef9",
        "msg": "Support for Dell EMC VMAX Manila Driver\n\nThis changes adds Dell EMC VMAX backend as composable service\nand matches the tripleo-heat-templates.\n\nChange-Id: I6e3b4ed6477c7ee56aef4e9849893229ca648c85\nImplements: blueprint dellemc-vmax-manila",
        "cmtr": "rajinir",
        "date": "2017-08-14 10:13:04-05:00",
        "files": ["api.pp", "manila.pp", "unity_driver_aaa347d073cd11e7.yaml"]
      },
      {
        "hash": "3a5eb08d58e843e50b06309a1d3ff5bb6e42424f",
        "msg": "Use rabbitmq ipv6 flag\n\nThe internal details of enabling IPv6 have moved upstream[1], so just\nset the ipv6 flag when desired and don't worry about the details\nanymore!\n\n[1] https://github.com/puppetlabs/puppetlabs-rabbitmq/pull/552\n\nCloses-Bug: #1710658\n\nChange-Id: Ib22507c4d02f0fae5c0189ab7e040efac3df7e2f",
        "cmtr": "Michele Baldessari",
        "date": "2017-08-14 17:25:10+02:00",
        "files": ["rabbitmq.pp"]
      },
      {
        "hash": "5222b8d920d5b5b2e87004c10808b6bea597720a",
        "msg": "Remove extra keystone admin haproxy listen and allow TLS\n\nThe current code exposes an unused public listen directive in HAProxy\nfor the keystone admin endpoint. This is not ideal and should be\nremoved, as it exposes the service unnecessarily. We should stick to\njust exposing it to the ctlplane network as is the default.\n\nIf folks really need to expose it to the public network, they can do so\nby modifying the ServiceNetMap through t-h-t and setting the keystone\nadmin endpoint's network to external.\n\nNow, for \"single\" or \"internal\" haproxy endpoints, this adds the ability\nto detect if they're using the external network, and thus use TLS on it.\nWhich is something a deployer would want if they exposed the keystone\nadmin endpoint in such a way.\n\nChange-Id: I79563f62fd49a4f7654779157ebda3c239d6dd22\nCloses-Bug: #1710909\nCloses-Bug: #1639996",
        "cmtr": "Juan Antonio Osorio Robles",
        "date": "2017-08-16 08:07:00+03:00",
        "files": ["haproxy.pp", "endpoint.pp"]
      },
      {
        "hash": "70987c80c1212e0ad50c4a7600cbf1665f673cc2",
        "msg": "Add logrotate-crond configuration\n\nGenerate a cron job and a config for logrotate\nto be run against containerized services logs.\n\nRelated-bug: #1700912\n\nChange-Id: Ib9d5d8ca236296179182613e1ff625deea168614\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>",
        "cmtr": "Bogdan Dobrelya",
        "date": "2017-08-16 09:42:54+02:00",
        "files": ["logrotate.pp", "tripleo_profile_base_logging_logrotate_spec.rb", "containers_logrotate.conf.erb"]
      },
      {
        "hash": "a91f55479b4458a3f6256c0ffc376aa00b1e034b",
        "msg": "Add OVN DBs bundle support for pacemaker HA\n\nIt uses the control-port 3125.\n\nPartial-bug: #1699085\nChange-Id: I4787321e10cc35beeb5ec3f585dafb2268ea4f21",
        "cmtr": "Numan Siddique",
        "date": "2017-08-16 18:57:19+05:18",
        "files": ["ovn_dbs_bundle.pp"]
      },
      {
        "hash": "6b0c04a4720036828ffc5e8ea690fdeddc1a77fb",
        "msg": "Move barbican's database creation to mysql profile\n\nThis makes sure that the database creation is only executed on the mysql\nprofile (or container if that's enabled), and stops the conflicts and\nerrors that were happening when barbican was deployed in containerized\nenvironments.\n\nChange-Id: Ib5c99482f62397fc5fb79a9dc537dfb06ee7f4df\nCloses-Bug: #1710928",
        "cmtr": "Emilien Macchi",
        "date": "2017-08-17 05:24:49+00:00",
        "files": ["api.pp", "mysql.pp", "tripleo_profile_base_barbican_api_spec.rb"]
      },
      {
        "hash": "3959f24862c9e9a0eba51d0a41f3178a9f65be4c",
        "msg": "Create separate resource for HAProxy horizon endpoint\n\nThis removes clutter from the main haproxy manifest and allows TLS in\nthe internal network as well. Trying to keep the previous behavior.\n\nbp tls-via-certmonger-containers\nChange-Id: I1a68771cc7be7fb2b32abbad81db7890bd2c5502",
        "cmtr": "Juan Antonio Osorio Robles",
        "date": "2017-08-17 13:29:03+00:00",
        "files": ["haproxy.pp", "horizon_endpoint.pp"]
      },
      {
        "hash": "56969862adacc1a5282e7055791ea29604039922",
        "msg": "Enable TLS in the internal network for horizon\n\nThis enables the usage of TLS by the apache vhost that hosts horizon.\n\nbp tls-via-certmonger\n\nChange-Id: I7f2e11eb60c7b075e8a59f28682ecc50eeb95c3e",
        "cmtr": "Juan Antonio Osorio Robles",
        "date": "2017-08-17 13:29:07+00:00",
        "files": ["horizon.pp"]
      },
      {
        "hash": "8c39646bc2822181bd2f60aa9ae5fffef496698e",
        "msg": "Allow configuring multiple insecure registries\n\nIf we're using local registries, we may want to use different\nregistries e.g. for Ceph and for OpenStack. We allow multiple\nregistries in general for this purpose, and we should also allow it in\nthe insecure registry configuration.\n\nChange-Id: I5cddd20a123a85516577bde1b793a30d43171285\nRelated-Bug: #1709310",
        "cmtr": "Jiri Stransky",
        "date": "2017-08-17 16:55:50+02:00",
        "files": ["docker.pp", "tripleo_profile_base_docker_spec.rb"]
      },
      {
        "hash": "264f22835a51893b5308bb2ade043c201d18c49b",
        "msg": "Add TLS for nova metadata service\n\nThis adds a TLS proxy in front of it so it serves TLS in the internal\nnetwork.\n\nbp tls-via-certmonger\n\nChange-Id: I97ac2da29be468c75713fe2fae7e6d84cae8f67c",
        "cmtr": "Juan Antonio Osorio Robles",
        "date": "2017-08-17 17:29:32+00:00",
        "files": ["haproxy.pp", "api.pp"]
      },
      {
        "hash": "095d130f9dbadb698c2c349819e754a907455ee0",
        "msg": "Certmonger: Make postsave command configurable\n\nWe need to make it configurable since these commands don't apply for\ncontainerized environments. This way we can restart containers or\ndisable restarting and rely on other means.\n\nThis stems from the issue that some services get accidentally started by\ncertmonger on containerized environments, which makes the container\ninitialization fail.\n\nbp tls-via-certmonger-containers\n\nChange-Id: I62ff89362cfcc80e6e62fad09110918c36802813",
        "cmtr": "Emilien Macchi",
        "date": "2017-08-18 18:59:35+00:00",
        "files": ["haproxy.pp", "httpd.pp", "mongodb.pp", "mysql.pp", "rabbitmq.pp", "certmonger_user.pp"]
      },
      {
        "hash": "ab48d3a438845f1fe7a862cb1396963e7ca754e2",
        "msg": "Add -s (silent) to curl command for CRL refresh\n\nWithout it, it doesn't reload the services it should.\n\nChange-Id: I43e6188700deb585f905ca700e69b6875f0ded45\nCloses-Bug: #1712404",
        "cmtr": "Juan Antonio Osorio Robles",
        "date": "2017-08-22 21:07:38+03:00",
        "files": ["crl.pp", "tripleo_certmonger_ca_crl_spec.rb"]
      },
      {
        "hash": "351ab932514f13d7a139b0b41fdc4f6f7e990c8f",
        "msg": "Certmonger: Only attempt to reload haproxy is it's active\n\nPreviously, certmonger tried to reload haproxy every time after a\ncertificate is requested. This is useful for certificate resubmits or\nrenewals. However, it turned out problematic on installation, when\nhaproxy is not yet active, as it would try many times and end up having\na race-condition with puppet.\n\nThis checks if haproxy is active and only then will it attempt to reload\nit.\n\nChange-Id: I51f9cccb5d1518a9647778e7bf6f9426a02ceb60\nCloses-Bug: #1712377",
        "cmtr": "Juan Antonio Osorio Robles",
        "date": "2017-08-23 09:01:53+03:00",
        "files": ["haproxy.pp"]
      },
      {
        "hash": "e1791a37d557b14bb8f833363cabe5c98e151548",
        "msg": "HAProxy: Make certmonger bundle the cert and key on renewal\n\nthe postsave command is ran by certmonger when a certificate is\nrequested (which will happen on certificate renewal). The previous\ncommand given didn't take into account the file that haproxy expects,\nwhich is a bundled PEM file with both the certificate and the key. Thus,\ncertmonger would have never generated a new bundle that haproxy would\nuse, resulting in haproxy always having an old bundle after certificate\nexpiration.\n\nThis fixes that.\n\nChange-Id: Idb650d35f56abaf6a17e17794a068dd5933e6a62\nCloses-Bug: #1712514",
        "cmtr": "Juan Antonio Osorio Robles",
        "date": "2017-08-23 15:13:19+03:00",
        "files": ["haproxy.pp"]
      },
      {
        "hash": "5064677dda8e4f140df6d024089e95afe11a91f1",
        "msg": "Fix panko port to match tht\n\nIn templates we use 13977 as the port for panko. The\nold 13779 is reserved for trove so it conflicts.\n\nCloses-bug: #1712566\n\nChange-Id: I77444199eef6c2b9abbd819829b4fea2d698e2db",
        "cmtr": "Pradeep Kilambi",
        "date": "2017-08-23 12:55:21+00:00",
        "files": ["haproxy.pp"]
      },
      {
        "hash": "17396dcea8c8597e20f19b1f5867cb67554133ce",
        "msg": "Use resource collector for the fencing -> stonith ordering\n\nChange Ifef08033043a4cc90a6261e962d2fdecdf275650 moved the stonith\nproperty definition to the pacemaker_master node. This means that the\nClass['tripleo::fencing'] -> Class['pacemaker::stonith'] ordering\nbreaks on non-boostrap pacemaker nodes because the pacemaker::stonith\nproperty is not defined there any longer.\n\nLet's fix this by simply using a resource collector and set the ordering\non that instead of adding yet anoth if statement. Ordering on\nenablement of stonith is actually more correct formally.\n\nTested this on a broken setup successfully.\n\nCloses-Bug: #1712605\nChange-Id: I616d340bdf75da9d9eb8b83b2e804dff3d07d58e",
        "cmtr": "Michele Baldessari",
        "date": "2017-08-23 17:55:09+02:00",
        "files": ["pacemaker.pp"]
      },
      {
        "hash": "93ae3c95955e0c66550d3cf50f3d1b8715a935e5",
        "msg": "HAproxy should get full response from ironic-inspector\n\nIronic-inspector spams the logs with errors if we don't get full\nresponse. If ironic-inspector answers something with 200 it should\nbe fine.\n\nChange-Id: I464cdd139fb93ce7cd19fc5ac5960f302ae1a9f4\nCloses-Bug: #1691971\nResolves: rhbz#1477663",
        "cmtr": "Lukas Bezdicka",
        "date": "2017-08-24 00:15:03+02:00",
        "files": ["haproxy.pp"]
      },
      {
        "hash": "139ac85028947f476a085e89bd54f3dfacd886cf",
        "msg": "Add /bin to PATH for CRL cronjob\n\nChecking the root's mail (/var/mail/root) I finally saw the root cause\nof the CRL cronjob not working.\n\n/bin/sh: curl: command not found\n\nnow, curl, (and most commands used by that cronjob) is in the /bin bash,\nso we need to add it to the environment's PATH for the cronjob.\n\nChange-Id: If10855b801782eeaf2006cd57071d74d13daf8c2\nCloses-Bug: #1712404",
        "cmtr": "Juan Antonio Osorio Robles",
        "date": "2017-08-24 09:25:33+03:00",
        "files": ["crl.pp"]
      },
      {
        "hash": "347aa4a4f255372201affc3dc6c7e409ca7e76b8",
        "msg": "TLS-everywhere/libvirt: Make postsave command configurable\n\nThis is requires for when libvirt is running over a container, since\nwe shouldn't try to restart the libvirt process, but the container\nitself.\n\nbp tls-via-certmonger-containers\n\nChange-Id: I26a7748b37059ea37f460d8c70ef684cc41b16d3",
        "cmtr": "Juan Antonio Osorio Robles",
        "date": "2017-08-24 12:30:08+00:00",
        "files": ["libvirt.pp", "certmonger_user.pp"]
      },
      {
        "hash": "44b90c9a79146139cbcbe7f560bd1df667cca780",
        "msg": "Enable config for docker daemon debug\n\nExposes a way to configure the docker daemon with debug enabled.\n\nChange-Id: I654a70c8bb7753679be83d78ca653ed44c3a7395\nRelated-Bug: #1710533",
        "cmtr": "Alex Schultz",
        "date": "2017-08-24 14:32:35-06:00",
        "files": ["docker.pp", "tripleo_profile_base_docker_spec.rb"]
      },
      {
        "hash": "f85199c77826017e383534051ada57ef1ea4ddcc",
        "msg": "Add manifests to install and configure stunnel\n\nSome services (such as Redis) can't use mod_proxy as a TLS proxy,\nsince they're not HTTP services. So stunnel is necessary for these.\n\nThus, we add manifests to configure it as such.\n\nbp tls-via-certmonger\n\nChange-Id: Ic4a2dac7b3831e4780105e3b05e9c5afcf15c79c",
        "cmtr": "Juan Antonio Osorio Robles",
        "date": "2017-08-25 10:11:08+00:00",
        "files": ["stunnel.service", "stunnel.pp", "service_proxy.pp", "systemd_unit.pp", "foreground.erb", "service.erb"]
      },
      {
        "hash": "1e133f31466bf17df66b0f552a2ce5b3b056e666",
        "msg": "Repair immediate VF configuration for PCI SR-IOV\n\nChange I71edc135432ab2193741c37ce977dd11172401e6 broke the host VF\nconfiguration that set VF counts when the puppet is applied. This patch\nre-adds the ensure => present property required for proper behavior.\n\nChange-Id: Ibd18c4f3b7f0d8cee330f94f87e7ad4ea7ceeffb\nCloses-Bug: #1712903",
        "cmtr": "Brent Eagles",
        "date": "2017-08-25 18:29:33-02:18",
        "files": ["sriov.pp", "tripleo_host_sriov_spec.rb"]
      },
      {
        "hash": "75ee7f12f165d4ef6e47600d8c0ec93dff3b610d",
        "msg": "Support for Dell EMC Isilon Manila Driver\n\nThis changes adds Dell EMC Isilon backend as composable service\nand matches the tripleo-heat-templates.\n\nChange-Id: I30f6b4c4ebe0a708a5eb34cd016544f4d2b9c2bb\nImplements: blueprint dellemc-isilon-manila",
        "cmtr": "Emilien Macchi",
        "date": "2017-08-26 04:54:18+00:00",
        "files": ["api.pp", "manila.pp", "isilon_driver_bfa347d073cd11e7.yaml"]
      },
      {
        "hash": "2f93b4fc3aa63d99b7dcb0302e9ee48bda1f4282",
        "msg": "Support for Dell EMC Unity Manila Driver\n\nThis changes adds Dell EMC Unity backend as composable service\nand matches the tripleo-heat-templates.\n\nChange-Id: I0df1e16db89cd53e4f16cd08ccb975d8e7e9a470\nImplements: blueprint dellemc-unity-manila",
        "cmtr": "Emilien Macchi",
        "date": "2017-08-26 04:54:24+00:00",
        "files": ["api.pp", "manila.pp", "unity_driver_afa347d073cd11e7.yaml"]
      },
      {
        "hash": "b18ae72c6aaad9eb98d7e4490a6572441f63b9a1",
        "msg": "Add /etc/ceph into pacemaker bundles\n\nWe missed to mount the Ceph config files into the docker/pacemaker\nprofiles.\n\nChange-Id: I23b6890b4cf7f1e6fe84b6be280dde82218275fc\nCloses-Bug: #1713421",
        "cmtr": "Giulio Fidente",
        "date": "2017-08-28 11:13:08+00:00",
        "files": ["backup_bundle.pp", "volume_bundle.pp", "share_bundle.pp"]
      },
      {
        "hash": "f27c45a0925546f3b9627fce7d223a1bba140ce0",
        "msg": "Change references from nsx_v3 to nsx\n\nThis patch changes references from nsx_v3 to nsx since the nsx_v3 functionality\nis the only one supported at this time.\n\nChange-Id: Id73f675844b0df2eafa45507d1c28f16cd0b15b2\nCloses-Bug: #1713191",
        "cmtr": "Jay Jahns",
        "date": "2017-08-28 12:38:41-07:00",
        "files": ["nsx.pp"]
      },
      {
        "hash": "eca5b4dfb22a9e9476cd835d2e211def4c9bd5c9",
        "msg": "Support for Dell EMC VNX Manila Driver\n\nThis changes adds Dell EMC VNX backend as composable service\nand matches the tripleo-heat-templates.\n\nChange-Id: Iab80dc636913610704e1ceb2642ce738b68bb827\nImplements: blueprint support-dellemc-vnx-manila",
        "cmtr": "Emilien Macchi",
        "date": "2017-08-30 16:14:10+00:00",
        "files": ["api.pp", "manila.pp", "vnx_driver_aea44d073cd161e7.yaml"]
      },
      {
        "hash": "2d1d7875aa6f0b68005c84189627bc0716a7693f",
        "msg": "Use TLS proxy for Redis' internal TLS\n\nThis uses the tls_proxy resource in front of the Redis server when\ninternal TLS is enabled.\n\nbp tls-via-certmonger\n\nCo-Authored-By: Juan Antonio Osorio Robles <jaosorior@redhat.com>\nChange-Id: Ia50933da9e59268b17f56db34d01dcc6b6c38147",
        "cmtr": "Juan Antonio Osorio Robles",
        "date": "2017-08-31 05:27:55+00:00",
        "files": ["redis.pp", "haproxy.pp", "evaluator.pp", "central.pp", "polling.pp", "certmonger_user.pp", "redis.pp", "api.pp", "redis.pp"]
      },
      {
        "hash": "52404b85dc140d9ddc4605365454df0e052ee2cb",
        "msg": "Enable TLS for rabbitmq's replication traffic\n\nThis follows the RabbitMQ docs [1] for enabling TLS for the replication\ntraffic. It reuses the certificate that rabbitmq already has.\n\nUnfortunately, pacemaker uses the shortname for the rabbitmq nodes, so\nwe are not able to do proper verification of the certificates, since we\ncan't allocate a certificate for shortnames. So, until pacemaker can\ntrack the rabbit nodes through their FQDNs, we don't set any verification\noptions.\n\n[1] https://www.rabbitmq.com/clustering-ssl.html\n\nDepends on: https://github.com/voxpupuli/puppet-rabbitmq/pull/574\n\nbp tls-via-certmonger\nCo-Authored-By: Alex Schultz <aschultz@redhat.com>\nChange-Id: I265c89cb8898a6da78a606664a22c50f5e57a847",
        "cmtr": "Juan Antonio Osorio Robles",
        "date": "2017-08-31 07:12:05+00:00",
        "files": ["rabbitmq.pp"]
      },
      {
        "hash": "34c4b7211ac086becbdf8aaf3172086ff5ba7594",
        "msg": "Allow using redis as a Zaqar messaging backend.\n\nChange-Id: I66ab40f8f993fbf4c3c9b1ded56de1f7a1a26c0c",
        "cmtr": "Thomas Herve",
        "date": "2017-08-31 11:46:49+02:00",
        "files": ["zaqar.pp", "zaqar-redis-5ff1028b66fd47a8.yaml"]
      },
      {
        "hash": "bc6a526f91c156e1cecfb9226ae3686102e655d4",
        "msg": "Fix enabling zaqar keystone endpoint and MySQL database\n\nThe zaqar service name switched to zaqar-api[1], so the hieradata key\nis zaqar_api_enabled now instead of zaqar_enabled.\n\n[1] I9b451eac4427a52ad8eec62ff89acc6c6d3ab799\n\nCloses-Bug: #1714213\nChange-Id: I692658337e7afc9d0a99b245f8b0b4f76a076bc4",
        "cmtr": "Juan Antonio Osorio Robles",
        "date": "2017-08-31 10:00:08+00:00",
        "files": ["mysql.pp", "keystone.pp"]
      },
      {
        "hash": "46537e0c4b5486688592a3f71edbd2f7e8a7bf20",
        "msg": "Retry Swift ring up-/downloads on failures\n\nThe current way never retries up- or downloading the rings from the\nundercloud. This is risky, for example when there are temporary network\nissues.\n\nThis patch adds retries to the curl commands. It does so in two ways:\n\n1. curl retries up to 3 times if there is an HTTP error. This could\nhappen for example if the proxy is accessible, but the proxy itself\ncan't connect to a backend server. Note that curl returns an exit code\nof 0 if there is an HTTP error, so curl itself needs to retry in this\ncase.\n\n2. If curl fails hard (for example due to an network error, proxy being\ndown etc) the whole command will be re-executed up to 3 times by Puppet\nitself. The default timeout has been set to 30 seconds instead of the\ndefault timeout of 300 seconds.\n\nChange-Id: I21f732c1afa9d472f4a2fb840b6ddad9b8d65d07",
        "cmtr": "Christian Schwede",
        "date": "2017-09-01 11:05:11+02:00",
        "files": ["ringbuilder.pp", "swift-ring-curl-retry-1c329d1808b7f02c.yaml"]
      },
      {
        "hash": "7327cc88246abe6473b7b29703af408adeccc88d",
        "msg": "Move manila backend configuration from pacemaker to base\n\nThere is no reason to keep backend configuration in pacemaker-specific\nmanifest. This configuration is used no matter whether pacemaker is\nused or not.\n\nChange-Id: I63b53d230372a323db1d35a3774283ad2e29fbb1\nCloses-Bug: #1714310",
        "cmtr": "Jan Provaznik",
        "date": "2017-09-01 11:37:20+02:00",
        "files": ["share.pp", "manila.pp"]
      },
      {
        "hash": "05a413c34fa1266d38bf991a1f5ed2795631f0b7",
        "msg": "Support for Ocata-Pike live-migration over ssh\n\nIn Ocata all live-migration over ssh is performed on the default ssh port (22).\nIn Pike the containerized live-migration over ssh is on port 2022 as the\ndocker host's sshd is using port 22.\nTo allow live migration during upgrade we need to temporarily pin the Pike\ncomputes to port 22 and in the final converge we can switch over to port 2022.\n\nThis patch make the necessary puppet-tripleo change to allow this:\n - Adds support in sshd profile for listening on multiple ports.\n - Adds a profile to allow proxying to the containerized sshd from the\n   baremetal sshd\n\nChange-Id: I0b80b81711f683be539939e7d084365ff63546d3\nRelated-bug: 1714171",
        "cmtr": "Oliver Walsh",
        "date": "2017-09-07 12:19:46+01:00",
        "files": ["proxy.pp", "target.pp", "sshd.pp", "tripleo_profile_base_nova_migration_proxy_spec.rb", "tripleo_profile_base_nova_migration_target_spec.rb", "tripleo_profile_base_sshd_spec.rb"]
      },
      {
        "hash": "0c20211e866baa8d603316b1fda71e716c0084ef",
        "msg": "Remove erroneous octavia code related to sync_db\n\nThe octavia api manifest includes a conditional that appears to be\nrelated to database synchronization that can be removed as the this is\nhandled by passing the value of sync_db to the octavia puppet module.\n\nChange-Id: I1426b9066c7af76492c4ab75e421c4db9f8cc65f",
        "cmtr": "Brent Eagles",
        "date": "2017-09-11 15:33:32-02:18",
        "files": ["api.pp"]
      },
      {
        "hash": "8445e3bbdfe25668f099d386a43dccfd0dbb17c4",
        "msg": "Add networking-sfc support\n\nEnables configuration for Service Function Chaining plugin with neutron.\n\nImplements: blueprint networking-sfc-support\n\nCo-Authored-By: Tim Rozet <trozet@redhat.com>\nChange-Id: Icd433ddc6ae7de19a09f9e33b410a362c317138a\nDepends-On: I09ce12298caee6fb2194240f2e19b4771ab797b0",
        "cmtr": "Bernard Cafarelli",
        "date": "2017-09-12 11:25:51+02:00",
        "files": ["sfc.pp", "add-sfc-support-a1eb6d2bbadcf074.yaml"]
      },
      {
        "hash": "33479418eec7c1a18d57d755be47eca800b918a6",
        "msg": "Added new parameter for HAProxy configuration\n\nThis allow to set the socket access level to admin instead of default\n\"user\".\nThis \"admin\" access adds the capability to interact with HAproxy in\norder to manage its configuration, at least temporarly.\n\nThis changes keeps the default \"user\" access level, as \"admin\" might\nbreak things if misused.\n\nChange-Id: I1a4612b9f8aacc410b48a04dac3bf300bbb0e08e\nCloses-bug: #1716692",
        "cmtr": "Cdric Jeanneret",
        "date": "2017-09-12 18:38:19+02:00",
        "files": ["haproxy.pp"]
      },
      {
        "hash": "5158c7ab1669d9d3e8c8163be9fdfc9b3a3aea96",
        "msg": "Add a new configuration option for GUI loggers\n\nThis allows us to set up logging for the TripleO GUI.  By default, it enables\nthe 'console' and 'zaqar' loggers.\n\nChange-Id: Iafc874643c29e63ff670831fe80f6601c3051865\nCloses-Bug: #1716458",
        "cmtr": "Honza Pokorny",
        "date": "2017-09-18 08:19:43-03:00",
        "files": ["ui.pp", "tripleo_ui_config.js.erb"]
      },
      {
        "hash": "1ff0903a3950bc4adbc8c84b5153df6ca0fb6a3d",
        "msg": "Allow log path transformation in fluentd glue\n\nLogs in a containerized deployment are not in the same location as on\na baremetal deployment. This commit adds the $fluentd_path_transform\nparamter to the fluentd glue module. This is a regular expression that\nis used to transform log paths.  To use this feature, include in your\nhiera configuration something like:\n\n    tripleo::profile::base::logging::fluentd::fluentd_path_transform:\n      - /var/log/\n      - /var/log/containers/\n\nChange-Id: I585b6877074353b5de62e5efaabfbe62432c473d\nPartial-bug: #1716427",
        "cmtr": "Juan Antonio Osorio Robles",
        "date": "2017-09-19 11:30:10+03:00",
        "files": ["fluentd.pp"]
      },
      {
        "hash": "82668fd61841647ee9df92ad8707e47be1cc86ea",
        "msg": "Better support for redis in Zaqar\n\nAlign with other services and reuse the redis_vip hiera data instead of\npassing the URI. It also addes the zaqar_redis_password hiera.\n\nChange-Id: Ic73935b9b1740a254c81d7e692b7787563716684",
        "cmtr": "Thomas Herve",
        "date": "2017-09-22 15:59:20+02:00",
        "files": ["zaqar.pp"]
      },
      {
        "hash": "f08484480fd3964ad8753291c09a16b18bd83bfe",
        "msg": "Add support for multiple Cinder RBD backends\n\nAdd a parameter that allows the user to optionally specify a list of\nextra Ceph pools to be used as additional RBD backends for Cinder. A\nseparate RBD backend is created for each pool in the list.\n\nImplements: blueprint multiple-cinder-rbd-backend\nChange-Id: I3318b9eaef607d6992f9a8cb605817b6f76dd331",
        "cmtr": "Alan Bishop",
        "date": "2017-09-22 11:48:45-04:00",
        "files": ["volume.pp", "rbd.pp", "multiple-cinder-rbd-backend-ef2767baf771b741.yaml", "tripleo_profile_base_cinder_volume_rbd_spec.rb", "tripleo_profile_base_cinder_volume_spec.rb", "step5.yaml"]
      },
      {
        "hash": "228d7b456c6d5c4958c9add8f9021a83a4360510",
        "msg": "Disables port status updates with ODL in HA\n\nODL enables a feature by default to communicate port state to Neutron\nvia a websocket connection.  The current implementation does not work in\nHA, but does work with a noHA deployment.  Therefore this patch disables\nport status for HA deployments only until there is proper support.\n\nDepends-On: I7eb752ad692e5522051f8393376890fcac9a09fe\n\nCloses-Bug: 1718508\n\nChange-Id: I13b5b72285d3c70cdee4d81678470d52be385aaf\nSigned-off-by: Tim Rozet <trozet@redhat.com>",
        "cmtr": "Tim Rozet",
        "date": "2017-09-23 09:35:41-04:00",
        "files": ["opendaylight.pp", "disable-opendaylight-ha-port-status-0a97e10e6456661c.yaml"]
      },
      {
        "hash": "7de6d8d9f5687cdb7e1709a7e15e98184aa615f0",
        "msg": "Add new MySQL server option to mysql_bundle\n\nAdd innodb_flush_log_at_trx_commit from\nId5a30f1daf978e094a74db2d284febbc9ae64bb3\nto the container-specific mysql_bundle.pp\n\nNote that innodb_buffer_pool_size from\nIabdcb6f76510becb98cba35c95db550ffce44ff3 should already\nbe pulled at runtime from the base mysql.pp.\n\nChange-Id: Iba164ddcc9b24ee231fb224b03ad8e7c123d5418",
        "cmtr": "Mike Bayer",
        "date": "2017-09-25 17:30:17-04:00",
        "files": ["mysql_bundle.pp"]
      },
      {
        "hash": "6d0af7d024bb8a91691caa05eaa950b77691fffb",
        "msg": "Request appropriate EKU for haproxy certificate explictly\n\nThis is requested correctly by default when FreeIPA is used as a CA,\nhowever, for the local CA (self signed certificates) we need to set it\nexplicitly.\n\nChange-Id: Ie54d10fd4da45a73529a05e29aaa8eb19f986df3",
        "cmtr": "Juan Antonio Osorio Robles",
        "date": "2017-09-26 15:02:54+03:00",
        "files": ["haproxy.pp"]
      },
      {
        "hash": "6bcb011723ad7b75f18914c887dc4fa4bad4d620",
        "msg": "Set meta container-attribute-target=host attribute\n\nThis is needed because when we run bundles we actually\nwant to store attributes on a per-node basis and not on a per-bundle\nbasis. By activating this attribute pacemaker will pass\nsome extra OCS_RESKEY_CRM_meta attributes that will help us in this\ndecision.\n\nWe can merge this once we have packages for pacemaker and\nresource-agents releases that contain the necessary fixes.\n\nProper pacemaker and resource-agents are now in the repo [1] so\nwe can merge it and backport it to pike.\n\n[1] https://buildlogs.centos.org/centos/7/cloud/x86_64/openstack-pike/\n\nCloses-Bug: #1713007\n\nChange-Id: I0dd06e953b4c81f217d0f4199b2337e4c3358086",
        "cmtr": "Michele Baldessari",
        "date": "2017-09-28 14:05:21+02:00",
        "files": ["mysql_bundle.pp", "redis_bundle.pp", "ovn_dbs_bundle.pp", "rabbitmq_bundle.pp"]
      },
      {
        "hash": "c211ba78cabde54be2e3a6672f6e1d33d1d580f0",
        "msg": "Allow to configure snmpd_config\n\nExpose a new Puppet parameter to snmp profile, ``snmpd_config`` which\nis an array definded to undef by default.\nIt can be used to override all snmpd configuration for advanced\ndeployments.\nIf used, all parameters have to be configured included users and\npasswords, which should be the same as given to snmpd_password\nand snmpd_user. There is no logic that will verify the content\nof ``snmpd_config``.\n\nExample of hieradata which configures snmpd_config:\n  snmpd_config:\n    - 'createUser ro_snmp_user MD5 \"secrete\"',\n    - 'rouser ro_snmp_user'\n    - 'proc neutron-server'\n    - 'proc nova-api'\n\nDepends-On: I5c322b3f5350261b58ef065bd3ded0369cadbc4c\nChange-Id: Ief2518d5e47137215a34e9ae3b35c27c87fa6e08\nCloses-Bug: #1720868",
        "cmtr": "Emilien Macchi",
        "date": "2017-10-04 16:01:44+00:00",
        "files": ["Puppetfile_extras", "snmp.pp", "snmdd_config-db21f3175967be4a.yaml", "tripleo_profile_base_snmp_spec.rb"]
      },
      {
        "hash": "212c2b0a4adf9a22205efea417efc06d3bedfbfe",
        "msg": "ovn HA: Enable ip_nonlocal_bind sysctl flag\n\nIn the case of ovn HA, the ovsdb-server's running in the cluster\ntry to open a TCP socket on the VIP.\n\nChange-Id: I6f762534350a3f96696c87ccd2d14545dccc8a0b",
        "cmtr": "Numan Siddique",
        "date": "2017-10-05 12:46:04+05:18",
        "files": ["ovn_dbs_bundle.pp", "ovn_northd.pp"]
      },
      {
        "hash": "e62efd0782fd6521893102101daaa21f0cd8a275",
        "msg": "Allow to override HAProxy global options.\n\nYou can either append new options or override existing one.\n\nThis can be particularly useful in case you want to set your own log\noptions, for example.\n\nChange-Id: I19005b7e70e624d3b64b6c2ac8eaadfdec3944db\nCloses-Bug: 1721246",
        "cmtr": "Cdric Jeanneret",
        "date": "2017-10-06 08:35:24+02:00",
        "files": ["haproxy.pp", "haproxy_globals_override-7a573da1c8633f01.yaml"]
      },
      {
        "hash": "1681d3bceb2834e8788cc4456d65a76bcf4e1e55",
        "msg": "Revert \"Set meta container-attribute-target=host attribute\"\n\nThis patch broke the containers scenario004 test because it relies on a\nnewer mariadb container than has actually passed CI at this time.\n\nTo revert this revert, we need to make sure we test\nscenario004-containers against that patch.\n\nThis reverts commit 6bcb011723ad7b75f18914c887dc4fa4bad4d620.\n\nCloses-Bug: 1721497\n\nChange-Id: I34c7c388eed94db1735c45e26661a0af8cdce8e9",
        "cmtr": "John Trowbridge",
        "date": "2017-10-06 13:03:04+00:00",
        "files": ["mysql_bundle.pp", "redis_bundle.pp", "ovn_dbs_bundle.pp", "rabbitmq_bundle.pp"]
      },
      {
        "hash": "2471a8669d35f8b35ed00e9365623b37e335cd79",
        "msg": "Disables port status for all ODL deployments\n\nPort status was already disabled in HA deployments pending a fix for:\nhttps://bugs.opendaylight.org//show_bug.cgi?id=9147\n\nHowever even in noha deployments port status will not work because ODL\nis unable to bind to a specific IP for websocket, meaning it binds to\nall IPs and haproxy cannot bind the VIP.  Therefore we need to disable\nit for all deployments until also this bug is fixed:\nhttps://bugs.opendaylight.org//show_bug.cgi?id=9256\n\nRelated-Bug: 1718508\n\nChange-Id: I2f2dc3ece97c97fc8477d4129d69719866a7f0c1\nSigned-off-by: Tim Rozet <trozet@redhat.com>",
        "cmtr": "Tim Rozet",
        "date": "2017-10-08 14:17:44+00:00",
        "files": ["opendaylight.pp", "disable-odl-port-status-117c1d9c2f3235e9.yaml"]
      },
      {
        "hash": "7ff44712c1ffd11ce017887f93bd7bdaed2f58ca",
        "msg": "Add resource to create haproxy endpoints dynamically\n\nWith this resource we can add the values needed for haproxy via t-h-t,\ninstead of having everything in the haproxy manifest. Right now nothing\nis using it, but subsequent and per-service changes will come.\n\nChange-Id: I8ab49c0b8d8f42ce68c0c7fe3ef8067a7d0da3c0",
        "cmtr": "Cdric Jeanneret",
        "date": "2017-10-09 09:12:48+02:00",
        "files": ["haproxy.pp", "service_endpoints.pp", "haproxy_dynamic_endpoints-bf618ef45674bea4.yaml"]
      },
      {
        "hash": "edd7621f1db83d9b71ce3a168d2813880a660444",
        "msg": "Allow 'cinder' as a backend for Glance\n\nAllow 'cinder' as a valid Glance backend. This value is already supported\nby puppet-glance.\n\nChange-Id: I850047e32f3608b3ce490e52e2e540695cb1a4ff",
        "cmtr": "Alan Bishop",
        "date": "2017-10-10 13:02:37-04:00",
        "files": ["api.pp"]
      },
      {
        "hash": "fa750232d686ec96b3a07187999958b5bf26ac8e",
        "msg": "Fix libvirt exec deps for split-stack\n\nNeed to ensure libvirt is installed before the execs that depend on it.\n\nRelated bugzilla: https://bugzilla.redhat.com/show_bug.cgi?id=1500527\n\nChange-Id: I7ba62bb3e3a2e43bc57ed33f9b320c698b2c6ad5\nCloses-bug: 1723221",
        "cmtr": "Oliver Walsh",
        "date": "2017-10-12 19:58:04+01:00",
        "files": ["libvirt.pp"]
      },
      {
        "hash": "32ef340901027926ed3f77ae37d8e0d20e38e15d",
        "msg": "Make sure tuned package is installed before calling tuned-adm\n\nWith https://review.openstack.org/#/c/511509 we start erroring out\nproperly on puppet errors.  One of the jobs that is now failing is:\n\nhttp://logs.openstack.org/09/511509/7/check/legacy-tripleo-ci-centos-7-undercloud-containers/5d3fecc/logs/var/log/undercloud_install.txt.gz\n\nReason for this is that we include the tripleo::base::tuned profile which has:\n  exec { 'tuned-adm':\n    path => ['/bin', '/usr/bin', '/sbin', '/usr/sbin'],\n    command => \"tuned-adm profile ${profile}\",\n    unless => \"tuned-adm active | grep -q '${profile}'\"\n  }\n\nSo if the tuned package is not installed by other means we get:\n\"Error: /Stage[main]/Tripleo::Profile::Base::Tuned/Exec[tuned-adm]: Could not evaluate: Could not find command 'tuned-adm'\",\n\nLet's add the package here in the profile instead of installing it\nvia tripleo.sh, that way also a split stack deployment is covered.\n\nChange-Id: I130cdc59000e0c5e5fa7c542fbe6b782651a7eb7\nCloses-Bug: #1724518",
        "cmtr": "Michele Baldessari",
        "date": "2017-10-18 12:03:15+02:00",
        "files": ["tuned.pp"]
      },
      {
        "hash": "5eb571c4053f40d74aa5e6d136ab10c08094ddb9",
        "msg": "Add option to disable running mistral-api via wsgi\n\nThe tripleo container do not yet have the required packages to run\nmistral-api on top of apache so we're looking for a way to disable it.\n\nChange-Id: I54627f1c5a8867738a55bee42075bb6087830c61\nRelated-Bug: #1724607",
        "cmtr": "Martin Andr",
        "date": "2017-10-19 16:29:03+02:00",
        "files": ["api.pp"]
      },
      {
        "hash": "fe70c9e80d3892f6235ab2ac4e0c2190498a37d5",
        "msg": "Remove collector classes\n\nThis code has been removed upstream[1] and the puppet\nmodule[2] has been updated accordingly. the heat templates\n[3] have been removed as well.\n\n[1] https://review.openstack.org/#/c/504244/\n[2] https://review.openstack.org/512337\n[3] https://review.openstack.org/#/c/509645/\n\nChange-Id: I85ee06ff542c5d32ee08e987873d2db62130fb5f",
        "cmtr": "Pradeep Kilambi",
        "date": "2017-10-23 14:03:32+00:00",
        "files": ["collector.pp", "tripleo_profile_base_ceilometer_collector_spec.rb"]
      },
      {
        "hash": "4462260182b5b6a8922193aff3ff603bbb93cf00",
        "msg": "Make docker network configurable\n\nThe default docker0 address conflicts with the InternalApiNetCidr value\nset in environments/network-environment.yaml. We should provide a way\nto make the docker network configurable.\n\nChange-Id: Ie803b33c93b931f7fefb87b6833eb22fd59cd92d\nRelated-Bug: #1726773",
        "cmtr": "Martin Andr",
        "date": "2017-10-24 11:10:07+02:00",
        "files": ["docker.pp"]
      },
      {
        "hash": "3c5854367898e02a03918ce0d6505f303e99c296",
        "msg": "Revert \"Revert \"Set meta container-attribute-target=host attribute\"\"\n\nThis reverts commit 1681d3bceb2834e8788cc4456d65a76bcf4e1e55. \n\nNOTE: This needs to be tested against scenario004-containers before merging.\n\nThis is needed because when we run bundles we actually\nwant to store attributes on a per-node basis and not on a per-bundle\nbasis. By activating this attribute pacemaker will pass\nsome extra OCS_RESKEY_CRM_meta attributes that will help us in this\ndecision.\n\nWe can merge this once we have packages for pacemaker and\nresource-agents releases that contain the necessary fixes.\n\nProper pacemaker and resource-agents are now in the repo [1] so\nwe can merge it and backport it to pike.\n\n[1] https://buildlogs.centos.org/centos/7/cloud/x86_64/openstack-pike/\n\nCloses-Bug: #1713007\n\nChange-Id: Ie968470126833939c19223f04db29556e550673d",
        "cmtr": "Alex Schultz",
        "date": "2017-10-30 16:12:46+00:00",
        "files": ["mysql_bundle.pp", "redis_bundle.pp", "ovn_dbs_bundle.pp", "rabbitmq_bundle.pp"]
      },
      {
        "hash": "24a3e20eeda2efad0a6d61927ab0848bc8b625a8",
        "msg": "Add TLS for ec2api service\n\nThis adds a TLS proxy in front of it so it serves TLS in the\ninternal network.\n\nbp tls-via-certmonger\nChange-Id: I24d990eccf7affd5f3899338ac96d02d2d47460e",
        "cmtr": "Rajesh Tailor",
        "date": "2017-11-01 18:18:11+05:18",
        "files": ["haproxy.pp", "ec2api.pp"]
      },
      {
        "hash": "bbe7d9effe51324ef5fa75e40f9d0ca74544d484",
        "msg": "Make keystone notification topics configurable\n\nBy default keystone sends notifications to the 'notifications'\ntopic. This is consumed by default by ceilometer. However, when\nceilometer is not enabled, rabbitmq accumulates these notifications\nsince nothing is consuming them. This results in the queue consuming\nrabbitmq's memory.\n\nWith this capability, we can now dynamically configure notification\ntopics depending on the 'keystone_notification_topics' hiera key.\n\nRelated-Bug: #1729293\nChange-Id: I4dcce73446633c08ea37ba567610eec398094036",
        "cmtr": "Juan Antonio Osorio Robles",
        "date": "2017-11-01 13:47:03+00:00",
        "files": ["keystone.pp", "keystone-notification-topics-5b155e7b5e60b7fd.yaml"]
      },
      {
        "hash": "abd7a9486d8fb5cad7f6f0b48a466597f1d1bf71",
        "msg": "Certmonger: Only notify haproxy class if it's defined\n\nThe haproxy certmonger resource (which requests the HAProxy certs)\nexpected the haproxy puppet manifests to run alongside if we're using a\nlocal CA. This is no longer the case in containerized environments, e.g.\nthe containerized undercloud. This makes that optional.\n\nChange-Id: I2764ca1674dcd5ecd7886233bb5e9795ee697be3",
        "cmtr": "Juan Antonio Osorio Robles",
        "date": "2017-11-01 18:05:45+02:00",
        "files": ["haproxy.pp"]
      },
      {
        "hash": "ac09919726d0db1062e2ba655c145a9c58bb0912",
        "msg": "certmonger/HAProxy: don't use principal if CA is local\n\nusing a service principal with the local CA fails with certmonger.\n\nChange-Id: I25c7492a2982882f5ae9ac03af79b04e96fc7c31",
        "cmtr": "Juan Antonio Osorio Robles",
        "date": "2017-11-01 18:30:32+02:00",
        "files": ["haproxy.pp"]
      },
      {
        "hash": "186dfb7afc108dae480b6e842503fce736ee31af",
        "msg": "Rely on container setup for haproxy's certificate user and group\n\nIf we're on a containerized environment it might be that we don't have\nthe haproxy user and group (the containerized undercloud). So this sets\nit up the owner as root and relies on the containerized setup to fix the\npermissions instead. This way, we won't need to have the haproxy package\ninstalled in the host.\n\nChange-Id: If9a86e1e6b450fa4335e8c60aca512d7f4ca5894",
        "cmtr": "Juan Antonio Osorio Robles",
        "date": "2017-11-02 08:31:04+02:00",
        "files": ["haproxy.pp"]
      },
      {
        "hash": "9df7f1c85df56fa9de54bd45f53d1c16ea23c731",
        "msg": "Fix bind mounts for cinder-{backup,volume}\n\nThe container now expects to find configuration at these locations.\n\nChange-Id: Iea84a291414e515d8c72a60646188e5b37354a38\nRelated-Bug: #1729430",
        "cmtr": "Martin Andr",
        "date": "2017-11-02 13:25:26+01:00",
        "files": ["backup_bundle.pp", "volume_bundle.pp"]
      },
      {
        "hash": "103462e4536377258c4fc99bd99ff92551e31f82",
        "msg": "Add capability to configure simple-crypto backend for barbican\n\nThis introduces the ability to configure the simple crypto backend\nthrough a general backends manifest. This manifest will gather all the\nbackends and enable the relevant configurations depending on whether\nthey're enabled via t-h-t or not.\n\nChange-Id: I44391b91b01bc03c9773410152e117ec6bbba491",
        "cmtr": "Juan Antonio Osorio Robles",
        "date": "2017-11-03 08:51:32+02:00",
        "files": ["api.pp", "backends.pp"]
      },
      {
        "hash": "b8456e5cee400c207800637cf6cf0833708566a2",
        "msg": "Change haproxy check to tcpka for ec2_api\n\nEC2-API always returns HTTP code 400 if not properly authorized,\ntherefore httpchk is not working, since it's expecting an 200 OK.\nChanging to tcpka for now, until EC2-API implements a URL that is\nsuitable for healthchecks.\n\nChange-Id: Ic8ec8cdd4dc59e3768c06912ceb8a91b425b0a06",
        "cmtr": "Sven Anderson",
        "date": "2017-11-03 18:03:39+01:00",
        "files": ["haproxy.pp"]
      },
      {
        "hash": "9fb617eaea607bc3615edeaf4608fded55045ebd",
        "msg": "Galera: add support for encrypted SST\n\nWhen internal TLS is enabled, generate a galera config that enable\nencryption of SST rsync traffic.\n\nThe configuration relies on a new sst script wsrep_sst_rsync_tunnel,\nwhich encapsulates rsync traffic in a socat-based encrypted tunnel.\n\nChange-Id: I1d6ee8febb596b3ab9dcde3a85a028ee99b2798c\nDepends-On: Ia857350ac451fc1bda6659d85019962d3a9d5617\nCloses-Bug: #1719885",
        "cmtr": "Damien Ciabrini",
        "date": "2017-11-05 11:38:04+01:00",
        "files": ["mysql.pp", "mysql_bundle.pp"]
      },
      {
        "hash": "1b4f5d0ec610743f32ac1de0c918cf39fd104575",
        "msg": "Ensure sshd has proper configuration for its HostKey.\n\nSince DSA is deprecated, sshd doesn't generate it anymore, though it\nstill wants to load it at startup. Adding the HostKey options should\nprevent that, and allow to get cleaner logs in the CI (and on deployed\nopenstack as well ;).\n\nChange-Id: I5580fa86f8adef7d598b76836a0419b341a8bc9c\nCloses-Bug: 1730351",
        "cmtr": "Cdric Jeanneret",
        "date": "2017-11-06 11:01:13+01:00",
        "files": ["sshd.pp", "tripleo_profile_base_sshd_spec.rb"]
      },
      {
        "hash": "2366b5b2fe3bc97d11aa9c3a65660ff78a6dc6f7",
        "msg": "Unset MountFlags in docker.service systemd directives\n\nRequired to allow bind propegation options to be set on individual bind-mounts.\nSee https://github.com/moby/moby/issues/19625.\n\nAlso https://access.redhat.com/articles/2938171 for rational for using this\noption in RHEL/CentOS 7.3.\n\nChange-Id: I8a63c044e15d7ca0f54654e9fc9c5d878461aa25\nRelated-bug: 1730533",
        "cmtr": "Oliver Walsh",
        "date": "2017-11-07 00:43:32+00:00",
        "files": ["docker.pp", "tripleo_profile_base_docker_spec.rb"]
      },
      {
        "hash": "df9f68f2061ab5d2a6cb5a43817afd45b2936307",
        "msg": "Add TLS for ec2api metadata service\n\nThis adds a TLS proxy in front of it so it serves TLS in the\ninternal network.\n\nbp tls-via-certmonger\n\nChange-Id: Id7d487abb65cf17cd65626e582bf4ff950b4395c",
        "cmtr": "Rajesh Tailor",
        "date": "2017-11-08 11:33:47+05:18",
        "files": ["haproxy.pp", "ec2api.pp"]
      },
      {
        "hash": "a4d12e02a7a44116aa8c7a327e14a09522a54b57",
        "msg": "Set ACLs on ceph client keyrings\n\nThis patch will set file system ACLs on the ceph client keyring.\nThis will help resolve (1) for OSP Ocata and before\n\nChange-Id: I353b19a5a3f9a9af110587bd0996f08700335a44\nPartial-Bug: #1720787\n1: https://bugzilla.redhat.com/show_bug.cgi?id=1462657",
        "cmtr": "Keith Schincke",
        "date": "2017-11-08 22:21:54-05:00",
        "files": ["volume.pp", "api.pp", "api.pp", "share.pp", "compute_libvirt_shared.pp", "tripleo_profile_base_cinder_volume_spec.rb", "tripleo_profile_base_gnocchi_api_spec.rb"]
      },
      {
        "hash": "0933bc5fd896ac2474872bb1b4b217ad8f430885",
        "msg": "Create dedicated \"apache\" base profile\n\nThis profile has multiple purposes:\n- group common httpd configurations/instructions\n- correct a small issue with the \"status\" mod\n\nUntil now, only Horizon was specifically including this mode, and as\nhttpd wasn't listening on localhost, it wasn't in use at all.\n\nWith this commit, all API using apache will be able to provide the httpd\nserver status on 127.0.0.1/server-status.\n\nChange-Id: If6d64f807c244d7e56852a67ac7dbad26c4c002f\nCloses-Bug: 1724751",
        "cmtr": "Cdric Jeanneret",
        "date": "2017-11-10 09:17:07+01:00",
        "files": ["api.pp", "apache.pp", "api.pp", "api.pp", "api.pp", "api.pp", "api.pp", "api_cfn.pp", "api_cloudwatch.pp", "horizon.pp", "api.pp", "keystone.pp", "api.pp", "api.pp", "placement.pp", "api.pp", "zaqar.pp", "tripleo_profile_base_apache_spec.rb"]
      },
      {
        "hash": "f3dd32b7715e31091f3c6c4f32a7dda2aaa3151a",
        "msg": "Revert \"Set ACLs on ceph client keyrings\"\n\nThis reverts commit a4d12e02a7a44116aa8c7a327e14a09522a54b57.\n\nThere is a typo in the manilla relationship that causes failures.\nReverting for now to unblock scenario004. The typo should be fixed and\nresubmitted.\n\nChange-Id: I69f54418dd603e5819b9da483a04cea3b3f66231\nCloses-Bug: #1731688",
        "cmtr": "Alex Schultz",
        "date": "2017-11-11 21:04:51+00:00",
        "files": ["volume.pp", "api.pp", "api.pp", "share.pp", "compute_libvirt_shared.pp", "tripleo_profile_base_cinder_volume_spec.rb", "tripleo_profile_base_gnocchi_api_spec.rb"]
      },
      {
        "hash": "c0ad8cd4cc27a7483f4db782af078a9fa62e3e83",
        "msg": "Add profile to configure the rsyslog sidecar container\n\nFor services that log to syslog (such as swift and haproxy), a sidecar\ncontainer that reads from syslog and outputs to stdout is needed. This\ncontainer will have a very static configuration, but needs to be\nconfigured somehow anyway; thus, a small profile was added for this.\n\nbp logging-stdout-rsyslog\n\nChange-Id: I4864ddca223becd0a17f902729cf2e566df5e521",
        "cmtr": "Juan Antonio Osorio Robles",
        "date": "2017-11-13 13:39:44+00:00",
        "files": ["sidecar.pp", "rsyslog.conf.erb"]
      },
      {
        "hash": "f2abe0c4c8403184011328cc6be1da63b6e9844a",
        "msg": "Add support for OVN Metadata Agent\n\nThis patch adds support for configuring networking-ovn-metadata-agent.\n\nDepends-On: I38f775479d178f5b252619635b67f876bc8c5ed5\n\nChange-Id: Ifdd42437333730a3b3e6f36cbab6df0a2971a5a1\nSigned-off-by: Daniel Alvarez <dalvarez@redhat.com>",
        "cmtr": "Daniel Alvarez",
        "date": "2017-11-15 09:10:16+00:00",
        "files": ["ovn_metadata.pp"]
      },
      {
        "hash": "86df82502853b351a333d7787899dca11e64783e",
        "msg": "Include swift base class in the proxy class\n\nThis was missing, and therefore the Swif hashes were not properly set in\nswift.conf if only the proxy manifest was applied (for example when\ndeploying separate storage nodes).\n\nRelated-Bug: 1732663\nChange-Id: I11c044bbc8b9f56f95ace9320cc77303d9a7543e",
        "cmtr": "Christian Schwede",
        "date": "2017-11-16 11:16:02+01:00",
        "files": ["proxy.pp", "swift-proxy-use-hash-suffix-b04c2ac17a2c8c38.yaml"]
      },
      {
        "hash": "b2dc580a3f156851018f8524dea72436abf820cc",
        "msg": "Make sure rabbitmq is fully up before creating any rabbitmq resources\n\nRight now after creating the rabbitmq pacemaker resource, we have no\nguarantee that rabbit will be up. Let's add the same mechanism we use\ntoday with the galera-ready exec resource. This gives us the guarantee\nthat once the resource has been created it is up and we can actually\ncreate rabbitmq users (some 3rd party plugins do that, not stock\nTripleO).\n\nSpecifically, we probe that the '{rabbit,' app shows up in the status,\nso we can guarantee that rabbit is running before invoking any other\nrabbitmqctl commands.\n\nChange-Id: Ib37eb2e591f97de54ee6449817ae8d70c6541753\nCo-Authored-By: Damien Ciabrini <dciabrin@redhat.com>",
        "cmtr": "Michele Baldessari",
        "date": "2017-11-17 07:26:55+01:00",
        "files": ["rabbitmq.pp", "rabbitmq_bundle.pp"]
      },
      {
        "hash": "5cac7936add245bf2c41d2192f13ec41e07b9295",
        "msg": "Add kubernetes API to haproxy LB configuration\n\nThis is to enable our existing haproxy & vip management to work as an\nexternal loadbalancer for kubernetes when it's deployed as part of the\novercloud.\n\nChange-Id: I89c63720921db5e9c63536645694f2c35ef8b2f1",
        "cmtr": "Steven Hardy",
        "date": "2017-11-17 15:09:49+00:00",
        "files": ["haproxy.pp"]
      },
      {
        "hash": "bcc8ccccb1f6ed1f6c703f50c00009ce4d234761",
        "msg": "Fix use of deprecated \"api_class\" key manager option\n\nDeprecate the keymgr_api_class input parameter and replace with new\nkeymgr_backend option. This mimics an equivalent set of changes in\npuppet-cinder and puppet-nova, which were driven by a similar change\nin Castellan's key manager options.\n\nThe deprecated value is still supported for backward compatibility.\n\nCloses-Bug: #1732998\nChange-Id: I5036c8de9a429f22e1828b4e37735f4aa47bd858",
        "cmtr": "Alan Bishop",
        "date": "2017-11-17 16:24:08-05:00",
        "files": ["api.pp", "compute.pp", "key-manager-backend-e8bd95b728bb0d0e.yaml", "tripleo_profile_base_cinder_api_spec.rb", "tripleo_profile_base_nova_compute_spec.rb", "step4.yaml"]
      },
      {
        "hash": "07e71e57d8211fa791171ad88870302b97a60a95",
        "msg": "include nova::compute::pci in compute.pp\n\nThis commit Iccf86f42448d2e7e682728cb82808f91b6d8124e in\npuppet-nova change the way we configure the pci whitlist.\n\nIt is now require to include the nova::compute::pci class\nto apply the pci whitelist configration on the compute node.\n\nChange-Id: Ie29dcd8a9ac10f61c623149670094fa8b108d50d",
        "cmtr": "Moshe Levi",
        "date": "2017-11-18 08:04:12+02:00",
        "files": ["compute.pp"]
      },
      {
        "hash": "c999f5152cd5df0c12d3776a95f092fe5a6c51a0",
        "msg": "Configure libvirt SASL SCRAM-SHA1 when TLS is enabled\n\nChange-Id: Ic9335829fe39eaf4e76385f651a77b293793571a\nRelated-bug: 1732479",
        "cmtr": "Oliver Walsh",
        "date": "2017-11-20 17:28:49+00:00",
        "files": ["libvirt.pp", "client.pp", "tripleo_profile_base_nova_libvirt_spec.rb", "tripleo_profile_base_nova_migration_client_spec.rb"]
      },
      {
        "hash": "bf6785b0f83805369f61c60c9ec1aa5c070b1dcf",
        "msg": "Remove Ceilometer Api puppet classes\n\nThis service has been removed upstream and in RDO.\nLets drop these classes.\n\nChange-Id: I549c4f8ad412c54dead9d2b2c3ea2bd479fcda1b",
        "cmtr": "Pradeep Kilambi",
        "date": "2017-11-20 14:31:18-05:00",
        "files": ["haproxy.pp", "api.pp", "tripleo_profile_base_ceilometer_api_spec.rb"]
      },
      {
        "hash": "1dcd10cd215992dfa24b32eb5b40747b88af3d16",
        "msg": "Drop the old skip-metering-database flag\n\nThis flag is removed upstream, lets drop this and have it\ndefault to upgrade gnocchi resource types.\n\nChange-Id: I97b721168ff34b0c390fbfbe11607e25dff1e3e7",
        "cmtr": "Pradeep Kilambi",
        "date": "2017-11-20 19:33:32+00:00",
        "files": ["upgrade.pp"]
      },
      {
        "hash": "feca86b73028a81414c1c4ae93d56f18e84adbe6",
        "msg": "Fix ordering when pacemaker with bundles is being used\n\nIf you gracefully restart a node with pacemaker on it, the following can happen:\n1) docker service gets stopped first\n2) pacemaker gets shutdown\n3) pacemaker tries to shutdown the bundles but fails due to 1)\n\nThis can make it so that after the reboot, because shutting down the\nservices failed, two scenarios can take place:\nA) The node gets fenced (when stonith is configured) because it failed to stop a resource\nB) The state of the resource might be saved as Stopped and when the node\n   comes back up (if multiple nodes were rebooted at the same time) the CIB\n   might have Stopped as the target state for the resource.\n\nIn the case of B) we will see something like the following:\n\nOnline: [ overcloud-controller-0 overcloud-controller-1 overcloud-controller-2 ]\n\nFull list of resources:\n\n Docker container set: rabbitmq-bundle [192.168.0.1:8787/rhosp12/openstack-rabbitmq-docker:pcmklatest]\n   rabbitmq-bundle-0 (ocf::heartbeat:rabbitmq-cluster): Stopped overcloud-controller-0\n   rabbitmq-bundle-1 (ocf::heartbeat:rabbitmq-cluster): Stopped overcloud-controller-0\n   rabbitmq-bundle-2 (ocf::heartbeat:rabbitmq-cluster): Stopped overcloud-controller-0\n Docker container set: galera-bundle [192.168.0.1:8787/rhosp12/openstack-mariadb-docker:pcmklatest]\n   galera-bundle-0 (ocf::heartbeat:galera): Stopped overcloud-controller-0\n   galera-bundle-1 (ocf::heartbeat:galera): Stopped overcloud-controller-0\n   galera-bundle-2 (ocf::heartbeat:galera): Stopped overcloud-controller-0\n Docker container set: redis-bundle [192.168.0.1:8787/rhosp12/openstack-redis-docker:pcmklatest]\n   redis-bundle-0 (ocf::heartbeat:redis): Stopped overcloud-controller-0\n   redis-bundle-1 (ocf::heartbeat:redis): Stopped overcloud-controller-0\n   redis-bundle-2 (ocf::heartbeat:redis): Stopped overcloud-controller-0\n ip-192.168.0.12 (ocf::heartbeat:IPaddr2): Stopped\n ip-10.19.184.160 (ocf::heartbeat:IPaddr2): Stopped\n ip-10.19.104.14 (ocf::heartbeat:IPaddr2): Stopped\n ip-10.19.104.19 (ocf::heartbeat:IPaddr2): Stopped\n ip-10.19.105.11 (ocf::heartbeat:IPaddr2): Stopped\n ip-192.168.200.15 (ocf::heartbeat:IPaddr2): Stopped\n Docker container set: haproxy-bundle [192.168.0.1:8787/rhosp12/openstack-haproxy-docker:pcmklatest]\n   haproxy-bundle-docker-0 (ocf::heartbeat:docker): FAILED (blocked)[ overcloud-controller-0 overcloud-controller-2 overcloud-controller-1 ]\n   haproxy-bundle-docker-1 (ocf::heartbeat:docker): FAILED (blocked)[ overcloud-controller-0 overcloud-controller-2 overcloud-controller-1 ]\n   haproxy-bundle-docker-2 (ocf::heartbeat:docker): FAILED (blocked)[ overcloud-controller-0 overcloud-controller-2 overcloud-controller-1 ]\n openstack-cinder-volume (systemd:openstack-cinder-volume): Started overcloud-controller-0\n\nFailed Actions:\n* rabbitmq-bundle-docker-0_stop_0 on overcloud-controller-0 'unknown error' (1): call=93, status=Timed Out, exitreason='none',\n    last-rc-change='Fri Nov 17 13:55:35 2017', queued=0ms, exec=20023ms\n* rabbitmq-bundle-docker-1_stop_0 on overcloud-controller-0 'unknown error' (1): call=94, status=Timed Out, exitreason='none',\n    last-rc-change='Fri Nov 17 13:55:35 2017', queued=0ms, exec=20037ms\n* galera-bundle-docker-0_stop_0 on overcloud-controller-0 'unknown error' (1): call=96, status=Timed Out, exitreason='none',\n    last-rc-change='Fri Nov 17 13:55:35 2017', queued=0ms, exec=20035ms\n\nWe fix this by adding the docker service to\nresource-agents-deps.target.wants which is the recommended method to\nmake sure non pacemaker managed resources come up before pacemaker\nduring a start and get stopped after pacemaker's service stop:\nhttps://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/7/html/high_availability_add-on_reference/s1-nonpacemakerstartup-haar\n\nWe conditionalize this change when docker is enabled and we also\nmake sure that we make the change only after the docker package\nis installed, in order to cover split stack deployments as well.\n\nWith this change we were able to restart nodes without\nobserving any timeouts during stop or stopped resources\nat startup.\n\nCo-Authored-By: Damien Ciabrini <dciabrin@redhat.com>\n\nChange-Id: I6a4dc3d4d4818f15e9b7e68da3eb07e54b0289fa\nCloses-Bug: #1733348",
        "cmtr": "Michele Baldessari",
        "date": "2017-11-21 09:44:57+01:00",
        "files": ["pacemaker.pp", "pacemaker_remote.pp"]
      },
      {
        "hash": "7b35ac05b3c30e680d8d48c7c473d60052ebf195",
        "msg": "Add support for cephfs+ganesha backend in manila\n\nChange-Id: I1262faef895df0023a225ab10dfe66dfb3d3efba\nPartially-Implements: bluprint nfs-ganesha",
        "cmtr": "Jan Provaznik",
        "date": "2017-11-22 09:58:30+01:00",
        "files": ["api.pp", "share.pp", "ceph_nfs.pp", "share_bundle.pp"]
      },
      {
        "hash": "9d6f569ab9fcc88a5dde1a0bad7887471c03f19c",
        "msg": "Introduces puppet module for `/etc/login.defs`\n\nEnables management of shadow password directives in login.defs\n\nBy allowing operators to set values in login.defs, they are able\nto improve password security for newly created system accounts.\n\nThis change will in turn allow operators to adhere with security\nhardening frameworks, such as STIG DISA & CIS Security Benchmarks.\n\nbp login-defs\n\nChange-Id: Iec8c032adb44593da3770d3c6bb5a4655e463637",
        "cmtr": "lhinds",
        "date": "2017-11-22 11:09:08+00:00",
        "files": ["login_defs.pp", "login_defs-1d1b32c233a33b2f.yaml", "tripleo_profile_base_login_defs_spec.rb"]
      },
      {
        "hash": "5251ff5e4b70181f79f14b5cbf0def48a9ca5537",
        "msg": "Adding manifest for Cisco VTS ML2 mechanism driver configuration\n\nChange-Id: I4329d54d66c8a02f651887c90f43b0658ebab384\nImplements: blueprint ml2-cisco-vts\nSigned-off-by: Wojciech Dec <wdec@cisco.com>",
        "cmtr": "Wojciech Dec",
        "date": "2017-11-22 15:58:23+01:00",
        "files": ["ml2.pp", "vts.pp", "add_cisco_vts_ml2-786d7d8cc6eb7d14.yaml", "tripleo_profile_base_neutron_ml2_vts_spec.rb"]
      },
      {
        "hash": "323cd64c5829812545a7aa3afea5617566d6bbdf",
        "msg": "Added new parameter: $activate_httplog\n\nThis allows to get the full HTTP log (and TCP if not HTTP) from HAProxy,\nin case you need any debug from that central point.\n\nIn case you want timers for those entries, you might want to use the\nalready present \"$haproxy_globals_override\" parameter and set its\ncontent to:\n{ 'log' => '/dev/log local0 debug'  }\n\nChange-Id: I4667317cbd453875585521b22b0ccbdb208f5353\nCloses-Bug: 1733801",
        "cmtr": "Cdric Jeanneret",
        "date": "2017-11-22 21:33:38+01:00",
        "files": ["haproxy.pp", "haproxy-logging-13b333a7e9d9558e.yaml", "tripleo_haproxy_spec.rb"]
      },
      {
        "hash": "e9bce747833af94ce71fe76921bd53cb5df07964",
        "msg": "Set disable:true for oci-machine-register\n\nThis is meant to help resolve an issue where systemd would stop\nthe docker service incorrectly. Often seeming to occur when a container\nwas in a restart state.\n\nChange-Id: Ifb519f8ee7412ef486e709a19c1251a0f7e5d35e\nRelated-bug: #1733943",
        "cmtr": "Alex Schultz",
        "date": "2017-11-22 23:56:35+00:00",
        "files": ["docker.pp"]
      },
      {
        "hash": "26e053153bd754894ca97481dcd5704ebc675409",
        "msg": "Set ProxyPreserveHost in ec2api TLS proxy\n\nbp tls-via-certmonger-containers\n\nChange-Id: Iae8e61cb5be4faeea8861296629dd6a5f3ed4f01",
        "cmtr": "Oliver Walsh",
        "date": "2017-11-23 10:49:00+00:00",
        "files": ["ec2api.pp", "tls_proxy.pp"]
      },
      {
        "hash": "c410f608cab1ed2199ba8a8c90621127a1efda5d",
        "msg": "Add Octavia API endpoint to haproxy\n\nThis patch adds an endpoint for Octavia API to haproxy.\n\nCloses-Bug: #1728589\n\nChange-Id: I978b83fa5f3900d2f09c2affc59e90e150a42892",
        "cmtr": "Brent Eagles",
        "date": "2017-11-23 08:27:34-03:18",
        "files": ["haproxy.pp", "adding-octavia-haproxy-endpoint-8d20b5bfd11f8d89.yaml"]
      },
      {
        "hash": "a362e22eb4149ec83b4fccba237cad785a51398a",
        "msg": "Fix typo in ganesha VIP order constraint\n\n'ganesha' was spelled 'gansha'.  There was no functional bug\nsince the typo was consistent between definition and use but\nfix it so the codebase is easier to search.\n\nTrivialFix\n\nChange-Id: Ia89f336b186fb15acea2c37410c576d6b5fd8153",
        "cmtr": "Tom Barron",
        "date": "2017-11-26 08:17:39-05:00",
        "files": ["ceph_nfs.pp"]
      },
      {
        "hash": "07eabfd08d5d450fe18b0a7da1f60908079efc9e",
        "msg": "Add PTP service\n\nPrecision Time Protocol (PTP) is a protocol used to\nsynchronize clocks throughout a network. When used\nin conjunction with hardware support, PTP is capable\nof sub-microsecond accuracy which is far better than\nis normally obtainable with NTP.\n\nChange-Id: Idc78df3a90b73be504480bc9d33a3f0041d2d84f",
        "cmtr": "Zenghui Shi",
        "date": "2017-11-27 16:43:32+08:00",
        "files": ["Puppetfile_extras", "ptp.pp", "ptp-062b1d1f2d9f2275.yaml"]
      },
      {
        "hash": "cefbf4ab8ea4cdf36b677fb97d580a1f74d3a8d6",
        "msg": "ironic: support enabling staging drivers\n\n* add ironic::drivers::staging to enable use of staging drivers\n  (disabled by default)\n* remove mentions of SSH drivers (removed upstream, similar\n  functionality is provided by staging drivers)\n\nImplements: blueprint ovirt-driver\nChange-Id: I89da8187c2c549ad2f6d569890080ce144be46c0\nDepends-On: Ibef8f33f306b9d3b598698345ce3b0978f62a2ad",
        "cmtr": "Dmitry Tantsur",
        "date": "2017-11-27 11:43:36+01:00",
        "files": ["conductor.pp"]
      },
      {
        "hash": "3d54e16582e4480d23660321fcbf24e387757144",
        "msg": "ironic: add support for the ansible deploy method\n\nChange-Id: Idc521e2664f5fcd9884f44824d91385049221685\nImplements: blueprint ansible-deploy\nDepends-On: I55aecb95bc3ab1264487bcda5870b6e4fc7aa787",
        "cmtr": "Dmitry Tantsur",
        "date": "2017-11-27 11:53:11+01:00",
        "files": ["conductor.pp"]
      },
      {
        "hash": "bc3feec75f8dc1bac6691ce8cd05a37c27aa5e42",
        "msg": "Enables websocket based port status for OpenDaylight\n\nPort Status in ODL was previously disabled due to bugs which have now\nbeen resolved.  This patch enables it via Neutron ML2 conf.  Port status\nis communicated by ODL through a websocket connection on port 8185.\nTherefore we need to enable haproxy to load balance across that port.\n\nRelated-Bug: 1718508\n\nChange-Id: Iebdcc6404f5503eeb45b39380b3f198be175514b\nSigned-off-by: Tim Rozet <trozet@redhat.com>",
        "cmtr": "Tim Rozet",
        "date": "2017-11-27 11:43:04-05:00",
        "files": ["haproxy.pp", "opendaylight.pp", "enables_opendaylight_port_status-1ee052b299b36b83.yaml"]
      },
      {
        "hash": "fbc089eddfc16f472c5c5017b54e7ae30463c12d",
        "msg": "Revert \"Use TLS proxy for Redis' internal TLS\"\n\nThis reverts commit 2d1d7875aa6f0b68005c84189627bc0716a7693f.\n\nCloses-Bug: #1735259\nChange-Id: I37501c4c983c87e3a38841272eb176ebbe626a65",
        "cmtr": "Juan Antonio Osorio Robles",
        "date": "2017-12-01 09:07:51+00:00",
        "files": ["redis.pp", "haproxy.pp", "evaluator.pp", "central.pp", "polling.pp", "certmonger_user.pp", "redis.pp", "api.pp", "zaqar.pp", "redis.pp"]
      },
      {
        "hash": "361785f14d9965b0f81706dfbe3a01550a110b1a",
        "msg": "Allow vhost socket directory user/group as configurable from template\n\nFor ovs2.8 version, it is required to modify the vhost socket directory\npermissions as openvswitch:hugetlbfs instead of the earlier hardcoded\nvalues qemu:qemu. Making these values as input which could be configured\nfrom templates.\n\nChange-Id: Ia2d0a49567f51b8e6ecdf1967c515ef0dfe81567",
        "cmtr": "Saravanan KR",
        "date": "2017-12-04 13:40:38+05:18",
        "files": ["ovs.pp", "tripleo_profile_base_neutron_ovs_spec.rb"]
      },
      {
        "hash": "37d64357d640da92caa92e38137639d9a61b928a",
        "msg": "Add multiple backends for barbican\n\nDepends-On: I8cb8d3cd745fbf7ddba1ce8e5347b38342afd58d\nChange-Id: I07e52897897f453382f74aa4fdaa98c37e6eca30",
        "cmtr": "Ade Lee",
        "date": "2017-12-05 02:28:14-05:00",
        "files": ["api.pp", "backends.pp", "add-barbican-backends-2412df7eef07038e.yaml", "tripleo_profile_base_barbican_backends_spec.rb"]
      },
      {
        "hash": "48c417519f88472d035c3ad6a92edcc2e6039d9b",
        "msg": "Update cephx keys with ACLs for openstack services.\n\nThis patch will set file system ACLs on the ceph client keyring.\nThis will help resolve (1) for OSP Ocata and before\n\nChange-Id: I0c1bc3d2362c6500b1a515d99f641f8c1468754a\nPartial-Bug: #1720787\n1: https://bugzilla.redhat.com/show_bug.cgi?id=1462657",
        "cmtr": "Keith Schincke",
        "date": "2017-12-05 15:45:33-05:00",
        "files": ["volume.pp", "api.pp", "api.pp", "share.pp", "compute_libvirt_shared.pp", "metadata.json", "tripleo_profile_base_cinder_volume_spec.rb", "tripleo_profile_base_gnocchi_api_spec.rb"]
      },
      {
        "hash": "bf009921b99b7dd6b517874aec2f93a41a3d073e",
        "msg": "Instance HA support\n\nThis commit is the puppet-tripleo part that implements the instance HA\nspec. It only adds a couple of pacemaker resources and stonith devices\nwhen instance HA is activated via an environment variable.\n\nThe compute nodes that take part in instance HA need to have the\nfollowing services added to them:\nOS::TripleO::Services::ComputeInstanceHA\nOS::TripleO::Services::PacemakerRemote\n\nMore detailed info will be added to the docs.\n\nblueprint instance-ha\n\nChange-Id: I4d1908242e9513a225d2b1da06ed4ee769ee10f7",
        "cmtr": "Michele Baldessari",
        "date": "2017-12-06 11:42:53+01:00",
        "files": ["Puppetfile_extras", "fencing.pp", "pacemaker.pp", "instance_ha.pp", "compute_instanceha.pp", "tripleo_profile_base_pacemaker_spec.rb", "default.yaml"]
      },
      {
        "hash": "43fd15375dee81452945606f126e779aa198d8be",
        "msg": "Enable Octavia service_auth configuration\n\nThis patch enables configuring Octavia's service_auth section which is\nrequired for service-to-service communication.\n\nDepends-On: Ifcd38386db386ee6d61aa7f262b1e14ac6516eb7\nChange-Id: I67ab537d1b2a82f17657ed90f794f0fa13c5207f",
        "cmtr": "Brent Eagles",
        "date": "2017-12-06 09:54:20-03:18",
        "files": ["octavia.pp", "add-octavia-service-auth-config-acc4adb3e6c4542d.yaml"]
      },
      {
        "hash": "bddbced1194c8ce0a30eb24433cd63fc61ba87d4",
        "msg": "Enable octavia certificate configuration\n\nThis change enables configuration of certificate based properties in\nOctavia for setting up secure communication with amphorae.\n\nChange-Id: I164da1228397f9a900118cae377b55f79c4fadaf",
        "cmtr": "Brent Eagles",
        "date": "2017-12-06 11:32:36-03:18",
        "files": ["health_manager.pp", "worker.pp", "enable-octavia-certificate-configuration-d8924916efc3054b.yaml"]
      },
      {
        "hash": "b6f76fa0fcd0014f37545eb1f81c3ea82ddb64f9",
        "msg": "Enable collectd to send metrics to Gnocchi\n\nAdds classes for collectd gnocchi plugin configuration.\n\nChange-Id: I9258b5d7cc23b6c19708df2beb7e29484e5c9234",
        "cmtr": "Martin Mgr",
        "date": "2017-12-06 17:45:53+01:00",
        "files": ["collectd.pp", "gnocchi.pp", "collectd-gnocchi.conf.erb"]
      },
      {
        "hash": "896554c5085e0a5aea64bf7e79899cdb15907934",
        "msg": "HAProxy logging\n\nThis patch is to increase the logging for haproxy. Currently HAProxy\ndoesn't log any events. This patch is to enable http logging when the\nmode is http, also enable tcp logging when the mode is tcp.\n\nCloses-Bug: #1713482\n\nChange-Id: Idddb8844d03058d708b65b77efa04ca6571289a6",
        "cmtr": "Joe Talerico",
        "date": "2017-12-07 22:43:09+00:00",
        "files": ["haproxy.pp", "tripleo_haproxy_spec.rb"]
      },
      {
        "hash": "b2521749561bc7b1d6da9e5b776c2945c65977a0",
        "msg": "Remove INSECURE_REGISTRY from docker_registry.pp\n\nThis patch removes the INSECURE_REGISTRY options from the\ndocker_registry manifest. These configuration options can\nconflict with the configuration done in the docker\nprofile. Furthermore they are not directly related to\nthe docker registry service itself and are better managed\nas part of the other profile.\n\nDepends-On: I9e9c495b9095590dcee14e0705728c68c058d2b5\n\nChange-Id: I6d0cfc9aafd2184161666bb9edcce16a0ec5a06f\nCloses-bug: #1736587",
        "cmtr": "Dan Prince",
        "date": "2017-12-07 21:30:02-05:00",
        "files": ["docker_registry.pp"]
      },
      {
        "hash": "8247745c6f688bea7b5fc8b8835493cc75dd8e3d",
        "msg": "In compute IHA make no_shared_storage a class parameter\n\nThis was suggested in I4d1908242e9513a225d2b1da06ed4ee769ee10f7\nand it makes the no_shared_storage a class parameter so it can\nbe parametrized more easily.\n\nChange-Id: I0a7cd7687feb2caa80e74329260ba3b063d223ee",
        "cmtr": "Michele Baldessari",
        "date": "2017-12-11 12:56:06+01:00",
        "files": ["instance_ha.pp"]
      },
      {
        "hash": "5fb0826ee2d45e1a20e6adbc273d34b4636be0fc",
        "msg": "Bind-mount iscsid IQN by its real host path\n\nContainerized or running on baremetal services\non a node must use the same iSCSI Qualified Name (IQN).\nHowever, overcloud nodes must have a unique IQN.\n\nTht's puppet config bind mounts the real hosts' /etc/iscsid\ndirectory so that puppet ensures the IQN is unique and\nis reset once, and only once.\n\nSwitch the host path bind mount for cinder bundles to catch up\nthat configuration path as well.\n\nRelated-bug: #1735425\n\nChange-Id: I7e9f0641164691682516ac3e72e2145c7d112409\nCo-authored-by: Alan Bishop <abishop@redhat.com>\nCo-authored-by: Martin Andr <m.andre@redhat.com>\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>",
        "cmtr": "Bogdan Dobrelya",
        "date": "2017-12-12 11:44:10+00:00",
        "files": ["backup_bundle.pp", "volume_bundle.pp"]
      },
      {
        "hash": "e5c563290cbd0c12056169403043aef41246e353",
        "msg": "Add support for switchdev mode in SR-IOV\n\nIn Kernel 4.10 supports changing SR-IOV to switchdev mode.\nThis mode allows to create VFs represontors which can manage\nthe SR-IOV VFs from the hypervsior.\n\nThis patch extends the tripleo::host::sriov::number_of_vf to\n<physical_network>:<number_of_vfs>:<sriov_mode>,\nwhere sriov_mode accepts legacy or switchdev.\nif sriov_mode is not specified we default to legacy.\n\nChange-Id: I578f956f2a8c6ee29a9d1ff38ee51765bcab05c1",
        "cmtr": "Moshe Levi",
        "date": "2017-12-12 14:58:43+00:00",
        "files": ["numvfs.rb", "sriov_vf_config.rb", "sriov.pp", "numvfs_persistence.pp", "ovs-hw-offload-89a49899af3b9892.yaml", "tripleo_host_sriov_numvfs_persistence_spec.rb", "numvfs_spec.rb", "sriov_vf_config_spec.rb", "switchdev.epp"]
      },
      {
        "hash": "f7030a2730fb1fcb69322c36726e8a9224c83311",
        "msg": "Implements: Heat template for integrating Cavium SmartNIC LiquidIO\n\nContains the puppet module for Configuring the Liquidio Compute node.\n\nChange-Id: Idfd094d344d7419557139dbcee98e42307eb465b",
        "cmtr": "hanish gogada",
        "date": "2017-12-12 20:19:16+05:18",
        "files": ["liquidio.pp"]
      },
      {
        "hash": "41f9b0d3cf549657e18ebedbadaf3558403d4e21",
        "msg": "Add unit tests for tripleo::firewall::service_rules\n\nIn order to get a proper unit test suits, we need to change the\nseparator from the \"dot\" to \"double-semicolons\".\n\nThe \".\" is a reserved character in YAML for hashes. In puppet world,\nwe commonly use \"::\".\n\nUnit tests don't work if we let the \"dot\" separator, and apparently it's\nan intended outcome with that kind of syntax.\n\nFact it's working in the deploy process is kind of black magic (see the\ntripleo::haproxy::service_endpoints resource for example). And the \"dot\"\ncreates something weird, as all other resources are using the standard\ndouble-semicolon.\n\nChange-Id: If53d632ab458b0c04a8b7211194c18ebc8978d23\nCloses-Bug: 1737086",
        "cmtr": "Cdric Jeanneret",
        "date": "2017-12-13 07:22:46+01:00",
        "files": ["service_rules.pp", "firewall-service-rules-6586a2c138dfe338.yaml", "tripleo_firewall_service_rules_spec.rb", "default.yaml"]
      },
      {
        "hash": "a97cc29b149b8c7539aabe9bed5762796095432a",
        "msg": "Add neutron base profile to OVN metadata agent\n\nThis patch is including neutron base profile in OVN metadata agent\nfile. This will ensure that neutron configuration is also applied\nfor this service.\n\nChange-Id: If3dffde5e0db8f7607a9708d36d54d1600fe5da8",
        "cmtr": "Daniel Alvarez",
        "date": "2017-12-13 14:41:32+00:00",
        "files": ["ovn_metadata.pp"]
      },
      {
        "hash": "1c49fbe08d1f764975ce8ef952b055ad25effd65",
        "msg": "gnocchi: ensure upgrade run after swift setup\n\nThe orignal fix have create an dependencies on an Class, so\nit does work and fail silencly.\n\nThis changes it to the Anchor.\n\nChange-Id: I2ed6e328a9a4915844f699784dd87dc99078fb23\nCloses-bug: #1724328",
        "cmtr": "Mehdi Abaakouk",
        "date": "2017-12-13 16:27:20+01:00",
        "files": ["api.pp"]
      },
      {
        "hash": "4b0bdc2d9a808938a445d375ad78ca912855b173",
        "msg": "Implements AIDE Intrusion Detection System\n\nIntroduces a puppet service to configure AIDE Intrusion\nDetection. This service init's the database and copies the\nnew database to the active naming. It also sets a cron job,\nusing email is `AideEmail` is populated, otherwise the reports\nare sent to /var/log/aide/.\n\nAIDE rules can be supplied as a hash, and should the rules ever\nbe changed, the service will populate the new rules and re-init\na fresh integrity database.\n\nRelated-Blueprint: tripleo-aide-database\nChange-Id: Iac2ceb7fc6b610f8920ae6f75faa2885f3edf6eb",
        "cmtr": "lhinds",
        "date": "2017-12-13 16:08:34+00:00",
        "files": ["aide.pp", "cron.pp", "installdb.pp", "rules.pp", "tripleo_profile_base_aide_spec.rb", "aide.conf.erb"]
      },
      {
        "hash": "44302537018fada6bbdd7c5a1f9c91aa25a02c2f",
        "msg": "Add unit test for tripleo::haproxy::service_endpoints\n\nIn order to get a proper unit test suits, we need to change the\nseparator from the \"dot\" to \"double-semicolons\".\n\nThe \".\" is a reserved character in YAML for hashes. In puppet world,\nwe commonly use \"::\".\n\nUnit tests don't work if we let the \"dot\" separator, and apparently it's\nan intended outcome with that kind of syntax.\n\nFact it's working in the deploy process is kind of black magic (see the\ntripleo::firewall::service_rules resource for example). And the \"dot\"\ncreates something weird, as all other resources are using the standard\ndouble-semicolon.\n\nChange-Id: I78625a6e69f58dfb2bbad83fdd4f798cd3f4c281\nCloses-Bug: 1737086",
        "cmtr": "Cdric Jeanneret",
        "date": "2017-12-14 09:47:43+01:00",
        "files": ["service_endpoints.pp", "haproxy-service-endpoints-4351bd4666dfe9a7.yaml", "tripleo_haproxy_service_endpoints_spec.rb", "default.yaml"]
      },
      {
        "hash": "58355c95b71ead94e78e0bcdf438375de97f4492",
        "msg": "logging: support service_config_settings configuration mechanism\n\nThis commit implements the necessary support in puppet-tripleo to\nprocess fluentd configuration delivered via service_config_settings.\n\nAdded the fluentd unit test regarding the new configuration:\n- A file by service\n- Added the group to the fluentd user\n\nPartial-bug: #1715187\nChange-Id: I2b057190ec0e4e75ee4ee47ebe0164c2644e5ab7",
        "cmtr": "Juan Badia Payno",
        "date": "2017-12-15 10:24:00+01:00",
        "files": ["fluentd.pp", "fluentd_service.pp", "tripleo_profile_base_logging_fluentd_spec.rb", "step4.yaml"]
      },
      {
        "hash": "ecefcffbe9c811208822b388050f09e6b259f40f",
        "msg": "Remove old central and compute agent profiles\n\nWe've been using polling agent profile with namespace for\nsometime now. We can drop these old unused classes.\n\nChange-Id: I54c68a91fd39d7fe2f15a05359d60f6af559aa61",
        "cmtr": "Alex Schultz",
        "date": "2017-12-15 16:43:58-07:00",
        "files": ["central.pp", "compute.pp"]
      },
      {
        "hash": "9d438cd1426ba8de92d5bb04402b7cbbc450cb7a",
        "msg": "Add Basic Authentication support for HAProxy\n\nIn order to get a proper support for authenticated endpoints, this patch\ncreates a new definition (tripleo::haproxy::userlist) and exploit it in\nthe dynamic endpoint (tripleo::haproxy::service_endpoints) as well as\nstandard tripleo::haproxy::endpoint.\n\nIt also detected a small issue with the \"underscorization\" of the\nservice name, the missing 'G' flag for regsubst, that preventend all\ndashes to be replaced by underscores.\n\nChange-Id: Ie7471155d1ef3f6adc177a468b81ac410bbfb9c0\nCloses-Bug: 1736132",
        "cmtr": "Cdric Jeanneret",
        "date": "2017-12-16 09:37:27+01:00",
        "files": ["endpoint.pp", "service_endpoints.pp", "userlist.pp", "haproxy-basic-auth-e2839941c806c615.yaml", "tripleo_haproxy_endpoint_spec.rb", "tripleo_haproxy_service_endpoints_spec.rb", "tripleo_haproxy_userlist_spec.rb", "default.yaml"]
      },
      {
        "hash": "65d226a925f003e4be6077d60da4c99eb1049a9e",
        "msg": "Correct typo in manila/share.pp resource chaining\n\nA typo error resulted in an attempted resource chaining of\nCeph::Key[client.manila] to Exec[exec-setfacl-manila-manila]. The\nactual exec resource is Exec[exec-setfacl-manila]\n\nChange-Id: I78eec6022211b0e82c06599dea300961a2309f0c",
        "cmtr": "Keith Schincke",
        "date": "2017-12-17 09:43:18-05:00",
        "files": ["share.pp"]
      },
      {
        "hash": "5b1a139fa0bfda2c5b38754b3d31ee28023cbef5",
        "msg": "gnocchi/ceilometer upgrade workflow fix\n\nThe current workflow for gnocchi/ceilometer upgrade doesn't\nwork well with swift backend.\n\nNotification agent push data into Gnocchi on step4, but\nCeilometer-upgrade run only on step5, So Gnocchi have not been populated\nwith latest resource schemas.\n\nGnocchi-api is started in step3 but gnocchi::storage configuration have\nnot been done and database upgrade have not been done.\n\nWhen configuration is done on step4, httpd will be restarted.\n\nThis change will fix this issue by:\n\n* Doing only the Gnocchi database upgrade on step3 because swift is\n  ready only on step4.\n* Configuring gnocchi::storage on step3 to avoid gnocchi-api restart on\n  step4.\n* Add dependencies between ceilometer-upgrade and gnocchi-api in case of\n  non multinode deployment.\n\nThis ensures:\n\n* gnocchi-api will be correctly configured at the end of\n  step3 (configuration+database-sync).\n* No new measures will be pushed to Gnocchi before ceilometer-upgrade have\n  upgraded the Gnocchi resource schemas.\n* Gnocchi-api have database updated before ceilometer-upgrade need it.\n* We continue to upgrade storage/incoming data of Gnocchi on step4 after\n  swift is up.\n\nCloses-bug: #1724328\nChange-Id: I3f9a784e507e03454b335ba8319601fba208ba0a",
        "cmtr": "Mehdi Abaakouk",
        "date": "2017-12-18 11:59:35+01:00",
        "files": ["upgrade.pp", "api.pp"]
      },
      {
        "hash": "f2933eb1e2d521c3427fe0661327c5e13079df3a",
        "msg": "Allow wsrep_max_ws_rows and wsrep_max_ws_size to use defaults\n\nStarting with MariaDB 10.1.17 / 10.0.27, the wsrep_max_ws_rows\nsetting suddenly becomes meaningful, as with previous releases\nit had no effect [1].   At the same time, MariaDB has changed\nthe default value from 131072 to \"0\" which means no limit,\nso that their providing this functionality didn't break anything.\nThis breaks it for tripleo because we are hardcoding that\nnever-functional default which makes for much too small writesets.\n\nOn the MySQL-Galera side, it's unclear if\nthe wsrep_max_ws_rows setting yet has a meaningful effect, as [2] [3] remain\nopen but then in [4] they advertise that it *does* work, but\nagain they've changed the default to 0/no limit.\n\nAdditionally, the size of a writeset is more usefully limited\nby the wsrep_max_ws_size variable, which here is also hardcoded\nto an obselete default of 1G, the aforementioned MariaDB versions\nhave also bumped the default to 2G.\n\nI've looked up the origin of these settings in [5] and see\nno useful rationale for these numbers to be present, rather than\nallowing database-provided defaults to be used.\n\nIn all cases it is definite that the wsrep_max_ws_rows setting\nof 131072 has never been used by any of the MariaDB/MySQL/Galera\nvariants and we should not be setting this.\n\n[1] https://mariadb.com/kb/en/library/galera-cluster-system-variables/#wsrep_max_ws_rows\n[2] https://bugs.launchpad.net/codership-mysql/+bug/1373909\n[3] https://github.com/codership/mysql-wsrep/issues/257\n[4] http://galeracluster.com/2016/08/announcing-galera-cluster-5-5-50-and-5-6-31-with-galera-3-17/\n[5] https://review.openstack.org/#/c/177765/\n\nChange-Id: I0d25666fed15347c8351f127d8f564b2037ca065\nCloses-bug: #1738777",
        "cmtr": "Mike Bayer",
        "date": "2017-12-18 12:15:34-05:00",
        "files": ["mysql.pp", "mysql_bundle.pp"]
      },
      {
        "hash": "0aef5a719042ec66fab81b8a40bd55162c09e3db",
        "msg": "Let collectd manage repo and added unit test\n\nIf collectd is allowed to manage repo, it will need\nthe epel module.\n\nThis patch let collectd manage repo. It does not let\nto manage the repo by default, but it can be modified.\nI also adds the collectd unit test.\n\nDepends-On: I771b4f033ba5d6926e1ab9d9900af8bc81876295\nChange-Id: I0576df2902cc44e7e9ff312214d609095132f2a4",
        "cmtr": "Juan Badia Payno",
        "date": "2017-12-19 18:43:03+01:00",
        "files": ["Puppetfile_extras", "collectd.pp", "tripleo_profile_base_metrics_collectd_spec.rb"]
      },
      {
        "hash": "2f33d74173b79117c962146ac2c88fe1e3836403",
        "msg": "Fix up the rabbitmq-ready check\n\nSo the current rabbitmq-ready exec has a few unexpected problems:\n\n1) The notify mechanism is not being called, but after discussion\nwe're comfortable in calling this all the time, just like we do this\nfor galera.\n2) Calling rabbitmqctl inside a container is problematic because\nthe mere invocation of the cluster_status command will actually\nspawn an epmd process which will take the epmd port and which will\nsubsequently make the rabbitmq-bundle started by pacemaker fail to\nform a cluster.\n\nFor this reason (working around the rabbitmqctl issue is potentially\ndoable once we upgrade to erlang 19.x but not with older versions)\nit is vital that this container gets spawned with /bin/epmd nooped\nto /bin/true.\n\nWe now only proceed after rabbit tells us that it is part of a cluster.\nJust checking for rabbit being up is not enough because if the user gets\ncreated before the node joins a cluster, it might not be replicated\n(depending on the timing).\n\nPartial-Bug: #1739026\n\nCo-Authored-By: Damien Ciabrini <dciabrin@redhat.com>\nCo-Authored-By: John Eckersberg <jeckersb@redhat.com>\nChange-Id: I54c541d86782665ae0f689428a16edc155f87993\nDepends-On: Ie74a13a6c8181948900ea0de8ee9717f76f3ce79",
        "cmtr": "Michele Baldessari",
        "date": "2017-12-20 07:24:29+01:00",
        "files": ["rabbitmq_bundle.pp"]
      },
      {
        "hash": "a9f059f540231bc5a35e540cb03ea362fe86b743",
        "msg": "Do not force provider in rabbitmq base profile\n\nWe cannot force the provider when defining the rabbitmq_user on\nstack update operation, because otherwise the noop_resource [1]\nfunction cannot override the resource behaviour and the config\ngeneration fails with unexpected calls to /usr/bin/rabbitmqctl.\n\nWe don't need to force the provider, so stop doing so.\n\n[1] tripleo/lib/puppet/parser/functions/noop_resource.pp\n\nChange-Id: If718dd50147b3430f9f72fa59c297ae65440f71a\nCloses-Bug: #1739771",
        "cmtr": "Damien Ciabrini",
        "date": "2017-12-22 13:47:26+01:00",
        "files": ["rabbitmq.pp"]
      },
      {
        "hash": "97d501251e8b8354724b95585ac75f7ef642bca9",
        "msg": "Give horizon's stanza in haproxy a per-server cookie\n\nCurrently our haproxy.cfg stanza for horizon looks like the following:\nserver overcloud-controller-0.internalapi.localdomain 172.17.0.22:80 check cookie overcloud-controller-0 fall 5 inter 2000 rise 2\nserver overcloud-controller-1.internalapi.localdomain 172.17.0.25:80 check cookie overcloud-controller-0 fall 5 inter 2000 rise 2\nserver overcloud-controller-2.internalapi.localdomain 172.17.0.12:80 check cookie overcloud-controller-0 fall 5 inter 2000 rise 2\n\nWe need to make sure that the cookie is set the same as the server:\nserver overcloud-controller-0.internalapi.localdomain 172.17.0.22:80 check cookie overcloud-controller-0.internalapi.localdomain fall 5 inter 2000 rise 2\nserver overcloud-controller-1.internalapi.localdomain 172.17.0.25:80 check cookie overcloud-controller-1.internalapi.localdomain fall 5 inter 2000 rise 2\nserver overcloud-controller-2.internalapi.localdomain 172.17.0.12:80 check cookie overcloud-controller-2.internalapi.localdomain fall 5 inter 2000 rise 2\n\nThe problem here is that the cookie is being inserted into the response\nby haproxy so that we have session persistence. When logging to horizon\nwe want the session to be persistent and go to the same backend server.\nWhen haproxy sees a match for the cookie, it does just that. The cookie\nvalue will should match the server name. Prior to this fix\neach server was matching on the same cookie ($::hostname) which is not\ncorrect.\n\nTested by connecting to horizon's VIP and shutting off horizon on each\ncontroller node one at the time. Observed that after each stop, the\ncorrect cookie from the remaining servers was sent to the browser.\n\nCloses-Bug: #1738453\nChange-Id: Ieb9cf3c6a8373df288a73ff2dacfc9d0b09e675a",
        "cmtr": "Emilien Macchi",
        "date": "2017-12-22 19:41:55+00:00",
        "files": ["horizon_endpoint.pp", "tripleo_haproxy_spec.rb", "default.yaml"]
      },
      {
        "hash": "9fbfc6889dc8d7471a1ef409eceaa8ea6db2c8c1",
        "msg": "Only create veritas rabbitmq users on the bootstrap node\n\nCurrently, when deploying an overcloud with veritas hyperscale, the\nhyperscale rabbitmq user gets created on all rabbit nodes. This is\nproblematic on an HA deployment for two reasons:\nA) rabbitmq already mirrors users\nB) On non bootstrap node this will fail because the rabbit pcmk resource\ncreation happens only on the bootstrap node, which means that when the\nhyperscale rabbitmq include kicks in on non-bootstrap nodes it will try\nto prefetch all rabbitmq users via 'rabbitmqctl -q list_users' and\nfail because there are no guarantees that rabbit is up and running since\nno rabbitmq puppet stuff gets executed there. I.e. on non-bootstrap\nnodes the Exec['rabbitmq-ready] -> Rabbitmq_users<||> won't work.\n\nWhile we're at it we move this rabbitmq user process to step2. rabbitmq\nget started and created at step2 so it makes no sense to invoke user\ncreation before that.\n\nNote that this should be considered a short-term fix only. The proper\nfix should be (if possible) to move the veritas rabbitmq user\nconfiguration in the dedicated veritas service.\n\nCloses-Bug: #1739026\n\nChange-Id: I36950b9cec9f02a0de55292342a3a699df0b3cf1",
        "cmtr": "Emilien Macchi",
        "date": "2017-12-23 05:44:18+00:00",
        "files": ["rabbitmq.pp"]
      },
      {
        "hash": "c3f73aab7aa95597ab89804abcca70d1e59c4007",
        "msg": "Remove _member_ role from the keystone accepted roles\n\nAs per the development mailing list: Keystone removed _member_ role\nmanagement\n\nChange-Id: Ia13afc6da29ad0bca0e134faadeb92edabb394e3",
        "cmtr": "Emilien Macchi",
        "date": "2017-12-29 15:44:05+00:00",
        "files": ["rgw.pp", "tripleo_profile_base_ceph_rgw_spec.rb"]
      },
      {
        "hash": "a02206f3d73fca0cade9fc7e0a6f470d365f52c2",
        "msg": "Replace colon with a dash.\n\nIPv6 addresses have colons\nas separators, in this case\nwe cant name an order with colons.\n\nTo preserve the IPv6 address we\ncan replace it with a dash.\n\nChange-Id: I87a1fb8952081dcb49f64ffff62414df120dccac\nCloses-bug: 1740261",
        "cmtr": "Emilien Macchi",
        "date": "2017-12-30 07:09:28+00:00",
        "files": ["horizon_endpoint.pp"]
      },
      {
        "hash": "3aa4499e3c14fdcc53a88cca7bdb45f59d01aef8",
        "msg": "Add missing ssl ports for ovn_sbdb and ovn_nbdb\n\nChange-Id: I1df3eaa5ebdaa16130501cd7afe6687c1a8e8aeb",
        "cmtr": "Moshe Levi",
        "date": "2018-01-03 21:44:07+02:00",
        "files": ["haproxy.pp"]
      },
      {
        "hash": "50f6aa18843388ffc79eb82ccd652bcd32d2a644",
        "msg": "Include security_compliance manifest in keystone\n\nThis enables us to configure the security compliance options through\nt-h-t.\n\nDepends-On: Ic4d962910343ad30de7840124bbc7773ea3697a1\nChange-Id: I089f2e28cce2688ed080096c88ab539393627cfb",
        "cmtr": "Juan Antonio Osorio Robles",
        "date": "2018-01-04 10:18:46+02:00",
        "files": ["keystone.pp", "security-compliance-1f5cb3b3be9f7657.yaml"]
      },
      {
        "hash": "5824044527b347b67a754834c2db46406acf3b0d",
        "msg": "Configure VIPs for all networks including composable networks\n\nConfigure all VIPs including those on custom composable networks.\nHard-coded network names are removed and instead a hiera parameter\ncontaining all networks is used.\n\nFor keepalived, the vrouter_id is generated from an index for each\nnetwork in the hiera data.  This will change the vrouter_ids for\nsome VIPs.\n\nChange-Id: I117454afe750451ad1f2633fa0f196bb71740b8d\nPartial-Bug: 1741129\nDepends-On: If8d3219a0714e3db34980e884dce84912a837865",
        "cmtr": "Bob Fournier",
        "date": "2018-01-04 15:23:35-05:00",
        "files": ["keepalived.pp", "haproxy.pp", "haproxy_bundle.pp", "composable-network-vips-a1b9b738561a8214.yaml"]
      },
      {
        "hash": "1cfecc39dc37a01bbaea114773397c062367ae42",
        "msg": "Fix rabbitmq-ready check for single node HA deployments\n\nThe current rabbitmq-ready exec waits for rabbitmq to become clustered\nbefore it allows user creation. Unfortunately this doesn't work when\nthe deployment contains a single node, because rabbit doesn't trigger\nthe clustering mode at all.\n\nSet the exec test according to the number of rabbit nodes, in order\nto check for cluster state only when necessary.\n\nCloses-Bug: #1741345\n\nChange-Id: I24e5e344b7f657ce5d42a7c7c45be7b5ed5e6445\nCo-Authored-By: John Eckersberg <jeckersb@redhat.com>",
        "cmtr": "Damien Ciabrini",
        "date": "2018-01-05 10:14:48+00:00",
        "files": ["rabbitmq_bundle.pp"]
      },
      {
        "hash": "4f94f07de9f273989937698c90cd4191dd4bf7ed",
        "msg": "Remove contrail from haproxy\n\nThis patch removes contrail from haproxy, so that the new tripleo haproxy\ndynamic endpoint infrastructure can be used.\n\nChange-Id: I4203055e87f9e319c8a27bcd37b3159c15d6c0a3",
        "cmtr": "Michael Henkel",
        "date": "2018-01-05 13:29:50+01:00",
        "files": ["haproxy.pp"]
      },
      {
        "hash": "d6f5bf9539f1f9926760d88d45ea7433208191b0",
        "msg": "OVN HA: Set the OVN Resource Agent parameter 'inactive_probe_interval'\n\nThis parameter is required to configure the inactive probe interval. If not\nspecified, this param defaults to 5 seconds which is not enough. This patch sets\nthe value of this param to 180 seconds.\n\nChange-Id: Ifbfb2a1ced308e4e4c89f0db31808df17cb43e7e",
        "cmtr": "Numan Siddique",
        "date": "2018-01-06 10:58:19+05:18",
        "files": ["ovn_dbs_bundle.pp", "ovn_northd.pp"]
      },
      {
        "hash": "c1ba5f7316167179685a3bcfcc1399a2817767a3",
        "msg": "Fluentd: Transform path by service\n\nCurrently, the configuration delivered via\nservice_config_settings does not provide the\ntransformation path regarding the logs for\ncontainerized deployments. So logs are not\ncorrectly configured on fluentd on containerized\ndeployments.\n\nThis path added this feature so the logs are\nproperly located on fluentd configuration.\n\nAdded unit test for this issue\n\nPartial-bug: #1715187\nPartial-bug: #1716427\nChange-Id: Ie7df4b8b94cb0ae38096ab95800f211ef1cd8455",
        "cmtr": "Juan Badia Payno",
        "date": "2018-01-09 11:12:47+01:00",
        "files": ["fluentd.pp", "fluentd_service.pp", "tripleo_profile_base_logging_fluentd_spec.rb"]
      },
      {
        "hash": "a8fbe2f77601b86a8220261c752dc4a3ce75691c",
        "msg": "logging: teach fluentd.pp about fluentd_service_user\n\nThis allows tripleo to explicitly set the user that will be used to\nrun the fluentd service, rather than relying on the package defaults.\n\nChange-Id: I4e4bb72cc3f28d884c174fdf7df1594b344c1f40",
        "cmtr": "Juan Badia Payno",
        "date": "2018-01-09 15:38:24+01:00",
        "files": ["fluentd.pp", "tripleo_profile_base_logging_fluentd_spec.rb", "fluentd_user.conf.erb"]
      },
      {
        "hash": "e84da28dc310f83ef6ac8ae61ccb4cc5fe6d3c2e",
        "msg": "Enable automatic restart of memcached, apache and mongodb\n\nPrior to Newton, HA deployments had automatic restart of non-Openstack\nservices on controller nodes. From Newton onward, after we switched to\nsystemd for the vast majority of services, Openstack services are\nconfigured for automatic restart, but memcached apache and mongodb\nlack it.\n\nGenerate a drop-in file for the mentioned services, so they can\nrestart automatically in both HA and non-HA deployments.\n\nChange-Id: I8576db193b358cf804e8aaeb0e05b31c635ae5ba\nCloses-Bug: #1741263",
        "cmtr": "Damien Ciabrini",
        "date": "2018-01-09 17:26:40+00:00",
        "files": ["apache.pp", "mongodb.pp", "memcached.pp"]
      },
      {
        "hash": "ffd524d7f1d9205ff463457e5e54d562e723f7e4",
        "msg": "Create Swift directory d1 if needed\n\nSwift added a requirement that storage directories must exist before\nusing them. In case of the d1 directory in TripleO - used when there are\nno \"real disks\" - it has to be created by TripleO in advance.\n\nRelated-Bug: 1729569\nChange-Id: I49e395ac379ced01adb60d8d9f951c08718b1c61",
        "cmtr": "Emilien Macchi",
        "date": "2018-01-11 06:06:55+00:00",
        "files": ["storage.pp", "swift-create-local-dir-b00292e623d03044.yaml"]
      },
      {
        "hash": "37f0c004c5a80653d25a71a0292e26bad73ad3e1",
        "msg": "Let haproxy_defaults be overridable\n\nAdd the haproxy_defaults_override parameter so the defaults_options\nin haproxy are overridable. Tested by adding the following yaml to\nthe deployment:\nparameter_defaults:\n  ExtraConfig:\n    tripleo::haproxy::haproxy_defaults_override:\n      retries: 7\n\nObserved that haproxy.conf contained the following (retries defaults\nto 3):\ndefaults\n  retries  7\n\nChange-Id: I52b8f528e334e4d243ac7f506b9f293dab9f478d\nCloses-Bug: #1732176",
        "cmtr": "Michele Baldessari",
        "date": "2018-01-11 08:36:50+01:00",
        "files": ["haproxy.pp"]
      },
      {
        "hash": "dbfc8e1c1d5f39c7e64de7d7188cb2325492ee2a",
        "msg": "Use on-marked-down shutdown-sessions for redis haproxy conf\n\nThe problem we have with redis can be described as follows:\n- Connection is made to redis via haproxy, where haproxy directs to one redis node\n- That chosen redis node fails and a new redis node gets promoted\n- HAProxy will send *new* connections to redis to the newly promoted\n  redis server, but you still have a session active (ie. that has not hit\n  timeout), so haproxy will attempt to use that connection.\n\nBy using 'on-marked-down shutdown-sessions' we make sure we close\nold existing sessions when the redis master node changes.\n\nCloses-Bug: #1742086\nTested-By: Marian Krcmarik <mkrcmari@redhat.com>\n\nChange-Id: Ia4d8c27057ee2de9e49e4358aa069571d1c952a9",
        "cmtr": "Alex Schultz",
        "date": "2018-01-11 15:40:25+00:00",
        "files": ["haproxy.pp"]
      },
      {
        "hash": "19ed96ef06b1b6e4ee6e82d9938dbc8fdc4e839c",
        "msg": "cinder/pacemaker: resolve puppet resource duplications\n\nSome pacemaker bundle resources were in conflict and that made Puppet\ncatalog failing. This patch makes sure that resources are now unique.\n\nChange-Id: I940cec6d670df39ac6e2a3559a028acbeee99331\nCloses-Bug: #1742795",
        "cmtr": "Emilien Macchi",
        "date": "2018-01-11 14:10:00-08:00",
        "files": ["backup_bundle.pp", "volume_bundle.pp"]
      },
      {
        "hash": "5a51ec58b4d7f493171f102cc351565939e57543",
        "msg": "Haproxy endpoint resource: set defaults for server_names and IPs\n\nIt's not trivial to set the server names and IP addresses for dynamic\nhaproxy endpoints due to the fact that hiera renders the array as a\nstring. In order to make this work, we try to be clever and get the\nserver names and IPs from hiera directly as a default value. This should\nwork as long as the endpoint uses the same name as the service.\n\nCloses-Bug: #1743626\nChange-Id: I51eebfeceb5915fb0add8332c50386f6df93dca5",
        "cmtr": "Juan Antonio Osorio Robles",
        "date": "2018-01-17 08:56:06+00:00",
        "files": ["endpoint.pp"]
      },
      {
        "hash": "98afac08bf148c67c16e2ebc1ca94ff6074fc17b",
        "msg": "Add incoming storage driver param\n\nWe need a way to not enable redis incoming driver in tls\ncase. Lets expose a param to override the default\nbehavior.\n\nDepends-On: I5b71099d2e1c25b86ceed430f15ee28ef0f37f5c\n\nChange-Id: I63ba2735912ee5f8f5880bba6e4320f2eaa51f92",
        "cmtr": "Pradeep Kilambi",
        "date": "2018-01-19 19:24:08+00:00",
        "files": ["api.pp", "tripleo_profile_base_gnocchi_api_spec.rb"]
      },
      {
        "hash": "10468ae5f96ca318c3da25d2ef3af5dccf7a0043",
        "msg": "Adds TLS support for OpenDaylight\n\nAllows enabling TLS for the ODL service as well as OVS.\n\nPartially-Implements: blueprint opendaylight-ssl-support\n\nDepends-On: I719e8dddbd00d19fd8e1bd2a20dabd600b7b9d1c\n\nChange-Id: Id579aea77bf8d679b514ef9851af36d9170e93a1\nSigned-off-by: Tim Rozet <trozet@redhat.com>",
        "cmtr": "Tim Rozet",
        "date": "2018-01-19 17:11:07-05:00",
        "files": ["opendaylight.pp", "openvswitch.pp", "haproxy.pp", "certmonger_user.pp", "opendaylight.pp", "opendaylight.pp", "opendaylight.pp", "add-tls-opendaylight-a3f943a0f6012424.yaml", "tripleo_certmonger_opendaylight_spec.rb", "tripleo_certmonger_openvswitch_spec.rb", "tripleo_profile_base_neutron_ml2_opendaylight_spec.rb", "tripleo_profile_base_neutron_opendaylight_spec.rb", "tripleo_profile_base_neutron_ovs_opendaylight_spec.rb", "step1.yaml", "step4.yaml"]
      },
      {
        "hash": "2fca306c1344445d4c130512f625bb250ee69b07",
        "msg": "Add custom_vrrp_script param to keepalived\n\nThis is needed when running keepalived in a container in\norder provide a containerish version of the command to check\nif haproxy is running.\n\nChange-Id: I800d5c067a57b0ed7f15397a1f655fbd88a4633e",
        "cmtr": "Dan Prince",
        "date": "2018-01-20 20:36:52-05:00",
        "files": ["keepalived.pp"]
      },
      {
        "hash": "aeb84829381a79094eed1bba52e7beeb52357db3",
        "msg": "Add support for Dell EMC VNX Cinder Backend\n\nThis change adds a new define for cinder::backend::emc_vnx\n\nChange-Id: Ieab9a66db78b61383dca4400e06cb1152660933a\nImplements: blueprint dellemc-vnx-cinder",
        "cmtr": "rajinir",
        "date": "2018-01-22 16:01:35-06:00",
        "files": ["volume.pp", "dellemc_vnx.pp", "vnx_driver_bea44d073cd161e7.yaml", "tripleo_profile_base_cinder_vnx_spec.rb"]
      },
      {
        "hash": "aa7c76329a782c9c290ef52f1be95d21442bd975",
        "msg": "Add variable for keystone topics queue for barbican\n\nBarbican keystone listener needs its own queue for keystone\nnotifications.\n\nChange-Id: I3a81e109fcfe8ec8bb434ece7a7fd92f3642922c",
        "cmtr": "Ade Lee",
        "date": "2018-01-23 11:44:17-05:00",
        "files": ["keystone.pp", "add-keystone-notifications-queue-for-barbican-72477b0b45bcfbd7.yaml"]
      },
      {
        "hash": "768733344563356083e12d92e47aead35f8354a7",
        "msg": "Split docker mirror and debug configs\n\nUse augeas to modify only parameters' dedicated configuration.\nSplit mirror configs from debug configs. Overlapping those params may\ncause augeas errors and/or nschedule the docker service restarts for\nsome cases, ending up with  split brain state for the docker\nservice run-time config vs changed docker-daemon.json config.\n\nFollows-up Ic5640061837b022f7175f0db0dc269f9a61e6023\n\nChange-Id: I7932aa2e0eb096ea09255084783e577bb450e0cd\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>",
        "cmtr": "Bogdan Dobrelya",
        "date": "2018-01-24 09:25:49+00:00",
        "files": ["docker.pp", "tripleo_profile_base_docker_spec.rb"]
      },
      {
        "hash": "49be755b2cfc80753a808375c5f6584c3db4987b",
        "msg": "Correct Neutron RabbitMQ User Param Mapping\n\nChanged parameter mapping for RabbitMQ user name\noverrides. THT maps the user name override to\nneutron::rabbit_user for the Neutron service only.\n\nThis will allow the transport_url string to be built\ncorrectly when a deployer wishes to override the default\nguest username.\n\nChange-Id: I0e35a6979765a453e2ed219e6026f6c0a17b2013\nCloses-Bug: 1746034",
        "cmtr": "Matt Wisch",
        "date": "2018-01-29 09:44:41-07:00",
        "files": ["neutron.pp"]
      },
      {
        "hash": "85a7e64f87ea6f867bf25ff0f0c1f8213dbc5a55",
        "msg": "Add support for Designate\n\nChange-Id: I115090679bd2577cdc3998ab3cc97f9581e5e18a\nbp designate-support",
        "cmtr": "Ben Nemec",
        "date": "2018-01-31 15:38:13+00:00",
        "files": ["haproxy.pp", "mysql.pp", "designate.pp", "api.pp", "central.pp", "mdns.pp", "producer.pp", "sink.pp", "worker.pp", "keystone.pp", "pools.yaml.erb"]
      },
      {
        "hash": "42a869fcf4b13cd8f1c88b0ec2ff5efefe8d2e0f",
        "msg": "Fluentd: fixed configuration by service\n\nThe configuration file by service was not\nproperly configured.\n\nAlso clean some double tasks on the tests\n\nChange-Id: I3149902401d68d6fd236073a73a20f982d4b952a\nCloses-Bug: #1746952\nRelated-Bug: #1715187",
        "cmtr": "Juan Badia Payno",
        "date": "2018-02-02 10:37:47+01:00",
        "files": ["fluentd_service.pp", "tripleo_profile_base_logging_fluentd_spec.rb"]
      },
      {
        "hash": "82892046f05edcc1f3ad275a6cbe778004f8675a",
        "msg": "Add missing pacemaker cindier CA cert mounts\n\nThis adds the same CA cert mounts which other pacemaker managed\ncontainers like rabbitmq, redis, and haproxy.\n\nWith this change, cinder-backup should work correctly when running SSL\nenabled.\n\nChange-Id: I199c03ba36a24e6b1caf535ed285047952ac9eb0\nCloses-Bug: #1747326",
        "cmtr": "Steve Baker",
        "date": "2018-02-05 14:54:23+13:00",
        "files": ["backup_bundle.pp", "volume_bundle.pp"]
      },
      {
        "hash": "9b0ff39ad59a0b7d81fe5ea2c5bd413bb8ab4bf0",
        "msg": "Add panko expirer to configure cron tasks\n\nPartial-Bug: #1746514\n\nDepends-On:  I23359239008105cd77a599d2c08c067f132099b7\n\nChange-Id: Ia3df0d89459cda6cb648cd6dc97bca3492ca04e0",
        "cmtr": "Pradeep Kilambi",
        "date": "2018-02-05 10:21:05-05:00",
        "files": ["api.pp"]
      },
      {
        "hash": "0674a2e2930f49d095ad61bf50ac1b4616592d65",
        "msg": "Revert \"Set disable:true for oci-machine-register\"\n\nWe don't need this code anymore, since it's now the default\nin OCI, since:\nhttps://github.com/projectatomic/oci-register-machine/commit/66691c3d0805c41e7336a364934e3e144e97a20f#diff-7a73afad76bf813b4d03daf6fbc18568\n\nThis reverts commit e9bce747833af94ce71fe76921bd53cb5df07964.\n\nCloses-Bug: #1747473\nChange-Id: Iddc8a35a20a745dba14456e4b57741ffec67cc80",
        "cmtr": "Emilien Macchi",
        "date": "2018-02-05 17:55:27+00:00",
        "files": ["docker.pp"]
      },
      {
        "hash": "4b8aac2405bad36f75e3c170607e59f1ace640fe",
        "msg": "Remove support for heat-api-cloudwatch service\n\nIn 6d55417f80384ead56e176beec9e2fc4eb162d61 cloudwatch api\nhas been removed from heat.\n\nChange-Id: Ic11d8803bb260fe302da929eda9ec8d547a92176\nDepends-On: https://review.openstack.org/541132",
        "cmtr": "Rabi Mishra",
        "date": "2018-02-06 06:17:56+00:00",
        "files": ["haproxy.pp", "api_cloudwatch.pp", "remove-heat-api-cloudwatch-bb2b8d0cdff775e2.yaml"]
      },
      {
        "hash": "ee7be9b7ad8157030911570783ecbe28b79fa107",
        "msg": "Do not fail fencing configuration when instanceha is disabled\n\nRight now we fail like this if fencing is enabled but instanceha is not:\n\"Error: Evaluation Error: Error while evaluating a Function Call, Could not find data item compute_instanceha_short_node_names in any Hiera\ndata file and no default supplied at /etc/puppet/modules/tripleo/manifests/fencing.pp:61:13 on node controller-0.localdomain\"\n\nChange-Id: I36691997bffc56cb4fe17b2f762e4d44d71dfe50\nCloses-Bug: #1747643",
        "cmtr": "Michele Baldessari",
        "date": "2018-02-06 11:44:12+01:00",
        "files": ["fencing.pp"]
      },
      {
        "hash": "95db3f03cbedbf5fedc10087d7dd0cd94ec6eb4b",
        "msg": "keystone: support _member_ role management\n\nAllow to let puppet-keystone managing _member_ role which is required\nby Horizon. Can be enabled with keystone_enable_member parameter (disabled\nby default.)\n\nA patch in tripleo-heat-templates will activate this boolean to true so\nHorizon deployments will trigger the role creation.\n\nChange-Id: I5272f1fc199772043db48d29b0ea99a8bfff4ed5\nRelated-Bug: #1741066",
        "cmtr": "Emilien Macchi",
        "date": "2018-02-06 17:51:14+00:00",
        "files": ["keystone.pp", "keystone_member-70065ba9269c4bfd.yaml"]
      },
      {
        "hash": "e083f248a920ba067424f7fa1353e61ff234d6bd",
        "msg": "Add tests for tripleo::keepalived\n\nThis change adds test coverage for the tripleo::keepalived class\nand exposes the ability to pass network_vips as a parameter rather than\njust via hiera.\n\nChange-Id: Ied2f26f6bfdcd9c4fe85f08461b997c15c66345f",
        "cmtr": "Alex Schultz",
        "date": "2018-02-06 16:47:22-07:00",
        "files": ["Puppetfile_extras", "keepalived.pp", "keepalived-test-f3eddf57a5b4d433.yaml", "tripleo_keepalive_spec.rb"]
      },
      {
        "hash": "92c7d6880b95938cb6a47ff7a4a339aab61bf255",
        "msg": "Adds missing Neutron TLS certificate/key generation\n\nNeutron agents need key/certificate in order to communicate with OVS\nusing SSL.\n\nPartial-Bug: 1746762\n\nChange-Id: I4bbaf00f0776cab0be34d814a541fb2fd1e64326\nSigned-off-by: Tim Rozet <trozet@redhat.com>",
        "cmtr": "Tim Rozet",
        "date": "2018-02-07 15:00:30-05:00",
        "files": ["neutron.pp", "certmonger_user.pp", "add-neutron-tls-8d020c63f14408d0.yaml"]
      },
      {
        "hash": "5248a2a61cd7583742840cf88f52598adf9c58c9",
        "msg": "Use --live-restore when setting up the docker service\n\nIf you rerun an overcloud deploy command or do a minor update, while you\nchanged any of the options in the tripleo::profile::base::docker puppet\nmanifest, you are at risk of triggering a restart of the docker service\n(e.g. you changed the url in the insecure_registries parameter).\n\nThis has a number of drastic consequences:\n1) *All* the containers will be shut-down and restarted (this will\neffectively bring down all the APIs at the same time in the overcloud\ndeploy case)\n2) Pacemaker can potentially fail to start/stop/monitor the bundles (due\nto the docker API not being available) which can have a few possible\noutcomes (depending on timing): it could fence a node in case of failure\nto stop, it could stop any of the bundles, it could recover from such a\nsituation.\n\nEffectively now that we run stuff inside containers, restarting docker\nis a bit like taking down PID 1 and starting it again.\n\nIn order to ameliorate this situation we make sure that docker is\nactually started with the '--live-restore' option which was introduced\nin docker 1.12 via https://github.com/moby/moby/issues/6851 and avoids\nrestarting all the containers when the docker daemon gets restarted.\n\nCo-Authored-By: Damien Ciabrini <dciabrin@redhat.com>\n\nChange-Id: Ib3ea6de7f235d2a2d53a6576e0876ab171128b34\nCloses-Bug: #1747851",
        "cmtr": "Michele Baldessari",
        "date": "2018-02-08 07:50:15+01:00",
        "files": ["docker.pp", "tripleo_profile_base_docker_spec.rb"]
      },
      {
        "hash": "2895fbe982769392fef87d6b05f9335018f4ebee",
        "msg": "Set rgw_keystone_revocation_interval to 0 for ceph::rgw::keystone\n\nCeph RGW defaults to checking every 600 seconds for a revocation.\nThis is only useful for PKI tokens. PKI is not enabled. This check\nneeds to be disabled.\n\nPartial-Bug: #1748137\nChange-Id: I2487ce8e5cb5d3dc0d7fb8e547a4abe0e086ff4b",
        "cmtr": "Giulio Fidente",
        "date": "2018-02-08 09:29:39+00:00",
        "files": ["rgw.pp", "tripleo_profile_base_ceph_rgw_spec.rb"]
      },
      {
        "hash": "61fa4912b90e5dced0fb629c1154362eaabe9be6",
        "msg": "Include barbican modules to swift proxy\n\nIncluding new modules to be deployed with the Swift proxy\nThese new modules enable barbican support in Swift\n\nDepends-On: https://review.openstack.org/525321\nChange-Id: I1ceda973733acb081967ab04a5fd57eb1609c9a7\nSigned-off-by: Thiago da Silva <thiago@redhat.com>",
        "cmtr": "Thiago da Silva",
        "date": "2018-02-08 09:00:41-05:00",
        "files": ["proxy.pp"]
      },
      {
        "hash": "ff88c8929ce884d613a77dcf5a00a51da7301ed6",
        "msg": "Ensure mysql client ip address is an ip\n\nIf the hieradata is set to '' for the client ip address, puppet may\nconsider this as a true condition. This change changes out the check to\nensure that the value is an ip address, otherwise remove it from the\nconfiguration file.\n\nChange-Id: Idbf6bec3ec66f7018dc30e5f1e6d1ba5f48180d7\nPartial-Bug: #1748180",
        "cmtr": "Alex Schultz",
        "date": "2018-02-08 11:53:03-07:00",
        "files": ["client.pp", "tripleo_profile_base_database_mysql_client_spec.rb"]
      },
      {
        "hash": "32cce5f150d0c618584cf65550343f435ea6afb1",
        "msg": "Fix Redis TLS setup, including replication traffic\n\nThis patch reverts the revert of Redis TLS [1], and fixes the\nencryption of Redis replication traffic for HA deployments.\n\nIn order to encrypt replication traffic, Redis is configured to\ndrive outgoing replication traffic to a stunnel endpoint on\n<localhost:port_xxx>. Stunnel then manages the encryption up to\nthe peer Redis master.\n\nLikewise, slave Redis nodes advertise themselves as coming from\n<localhost:port_yyy> in order to let the Master initiate connection\nthe Slave over its own stunnel endpoint, should it needs to.\n\nEach redis node is assigned a unique replication port, and has\ndedicated stunnels to each one of its peer. This port mapping\ninfo is used by the redis resource agent to manage A/P failover.\n\nThe regular Redis port is unchanged, so Redis clients (OpenStack\nservices, HAproxy, CLI, firewall) are not impacted by this change.\nOnly SELinux needs to be adapted.\n\n[1] I37501c4c983c87e3a38841272eb176ebbe626a65\n\nChange-Id: I6cc818973fab25b4cd6f7a0d040aaa05a35c5bb1\nRelated-bug: #1737707",
        "cmtr": "Damien Ciabrini",
        "date": "2018-02-09 09:18:19+00:00",
        "files": ["redis.pp", "haproxy.pp", "evaluator.pp", "polling.pp", "certmonger_user.pp", "redis.pp", "api.pp", "redis.pp", "redis_bundle.pp"]
      },
      {
        "hash": "e13c3d4a80cd44609c77add71729df61e065cf69",
        "msg": "Allow for customization of the Ceph cluster name for Cinder\n\nProvides necessary 'passthrough' to configure the Ceph cluster\nname to the Cinder RBD backend.\n\nChange-Id: I8d5293eaaf104b6374dfa13992a67ddc37397f10",
        "cmtr": "Giulio Fidente",
        "date": "2018-02-12 14:34:16+00:00",
        "files": ["rbd.pp", "tripleo_profile_base_cinder_volume_rbd_spec.rb"]
      },
      {
        "hash": "8bff507abc308edea6c129f2a083fe370f0b2812",
        "msg": "Avoid hard-coded settings in Cinder HA containers\n\nAdd parameters for controlling the docker container settings used to\ncreate the cinder-volume and cinder-backup pacemaker bundles. The\nparameters eliminate the need to hard-code the list of docker volumes\nand environment variables, making it possible to control the values\nusing hiera data.\n\nFor backward compatibility, the previous hard-coded values are used\nwhen no parameter inputs are supplied.\n\nPartial-Bug: #1748290\nChange-Id: I4ba0d78ad17183b97290b853a6c103e55bc8977c",
        "cmtr": "Alan Bishop",
        "date": "2018-02-13 11:53:24-05:00",
        "files": ["docker_volumes_to_storage_maps.rb", "backup_bundle.pp", "volume_bundle.pp", "tripleo_profile_pacemaker_cinder_backup_bundle_spec.rb", "tripleo_profile_pacemaker_cinder_volume_bundle_spec.rb", "default.yaml"]
      },
      {
        "hash": "ceb4faebe114e3c599d7e9021f0b611edbc9052d",
        "msg": "Add support for libvirt VNC TLS with option of a dedicated CA\n\nConfigures ca/certs/key for nova-novnc vencrypt.\n\nA dedicated IPA sub-CA can optionally be used to restrict access.\nA custom certmonger helper is used to support this as certmonger currently\nhas limited support for IPA sub-CAs.\n\nDepends-On: I24a9841ba04c95df27599b4d7ac2da8416e751e5\nChange-Id: Ic73bcbdbecc1bc05f43acdd5480370f37ead3fb8",
        "cmtr": "Oliver Walsh",
        "date": "2018-02-14 10:23:26+00:00",
        "files": ["cm_ipa_subca_wrapper.py", "libvirt_vnc.pp", "libvirt_vnc.pp", "libvirt_vnc_dirs.pp", "certmonger_user.pp", "vnc_tls-7e5f275217117f78.yaml"]
      },
      {
        "hash": "23add877fd169aa7eb05d12e15b34a8a9b77d296",
        "msg": "Add support for Dell EMC XtremIO Cinder ISCSI Backend\n\nThis change adds a new define for cinder::backend::dellemc_xtremio_iscsi\n\nChange-Id: I0bb926becaf32e62cfc79d37c619282416b0627d\nImplements: blueprint dellemc-xtremeio-cinder",
        "cmtr": "rajinir",
        "date": "2018-02-14 10:15:58-06:00",
        "files": ["volume.pp", "dellemc_xtremio_iscsi.pp", "xtremio_driver_cea44d073cd161e7.yaml", "tripleo_profile_base_cinder_xtremio_iscsi_spec.rb"]
      },
      {
        "hash": "3c71c483e3e91d11fa83bfd751d2d8e54fdb4a20",
        "msg": "Remove neutron-managed firewall rules from /etc/sysconfig/iptables\n\nSee https://bugzilla.redhat.com/show_bug.cgi?id=1541528\n\nWe don't want IPtables rules managed by Neutron to be persistent, it can\ncause issues when rule are recreated while a namespace doesn't exist.\n\nThis patch makes sure that in any Neutron node, no IPtables rule will be\npersistent if it contains \"neutron-\" in the name.\n\nChange-Id: Ife465c2c6739c3cbfb9923ed97f370baa745739c\nRelated-Bug: #1747960",
        "cmtr": "Emilien Macchi",
        "date": "2018-02-14 21:44:51-08:00",
        "files": ["firewall.pp", "neutron_iptables-9ea317c73b79929d.yaml"]
      },
      {
        "hash": "f81ee4f865aee2b5fa6d0341aadd35a2a71cc9fc",
        "msg": "docker: configure group/user for deployment_user\n\nConfigure the deployment_user to be part of docker group, required for\nopenstack container commands.\n\nChange-Id: Ifd1bec1262dfbd213810bb2b4d561f47bf010e69",
        "cmtr": "Emilien Macchi",
        "date": "2018-02-15 12:17:04-08:00",
        "files": ["docker.pp", "deployment_user-6df5c1c2fe8b7b6b.yaml"]
      },
      {
        "hash": "ec864ac52502f67c06632322eb556cd6fcbdc495",
        "msg": "Fix galera deployment when stack's name has capital letters\n\nThe galera resource agent generates a mapping of pacemaker node\nname (shortname) to galera node name (FQDN). Fix the generated\nmapping when stack's name uses capital letters.\n\nChange-Id: Ica82e44852bae81931b4c87acd71b90656812061\nCloses-Bug: #1748927",
        "cmtr": "Damien Ciabrini",
        "date": "2018-02-16 22:24:19+00:00",
        "files": ["mysql.pp", "mysql_bundle.pp"]
      },
      {
        "hash": "21101149f269f1374a5a16d13c7f26228d4a7ec1",
        "msg": "Add firewall chain support\n\nAdd ability to manage firewall chains with the firewallchain resource.\n\nChange-Id: Ib75f97748540b9162d76c9c189d3ca7e082b3784\nRelated-Bug: #1750194",
        "cmtr": "Alex Schultz",
        "date": "2018-02-18 11:01:04-07:00",
        "files": ["firewall.pp", "firewall-chain-updates-f2b9d6ced9bde846.yaml", "tripleo_firewall_spec.rb"]
      },
      {
        "hash": "fd3c3e504dac590e3b87e1240ebd0971d4e28bb9",
        "msg": "Conditionally include Nuage VRS and Nuage Metadata Agent\n\nUsing this change, users can conditionally include\nNuage VRS and Nuage Metadata Agent\n\nChange-Id: Ica4564b105d49c9713a393e8efe848c4bcd42251",
        "cmtr": "Sai Ram Peesapati",
        "date": "2018-02-21 20:05:25+00:00",
        "files": ["nuage.pp"]
      },
      {
        "hash": "bb5013920ac658c99d9ae2ab7f81847b274aa177",
        "msg": "Reload iptables instead of restart\n\nDue to bz#1520534, restarting iptables may cause unrelated kernel\nmodules to be unloaded. In order to not trigger this condition we should\nreload iptables from the configuration rather than restart the whole\nprocess.\n\nChange-Id: Ifc625eb51f6cc2a0a4cf4f83ac7a4978db641d75\nCloses-Bug: #1752441\nCloses-Bug: #1753492",
        "cmtr": "Alex Schultz",
        "date": "2018-03-05 11:06:52-07:00",
        "files": ["firewall.pp"]
      },
      {
        "hash": "20cdbd3c6b18bb83e801d4cd7b1d23e38168e055",
        "msg": "Ensure ip_forward set before Docker\n\nDocker will attempt to configure iptables rules if it finds that\nip_forward is not enabled prior to the docker daemon getting started.\nWe should ensure that this gets configured prior to Docker being\nconfigured if we are configuring it with puppet.\n\nChange-Id: I6ea6fb8ed300d284c961e7474ff84d104f326255\nNeeded-By: I557e4a41c4e5be3a2f50e5d5ddc86e17c1eb44e1\nRelated-Bug: #1750194",
        "cmtr": "Alex Schultz",
        "date": "2018-03-05 13:12:53-07:00",
        "files": ["docker.pp"]
      },
      {
        "hash": "7fb7d63c2b26a4705faba8fcf3c9ea593c460cdc",
        "msg": "Move ip_forward configuration to THT\n\nThe ip_forward configuration is now handled in the kernel configuration\nof THT. We need to drop the static configuration of this\nnet.ipv4.ip_forward value.\n\nDepends-On: I557e4a41c4e5be3a2f50e5d5ddc86e17c1eb44e1\nChange-Id: I9e97ef74bbbe5287692fb4b5cb8e229e3f975741",
        "cmtr": "Alex Schultz",
        "date": "2018-03-05 20:13:47+00:00",
        "files": ["plumgrid.pp"]
      },
      {
        "hash": "1ec7756676d31b6930dc775a75c16faa375f08fa",
        "msg": "Update default Cinder RBD backend_host value\n\nThe Cinder RBD driver's backend_host should use 'cinder::backend_host'\nhiera data first, and only use 'cinder::host' if the preferred hiera\nvalue isn't defined.\n\nPartial-Bug: #1753596\nDepends-On: I11a55571f4bed630967242c797e08e11c47eab11\nChange-Id: I78a88725d297794efd854fbfb14df0611e0e0738",
        "cmtr": "Alan Bishop",
        "date": "2018-03-06 09:41:41-05:00",
        "files": ["rbd.pp"]
      },
      {
        "hash": "2207900d76db9c8c7e86da380c3d1c120bc0d4b4",
        "msg": "neutron/server: expose quotas configuration\n\nIt'll be required by the containerized undercloud, so we can configure\nspecific quotas for Neutron.\n\nChange-Id: I9c23f7fcc10e297c805e7c08433003cd86300b0b",
        "cmtr": "Emilien Macchi",
        "date": "2018-03-06 23:11:42+01:00",
        "files": ["server.pp"]
      },
      {
        "hash": "2abe91fe867fa18b6181324a083f4a33b60066e8",
        "msg": "Fix stack update with rabbitmq containers\n\nIn change I44865af3d5eb2d37eb648ac7227277e86c8fbc54 we\nadd support to change rabbitmq password on update.\nThis breaks when using containers in a number of scenarios:\n- FFU because at this stage rabbitmq can be down on the node\n  and the call to rabbitmq_user will trigger a rabbitmqctl list_user\n  call which will eventually time out.\n- Controller replacement procedure because on the newly replaced\n  controller rabbitmq will not be up yet and the rabbitmq_user call\n  will timeout just like during FFU.\n- Upgrades from Pike to Queens upgrades we seem to be hitting the\n  same issue as FFU\n\nThe exact error that we will get on the non bootstrap nodes is the\nfollowing:\n=ERROR REPORT==== 3-Mar-2018::05:37:39 ===** Connection attempt from\ndisallowed node 'rabbitmq-cli-67@controller-1' **\n\nThe reason for this is that on non bootstrap node we do not enforce\nthe Exec['rabbitmq-ready'] -> Rabbitmq_user<||> collector, because\nwe do not want to enforce it there (think controller replacement)\n\nLet's make sure we enforce the Rabbitmq_user class only on bootstrap\nnodes, since in HA deployments the users get replicated by the cluster anyway.\n\nCo-Authored-By: Damien Ciabrini <dciabrin@redhat.com>\nCo-Authored-By: John Eckersberg <jeckersb@redhat.com>\nCloses-Bug: #1753949\n\nChange-Id: I483fe61f09fa2c3034d2b3d8ffa1ca53feefe6af",
        "cmtr": "Michele Baldessari",
        "date": "2018-03-07 17:19:00+01:00",
        "files": ["rabbitmq.pp"]
      },
      {
        "hash": "c8fe3cbb06bfff5536f967fbd8903aaf3a18ec25",
        "msg": "Create vhost_socket_dir with proper permissions\n\nFor ovs2.8 version, it is required to modify the vhost socket\ndirectory permissions as openvswitch:hugetlbfs instead of\nqemu:qemu. Create the dir and assign it proper permissions in\nstep 3.\n\nChange-Id: I5fc2f852c66c2b825af96aba2657d0f9085dc8c3",
        "cmtr": "Tim Rozet",
        "date": "2018-03-07 15:38:16-05:00",
        "files": ["ovs.pp", "opendaylight.pp", "tripleo_profile_base_neutron_ovs_opendaylight_spec.rb", "tripleo_profile_base_neutron_ovs_spec.rb", "default.yaml", "step4.yaml"]
      },
      {
        "hash": "4802fa1b7c3cb448a968ea139adbaf4178dbd438",
        "msg": "ironic/api: include cors config\n\nNeeded to configure API cors.\n\nChange-Id: Ide044fa1e7bb6a2fd1d80e380868f85a519679af",
        "cmtr": "Emilien Macchi",
        "date": "2018-03-07 23:39:32+01:00",
        "files": ["api.pp"]
      },
      {
        "hash": "ebde918b0f0cea8715a30f57ca7c2683dd477c50",
        "msg": "Disallow TLS v1.0 from HAProxy\n\nThis forces HAProxy to only accept newer versions of TLS, which allows\nus to meet FedRAMP requirements.\n\nChange-Id: I14f4de3875a743ee5328b13668790b26cefd8439\nRelated-Bug: #1754368",
        "cmtr": "Alex Schultz",
        "date": "2018-03-12 15:39:09+00:00",
        "files": ["haproxy.pp", "No-TLS-v1.0-0edeac680bb51f94.yaml"]
      },
      {
        "hash": "f4e5a916b0f4875a64c41962a24b2ad258458414",
        "msg": "mistral/api: include cron_trigger\n\nAllow to override hieradata for cron_trigger in Mistral API.\n\nChange-Id: I01c4497324b2c8666d9f749147693d580c0a5e20",
        "cmtr": "Emilien Macchi",
        "date": "2018-03-13 11:21:20+00:00",
        "files": ["api.pp"]
      },
      {
        "hash": "fdcad62d8f2783c4fb58da56303700525bf05c9f",
        "msg": "Add flag to enable SELinux in docker profile\n\nSELinux for docker is disabled by default; this commit adds an option\nselinux_enabled that will add it if set to true.\n\nChange-Id: I883e64c1b69b24c75441fc3a628942fb1d90d448",
        "cmtr": "Juan Antonio Osorio Robles",
        "date": "2018-03-13 12:12:04+00:00",
        "files": ["docker.pp", "tripleo_profile_base_docker_spec.rb"]
      },
      {
        "hash": "65f3714164f3c3be4d6b4eb6a29c753b4f0fee96",
        "msg": "firewall: don't reload IPtables after cleanup\n\nThis patch stops the IPtables reload when doing Neutron rules cleanup.\n\nFull context:\npuppetlabs-firewall only manages the current state of iptables\nrules and writes out the rules to a file to ensure they are\npersisted. We are specifically running the following commands after the\niptables rules to ensure the persisted file does not contain any\nephemeral neutron rules. Neutron assumes the iptables rules are not\npersisted so it may cause an issue if the rule is loaded on boot\n(or via iptables restart). If an operator needs to reload iptables\nfor any reason, they may need to manually reload the appropriate\nneutron agent to restore these iptables rules.\n\nrhbz#1541528\nRelated-Bug: #1747960\nChange-Id: I1ab3a52306b91baadb70d2210a378417087f1ecf",
        "cmtr": "Emilien Macchi",
        "date": "2018-03-13 13:00:29+00:00",
        "files": ["firewall.pp"]
      },
      {
        "hash": "b51f182dd5ac89eca0d7c7c7989498ddab0d0b82",
        "msg": "Enable networking-mlnx ml2 drivers\n\nDepends-On: Ife22d7c113c33d6e42a94b9d6c32ed8cb61d6488\nChange-Id: I805bdfc6f2bed8f998f73d3e17a4c2ab493f5717",
        "cmtr": "Hamdy Khader",
        "date": "2018-03-13 14:24:19+00:00",
        "files": ["ml2.pp"]
      },
      {
        "hash": "4c7ca4cbc385fa70438015ebc91b8692c00d46e7",
        "msg": "Fail more gracefully when passed an empty ip\n\nIntroduce a new function called is_ip_addresses which will verify\nif a string or an array of strings are composed of correct ip addresses.\n\nWe do this in order to fail a bit more clearly if we are passed an empty\nor broken ip address. Without this the failure will be in pacemaker\nfailing to start a VIP called 'ip-'.\n\nAlso convert the only use of legacy is_ip_address stdlib function in\nmysql::client to this new function (for consistency reasons).\n\nSuggested-by: Rhys Oxenham <roxenham@redhat.com>\n\nChange-Id: Ie15c585a9a902b577f35a75de191bfa91c132668",
        "cmtr": "Michele Baldessari",
        "date": "2018-03-13 17:08:34+01:00",
        "files": ["is_ip_addresses.rb", "haproxy.pp", "haproxy_with_vip.pp", "client.pp", "is_ip_addresses_spec.rb"]
      },
      {
        "hash": "a4ae09d169396f63b1952570b2105d695753fa9d",
        "msg": "Extract local CA if it expired\n\nThis adds a conditional that extracts certmonger's local CA if the\ncertificate doesn't exist or if it has expired already. This adds the\nability for the deployer to fix the undercloud installation with the\nundercloud install command itself if expiration of the CA cert happens.\n\nChange-Id: I61577be2434d7321dd462902d386c6911c2c4f57\nCloses-Bug: #1753948",
        "cmtr": "Juan Antonio Osorio Robles",
        "date": "2018-03-14 06:07:26+00:00",
        "files": ["local.pp", "tripleo_certmonger_ca_local_spec.rb"]
      },
      {
        "hash": "35daa4f7f39dcd41e06dc75b9290ee6e07e9c255",
        "msg": "Fix rabbitmq haproxy configuration\n\nWhile rabbitmq currently does not use haproxy at all, the code for\nit inside haproxy is currently wrong.\nLet's get this right in case we ever want to put rabbitmq back under\nhaproxy's balancing\n\nChange-Id: Iaf1f818bdbde000ea3eedf0fb6503f60b3dddf75\nCloses-Bug: #1672356",
        "cmtr": "Michele Baldessari",
        "date": "2018-03-14 11:26:33+01:00",
        "files": ["haproxy.pp"]
      },
      {
        "hash": "ce4576375df1e49442e87ce26b8be436bd00b899",
        "msg": "Allow custom per-service listen_options for haproxy\n\nThere are situations where it would be advantageous to let\nan operator specify custom per-service options.\nOne such use case seen in the wild is to extend the timeout of the cinder\nbecause due to the specific storage backend these cinder operations\nsometimes take a bit longer. Letting the user tweak the\nhaproxy_default_timeout is likely not what we want as for the case\nabove we only want to tweak a single service.\n\nWe explored another approach to fix this by adding a bunch of\n<service>_options class parameters in the tripleo::haproxy class but it\nmade it extremely bloated and confusing, so we opted for this approach\nwhich is much less invasive both code-wise and complexity-wise\n\nTested by deploying with:\nExtraConfig:\n  tripleo::haproxy::cinder::options:\n    \"timeout client\": '90m'\n    'timeout server': '90m'\n\nAnd observing the following cinder haproxy stanza:\nlisten cinder\n  bind 10.0.0.4:8776 transparent\n  bind 172.16.2.9:8776 transparent\n  mode http\n  http-request set-header X-Forwarded-Proto https if { ssl_fc }\n  http-request set-header X-Forwarded-Proto http if !{ ssl_fc }\n  option httpchk\n  option httplog\n  timeout client 90m\n  timeout server 90m\n  server overcloud-controller-0.internalapi.localdomain 172.16.2.7:8776 check fall 5 inter 2000 rise 2\n  server overcloud-controller-1.internalapi.localdomain 172.16.2.16:8776 check fall 5 inter 2000 rise 2\n  server overcloud-controller-2.internalapi.localdomain 172.16.2.13:8776 check fall 5 inter 2000 rise 2\n\nCloses-Bug: #1755711\n\nChange-Id: Icb7f026190b310d34c47dc059e2fdb22031b0963",
        "cmtr": "Michele Baldessari",
        "date": "2018-03-14 15:12:38+01:00",
        "files": ["endpoint.pp", "horizon_endpoint.pp", "per-service-options-haproxy-75f5f00cf5243ecb.yaml", "tripleo_haproxy_endpoint_spec.rb", "default.yaml"]
      },
      {
        "hash": "4bd257bb1e23921ccee1fa92b2f44b3718288c2b",
        "msg": "ironic-inspector: enable support for dnsmasq PXE filter\n\nChange-Id: I67809c7a754fb2569baf389daa056b3cdac071f0\nDepends-On: I056cdadc025f35d8b6fd22f510a7c0a8e259a1f0",
        "cmtr": "Harald Jenss",
        "date": "2018-03-15 14:20:33+01:00",
        "files": ["ironic_inspector.pp"]
      },
      {
        "hash": "364c76158f171102fbb7c1d18bcae7c5ad877a8c",
        "msg": "Add NFS backend for cinder-backup service\n\nAdd a Cinder backup profile that uses NFS for the backend.\n\nRelated-Bug: #1744174\nChange-Id: Ic0adb294aa2e60243f8adaf167bdd75e42c8e20e",
        "cmtr": "Alan Bishop",
        "date": "2018-03-15 19:33:51-04:00",
        "files": ["nfs.pp", "cinder-backup-nfs-backend-59bf771a58af65f6.yaml", "tripleo_profile_base_cinder_backup_nfs_spec.rb", "default.yaml"]
      },
      {
        "hash": "8f3c647ea0e8d4fcf40ec70f3c261b9bd69e8182",
        "msg": "firewall/rule: add 'table' support\n\n... so we can create masquerade/nat rules.\n\nChange-Id: Ic9a2626e73d132c3be7ff14a1f4cdba0c16c5b53",
        "cmtr": "Emilien Macchi",
        "date": "2018-03-16 17:25:57+00:00",
        "files": ["rule.pp", "firewall_table-f58ec47de40ec62d.yaml", "tripleo_firewall_spec.rb"]
      },
      {
        "hash": "79ccad4b8d31e6786d01c48250fdf86f4acb544a",
        "msg": "Support both rabbitmq and oslo.messaging service nodes\n\nThis commit selects either the rabbitmq hosts or the\nhosts associated to oslo.messaging rpc and notify services.\nThis is required for the transition of t-h-t to the use\nof the separated oslo.messaging service backends.\n\nThis patch:\n*select rpc and notify hosts from rabbitmq or oslo_messaging\n*modify qdrouterd inter-router link port\n*update qdr unit spec\n*add release note\n\nNeeded-By: I934561612d26befd88a9053262836b47bdf4efb0\nChange-Id: I154e2fe6f66b296b9b643627d57696e5178e1815",
        "cmtr": "Andrew Smith",
        "date": "2018-03-16 18:16:42-04:00",
        "files": ["aodh.pp", "api.pp", "ceilometer.pp", "cinder.pp", "congress.pp", "api.pp", "heat.pp", "ironic.pp", "keystone.pp", "manila.pp", "mistral.pp", "neutron.pp", "nova.pp", "novajoin.pp", "octavia.pp", "qdr.pp", "rabbitmq.pp", "sahara.pp", "proxy.pp", "tacker.pp", "rabbitmq.pp", "rabbitmq_bundle.pp", "messaging-rabbitmq-or-oslo-messaging-services-f29943b2eafd24e6.yaml", "tripleo_profile_base_qdr_spec.rb"]
      },
      {
        "hash": "7c234ba0bcd65a318aa8c645ac2f81e9942290eb",
        "msg": "Include cors modules for Nova, Ironic Inspector\n\nThis will resolve issues in using/developing the TripleO UI\nfrom non-local hosts.\n\nChange-Id: Ic897f56d8fdb4221d73821712de8bcab9ac384ec\nCloses-bug: #1756543",
        "cmtr": "Dan Prince",
        "date": "2018-03-17 12:01:02-04:00",
        "files": ["ironic_inspector.pp", "api.pp"]
      },
      {
        "hash": "d8d86cfe68f7002a9ac039cb2b41789547df21be",
        "msg": "Conventional log directories for pacemaker bundles\n\nUse /var/log/containers/<service> instead of /var/log/<service>, as\nthe rest of the containerized services.\n\nChange-Id: Id5760c16260de991ff95168c76186edc113752c8\nDepends-On: Icb311984104eac16cd391d75613517f62ccf6696\nCo-Authored-By: Damien Ciabrini <dciabrin@redhat.com>\nCloses-Bug: #1731969",
        "cmtr": "Damien Ciabrini",
        "date": "2018-03-19 12:55:12+00:00",
        "files": ["mysql_bundle.pp", "redis_bundle.pp", "rabbitmq_bundle.pp"]
      },
      {
        "hash": "77527bb050ba8ae7fb2c67742466e099818fb446",
        "msg": "Make the 'Could not find data item hacluster_pwd' error a bit clearer\n\nIf you deploy a role with a pacemaker-managed service (galera, rabbit, redis,\netc) but forgot to add the ::tripleo::profile::base::pacemaker\nthere will be a rather unintuitive error:\n  puppet apply --debug --verbose --detailed-exitcodes --summarize --color=false --modulepath\n    /etc/puppet/modules:/opt/stack/puppet-modules:/usr/share/openstack-puppet/module --tags\n    file,file_line,concat,augeas,pacemaker::resource::bundle,pacemaker::property,pacemaker::resource::ocf,pacemaker::constraint::order,pacemaker::constraint::colocation\n    -e 'include ::tripleo::profile::base::pacemaker;include ::tripleo::profile::pacemaker::database::redis_bundle'\",\n  Error: Evaluation Error: Error while evaluating a Function\n  Call, Could not find data item hacluster_pwd in any Hiera data file and no default supplied at\n  /etc/puppet/modules/tripleo/manifests/profile/base/pacemaker.pp:127:24 on node role-2.localdomain\n\nLet's make it a bit clearer. Long-term we want to look at a validation\nthat covers this.\n\nChange-Id: Iffb6e76cdd0286ef10ada57c70ce31971e42c84f",
        "cmtr": "Michele Baldessari",
        "date": "2018-03-19 19:12:38+01:00",
        "files": ["pacemaker.pp"]
      },
      {
        "hash": "8187a83259bf00994460ad127e72152e27875990",
        "msg": "Disable curl globbing\n\nDisable curl globbing to allow Swift ringbuilder to upload to IPv6\nupload addresses. Also dicable globbing in the other places curl\nis used.\n\nChange-Id: Iba51cc75bea26b775f790849f0b466a6528ee627\nCloses-Bug: #1757118",
        "cmtr": "Derek Higgins",
        "date": "2018-03-20 11:43:24+00:00",
        "files": ["crl.pp", "ringbuilder.pp", "tripleo_certmonger_ca_crl_spec.rb", "redis-notifications.sh.erb"]
      },
      {
        "hash": "c6db8d0cd2bd6ad3cf14b4d312e4defc8a48cfdd",
        "msg": "Add configuration for the Nova proxy endpoint\n\nChange-Id: I6128f8e8a439880aa40f9b3a32e47563ad90cdb6\nPartial-Bug: #1755560\nDepends-On: I3701c34841b84c2272dcc24d982fc622ff6139b6",
        "cmtr": "Julie Pichon",
        "date": "2018-03-20 12:40:07+00:00",
        "files": ["ui.pp", "nova-endpoint-a957a840ee653307.yaml", "tripleo_ui_config.js.erb"]
      },
      {
        "hash": "e11804237e81c8488bd008603638d5f62758acb7",
        "msg": "Fixes incorrect ownership of ODL TLS cert/key\n\nDeployments were failing because the owner/group of the TLS generated\ncertificate and key were set to 'odl'.  This user and group does not\nexist in a containerized deployment because the ODL RPM is only\ninstalled in the container.\n\nThis patch leaves the owner as root for the files which works because\nthe files are only used to generate a keystore for ODL (which is owned\nby odl), and the cert/key files themselves are never read by ODL.\n\nCloses-Bug: 1757135\n\nChange-Id: Ie5b9e98ea2fc16b820d56272653df4874e81cf68\nSigned-off-by: Tim Rozet <trozet@redhat.com>",
        "cmtr": "Tim Rozet",
        "date": "2018-03-20 12:47:07-04:00",
        "files": ["opendaylight.pp", "fix-odl-tls-owner-77d2d71fe39ea3e7.yaml", "tripleo_certmonger_opendaylight_spec.rb"]
      },
      {
        "hash": "c04557fba4a178714578c30e99d1c370efd06cd2",
        "msg": "Support separate oslo.messaging services for RPC and Notifications\n\nThis commit introduces separate oslo.messaging services in place of\na single rabbitmq server. This enables the separation of rpc and\nnotifications, the continued use of single rabbitmq server as well\nas the use of alternative oslo.messaging drivers/backends.\n\nThis patch:\n* adds oslo_messaging_* hiera parameters\n* update rabbitmq and qdrourterd services\n* add release note\n\nDepends-On: I03e99d35ed043cf11bea9b7462058bd80f4d99da\nDepends-On: I934561612d26befd88a9053262836b47bdf4efb0\nChange-Id: Ie181a92731e254b7f613ad25fee6cc37e985c315",
        "cmtr": "Andrew Smith",
        "date": "2018-03-20 12:55:02-04:00",
        "files": ["aodh.pp", "api.pp", "ceilometer.pp", "cinder.pp", "congress.pp", "api.pp", "heat.pp", "ironic.pp", "keystone.pp", "manila.pp", "mistral.pp", "neutron.pp", "nova.pp", "novajoin.pp", "octavia.pp", "qdr.pp", "rabbitmq.pp", "sahara.pp", "proxy.pp", "tacker.pp", "rabbitmq.pp", "rabbitmq_bundle.pp", "oslo-messaging-separate-backends-69aabd30ba470e61.yaml", "default.yaml"]
      },
      {
        "hash": "6bc7a7fcb72b3735d99600475a0242cada1c758b",
        "msg": "Add missing cron jobs for Overcloud cleanup\n\nThis will add the Nova cleanup for the shadow\ntables.\n\nDepends-On: I2dcf37417c36fb8b1bde207c60d22d580005715c\nChange-Id: I1ebfb0964b00920d787115cfc997bcf0494081c9",
        "cmtr": "Carlos Camacho",
        "date": "2018-03-23 15:42:40+01:00",
        "files": ["api.pp", "add-purge-tables-4f2de7c7e12ccf0c.yaml"]
      },
      {
        "hash": "1c13f0c93a72e9e1315788c30db5770d4abecc86",
        "msg": "HAProxy: expose stats socket in HA containerized deployment\n\nConfigure haproxy bundle to bind mount /var/lib/haproxy from the\nhost, in order to expose the stats socket.\n\nChange-Id: Ib833ebe16fcc1356c9e0fc23a7eebe9c4b970c55",
        "cmtr": "Damien Ciabrini",
        "date": "2018-03-27 06:58:55+00:00",
        "files": ["haproxy_bundle.pp"]
      },
      {
        "hash": "fe09335418b45f6963645c018232530d517b2659",
        "msg": "Removes neutron ownership of certs\n\nSince neutron UID is not static, setting the owners on the certificates\nin the host to be 'neutron' will not match the UID for neutron in the\ndeployed container.  Therefore this patch removes the host neutron\nownership and leaves it as root, so that it can be later modified in the\ncontainer to be chowned to neutron.\n\nPartial-Bug: 1759049\n\nChange-Id: I83b14b91d1ee600bd9d5863acba34303921368ce\nSigned-off-by: Tim Rozet <trozet@redhat.com>",
        "cmtr": "Tim Rozet",
        "date": "2018-03-28 11:27:02-07:00",
        "files": ["neutron.pp", "fix-neutron-cert-perms-4a034bb516be6f9f.yaml"]
      },
      {
        "hash": "e2beaadd52801df2cb7ecbc5f915f3b04c996722",
        "msg": "Add support for Ironic Networking Baremetal\n\nAdd manifests to for Ironic Networking Baremetal componentes:\n - ML2 plug-in - baremetal mechanism driver\n - L2 Agent - ironic-neutron-agent\n\nChange-Id: I3c40f84052a41ed440758b971975c5c81ace4225",
        "cmtr": "Harald Jenss",
        "date": "2018-03-29 16:08:19+02:00",
        "files": ["networking_baremetal.pp", "ml2.pp", "networking_baremetal.pp", "ironic-networking-baremetal-ebb19eca5fa235bc.yaml"]
      },
      {
        "hash": "03402f207baa0a061f9c230a4d7c83eaf7a73be2",
        "msg": "Implement tripleo::masquerade_networks\n\nIt'll be used in the OS::TripleO::Services::MasqueradeNetworks service\nto configure masquerade IPtables rules when needed for PoC or CI\nenvironments.\n\nChange-Id: I8dda3c164de90954855979529de4f1100a858b45\nRelated-Bug: #1760211",
        "cmtr": "Emilien Macchi",
        "date": "2018-04-03 21:22:46-07:00",
        "files": ["masquerade_networks.pp", "tripleo_masquerade_networks_spec.rb"]
      },
      {
        "hash": "b93250af11682075d91bf2cd0accd7e4171219c5",
        "msg": "Split up neutron-lbaas service plugin and agent\n\nSplitting up service plugin and agent allows operators to deploy\nneutron-lbaas with greater granularity over what one wants to get\ninstalled configured. For example, one may want to configure only one of\nthe two.\n\nChange-Id: If3af333b34d2af764d111d49e981f9d3a170d803",
        "cmtr": "Carlos Goncalves",
        "date": "2018-04-05 21:44:21+01:00",
        "files": ["lbaas.pp", "lbaas.pp", "split-up-neutron-lbaas-f0c248220ed872cd.yaml"]
      },
      {
        "hash": "4d08ec3978cca4230f7855e5678ac097202fa584",
        "msg": "Include local CA installation outside of HAProxy cert setup\n\nIt used to be the case that we would only do the local CA setup if we\nwould require a certificate for HAProxy. This is no longer the case as\nwe're trying to do TLS by default in the overcloud. So this instead\nmoves that setup to the certmonger_user class which should always get\nused.\n\nChange-Id: I5b4dc0a60ccc988b1ffbbb04231e6688377dd0eb",
        "cmtr": "Juan Antonio Osorio Robles",
        "date": "2018-04-06 09:20:30+03:00",
        "files": ["haproxy.pp", "certmonger_user.pp"]
      },
      {
        "hash": "128ecf188e7126fc02c5bd59d157867de446679e",
        "msg": "Fix mode for openstack services\n\nOpenStack services are generally http services. The mode for\nthese endpoints should be http otherwise logging will fallback\ntcplog.\n\nChange-Id: If3b50718027a4a52df3453feb6fc332d2966ffd0\nCloses-Bug: #1759690",
        "cmtr": "Emilien Macchi",
        "date": "2018-04-07 01:12:33+00:00",
        "files": ["haproxy.pp"]
      },
      {
        "hash": "2419b95063ee7bbc99e68a4af55fce7b5248a3b5",
        "msg": "firewall/masquerading: configure state and proto\n\nChange-Id: I887741d47fcc20169a1e58ad3f0a003716a4521a",
        "cmtr": "Emilien Macchi",
        "date": "2018-04-07 05:05:02+00:00",
        "files": ["masquerade_networks.pp", "tripleo_masquerade_networks_spec.rb"]
      },
      {
        "hash": "6bc451b583774ac765f1dce28226073ea2be3b7f",
        "msg": "Fixes incorrect license for certmonger haproxy dirs\n\nChange-Id: Idee479d12904beac23b2075fa6e3c6bd2b96732a\nSigned-off-by: Tim Rozet <trozet@redhat.com>",
        "cmtr": "Tim Rozet",
        "date": "2018-04-09 15:50:32-04:00",
        "files": ["haproxy_dirs.pp"]
      },
      {
        "hash": "b6c33093733eb773047aa660eec154d77b79b19a",
        "msg": "ceilo:base: include ::ceilometer::dispatcher::gnocchi\n\nhieradata was defined in THT but the class wasn't included so we missed\ndispatcher parameters.\n\nChange-Id: Iaf7268153776e76584b86a3539833de922b88f16",
        "cmtr": "Emilien Macchi",
        "date": "2018-04-09 19:08:14-07:00",
        "files": ["ceilometer.pp"]
      },
      {
        "hash": "c31a624c667e9b6f50254ac01d679710aa361918",
        "msg": "Removing conditions to enable Nuage VRS and Metadata Agent\n\nRemoving the condtions for enabling Nuage VRS and\nMetadata Agent on Overcloud nodes\n\nChange-Id: Iee1f3f8ca406005b2086a852d2432e569a6b296d",
        "cmtr": "Sai Ram Peesapati",
        "date": "2018-04-09 22:53:38-04:00",
        "files": ["nuage.pp"]
      },
      {
        "hash": "baec322271a47ff8b343ddff1b710d6d39ce0573",
        "msg": "Fix docker debug/mirrors JSON augeas changes\n\nCloses-bug: #1762475\n\nChange-Id: I3c6f47751af1c8050dd0a635bda058e4782c0d17\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>",
        "cmtr": "Bogdan Dobrelya",
        "date": "2018-04-10 08:56:30+02:00",
        "files": ["docker.pp", "tripleo_profile_base_docker_spec.rb"]
      },
      {
        "hash": "f50d3819134179df1c72617944f3ee006daf40f6",
        "msg": "masquerade: configure FORWARD rules\n\nWhen enabling masquerading, we need to allow the traffic to go through\nso we need the FORWARD rules as well, for source and destination\nnetworks.\nAlso support multiple destinations or sources for ipv4/ipv6 suffixed\nrules with a REGEX.\n\nChange-Id: I48aa95b96c762a72273b5b0b714a04da7ee69a40",
        "cmtr": "Emilien Macchi",
        "date": "2018-04-10 18:02:29+00:00",
        "files": ["rule.pp", "masquerade_networks.pp", "tripleo_masquerade_networks_spec.rb"]
      },
      {
        "hash": "001f5633a55ead2dc1a33140fa536681a9f58c9b",
        "msg": "haproxy: enable UI on containerized undercloud\n\nTripleO UI endpoint was never enabled in HAproxy because enable_ui is\nfor instack-undercloud.\nIt should be tripleo_ui_enabled to follow the pattern with other\nservices, and be automatically set to True when the service is actually\nenabled, which is the case of the containerized undercloud.\n\nFor backward compatibility, we'll keep support for enable_ui and use\npick to find which one is defined, otherwise we'll just disable it like\nbefore.\n\nChange-Id: I2f9ef89b6daac2dec4e2af110f5d239a3611f747",
        "cmtr": "Emilien Macchi",
        "date": "2018-04-12 15:10:01+00:00",
        "files": ["haproxy.pp"]
      },
      {
        "hash": "2131880c710d04d1d6030f02f9e257bbfe14d339",
        "msg": "Add resource-stickiness=INFINITY to VIPs\n\nRight now we do not add any resource stickiness to the VIPs. This has\none consequence when we configure IHA: Namely, when a fenced compute\nnode comes back (i.e. it recovers), pacemaker is free to move the VIPs\naround the controllers (see http://clusterlabs.org/pacemaker/doc/en-US/Pacemaker/1.1/html/Clusters_from_Scratch/_prevent_resources_from_moving_after_recovery.html)\nto optimize the resource placement. We can observe the VIP moving with\nthe following message:\nApr 12 06:37:04 [979790] controller-1 pengine: notice: LogAction: * Move ip-10.0.0.110 ( controller-1 -> controller-0 )\n\nThis movement of the VIP is highly undesirable because in Instance HA the fence_compute agent needs to talk to keystone via the VIP, and if the VIP is on the move we might get the following errors:\nApr 12 06:37:23 [979787] controller-1 stonith-ng: warning: log_action: fence_compute[259311] stderr: [ Starting new HTTP connection (1): 10.0.0.110 ]\nApr 12 06:37:23 [979787] controller-1 stonith-ng: warning: log_action: fence_compute[259311] stderr: [ keystoneauth1.exceptions.connection.ConnectFailure: Unable to establish connection to http://10.0.0.110:5000 ]\nApr 12 06:37:28 [979787] controller-1 stonith-ng: warning: log_action: fence_compute[261144] stderr: [ REQ: curl -g -i -X GET http://10.0.0.110:5000 -H \"Accept: application/json\" -H \"User-Agent: python-keystoneclient\" ]\nApr 12 06:37:28 [979787] controller-1 stonith-ng: warning: log_action: fence_compute[261144] stderr: [ Starting new HTTP connection (1): 10.0.0.110 ]\nApr 12 06:37:28 [979787] controller-1 stonith-ng: warning: log_action: fence_compute[261144] stderr: [ keystoneauth1.exceptions.connection.ConnectFailure: Unable to establish connection to http://10.0.0.110:5000 ]\n\nBy setting the resource-stickiness of the VIPs to INFINITY we control how strongly they prefer to stay running where they are.\n\nChange-Id: I6862452d2250ac4c2c3e04840983510a3cd13536\nCloses-Bug: #1763586",
        "cmtr": "Michele Baldessari",
        "date": "2018-04-13 08:48:18+02:00",
        "files": ["haproxy_with_vip.pp"]
      },
      {
        "hash": "6d510547965350338d0d11c4114f67bc6c3d9702",
        "msg": "Partially revert \"Fail more gracefully when passed an empty ip\"\n\nThis reverts the manifests/haproxy.pp parts of\ncommit 4c7ca4cbc385fa70438015ebc91b8692c00d46e7.\n\nThe reverted commit made it such that you can not set a\nhostname as undercloud_public_host in undercloud.conf. This\nis required so that the UI can be accessed by hostname\nexternally as well as to make the Undercloud API accessible\nexternally. We keep the parts of that change that verify if\nthe haproxy VIP for pacemaker is a proper IP as it can\nhappen that a misconfigured network template causes empty\nstrings and the deploy will fail in a very odd way.\n\nChange-Id: I57eeb2dd26336465627593d633c63b92da42e71d\nCloses-Bug: #1763776",
        "cmtr": "Michele Baldessari",
        "date": "2018-04-15 19:49:49+02:00",
        "files": ["haproxy.pp"]
      },
      {
        "hash": "c5131729e762535e8ec778432e84d82238168388",
        "msg": "Merge default_listen with swift_proxy_server_listen_options\n\nCurrently haproxy for swift doesn't have default setting. This generates config\nsuch as\n\n  listen swift_proxy_server\n  bind 10.0.0.5:13808 transparent ssl crt /etc/pki/tls/private/overcloud_endpoint.pem\n  bind 172.16.1.4:8080 transparent\n  option httpchk GET /healthcheck\n  timeout client 2m\n  timeout server 2m\n  server overcloud-controller-0.storage.localdomain 172.16.1.10:8080 check fall 5 inter 2000 rise 2\n\nwithout\n\n  http-request set-header X-Forwarded-Proto https if { ssl_fc }\n  http-request set-header X-Forwarded-Proto http if !{ ssl_fc }\n  option httplog\n\nThis makes really hard to debug in case of issues.\n\nThis patch merges default_listen_options with swift to have config which is\nmore reliable for debugging\n\nCloses-Bug: #1764731\nChange-Id: I6716499b4a10f3ba39db33d6468c261c58ee373d",
        "cmtr": "Sergii Golovatiuk",
        "date": "2018-04-17 14:50:49+02:00",
        "files": ["haproxy.pp"]
      },
      {
        "hash": "b2495dcd90e69dd3a142726580830d43458b73c0",
        "msg": "Fluentd monitoring interface\n\nThis patch enables deploying fluentd service with enabled REST API\ninterface for monitoring purposes, which we will then use for container\nhealth check.\n\nChange-Id: Ifd31f7a636d91040d2b12314091c834dbec6b2a2",
        "cmtr": "Martin Mgr",
        "date": "2018-04-17 15:15:12+02:00",
        "files": ["fluentd.pp", "tripleo_profile_base_logging_fluentd_spec.rb"]
      },
      {
        "hash": "70bedeef99d5b2852307158330f78c0d9159532f",
        "msg": "Fixes binding type for OpenDaylight Websocket\n\nFor OpenDaylight Websocket connections we were not using transparent\nbinding type with HA Proxy.  This means that HA Proxy was not able to\nstart on nodes that did not have the VIP because it was unable to bind\nto that IP on more than one node.  However, transparent binding works OK\nwith OpenDaylight Websocket and should be fine to enable so that HA\nProxy is able to start on every controller.\n\nCloses-Bug: 1764514\n\nChange-Id: I89e6115795ece6735e816ab71b5b552b17f7b943\nSigned-off-by: Tim Rozet <trozet@redhat.com>",
        "cmtr": "Tim Rozet",
        "date": "2018-04-17 10:51:03-04:00",
        "files": ["haproxy.pp", "fix-opendaylight-websocket-haproxy-7220b0c25ff13faa.yaml"]
      },
      {
        "hash": "8bb4af7329074b7d19052b8708474c8f132ff864",
        "msg": "Changing opendaylight loadbalancing alogirthm\n\nCurrently source based balancing is used for both opendaylight and\nopendaylgiht_ws which results in the load being spread across only 2\nbacnekds instead of 3 (as confirmed by scale tests). This commit changes\nthe haproxy configuration for opendaylight and opendaylight_ws to use\nroundrobin which is the default.\n\nChange-Id: Idb4fe3803f69ab7440aaa2997cc4de46c9ac5458\nCloses-Bug: 1762518",
        "cmtr": "Sai Sindhur Malleni",
        "date": "2018-04-17 15:42:33-04:00",
        "files": ["haproxy.pp"]
      },
      {
        "hash": "a5561f0a1d48ff3364f6e1785000dd454bd57057",
        "msg": "Force stunnel to use TLSv1.2\n\nThis allows us to force a TLS version for stunnel, which we\nset to TLSv1.2. This ensures that we're compliant with FedRamp,\nwhich requires a minimum version of TLSv1.1.\n\nUnfortunately, using the \"option\" key didn't work in the configuration\nas was tried in a previous commit. This option would have only only\ndisabled the versions we set, instead of only allowing one, like\n\"sslVersions\" does. This seems to be the only alternative we have at\nthe moment.\n\nRelated-Bug: #1754368\nChange-Id: I353f893ee5dcc265269704e23f65aa0460724078",
        "cmtr": "Juan Antonio Osorio Robles",
        "date": "2018-04-19 13:31:46+00:00",
        "files": ["service_proxy.pp", "service.erb"]
      },
      {
        "hash": "6ced0e21b7eb2dcefea205515fd0719a38f1e367",
        "msg": "logging: fluentd add multi log files on sources\n\nCurrently there are some services such as horizon, keystone that\nhave more than one log file, currently only one files is posible to\nread.\n\nThis patch adds the posiility of having more than one file for a\nservice.\n\nChange-Id: Id1d58637967ffb0e9bd0a83c3cbca699432f5378",
        "cmtr": "Juan Badia Payno",
        "date": "2018-04-21 00:17:18+02:00",
        "files": ["fluentd_service.pp", "tripleo_profile_base_logging_fluentd_spec.rb", "step4.yaml"]
      },
      {
        "hash": "94ca328e5d309a5617043b2944e65df79271e0cd",
        "msg": "Firewall: NOT persist ephemetal ironic-inspector rules\n\nWhen Ironic Inspector is configured to use the iptables\npxe_filter driver it uses ephemeral firewall rules. This\nchange ensures that these rules are not persisted.\n\nIronic Inspector iptables filter driver does not set\ncomments on it's rules. This patch use the string:\n'-m comment --comment' to ensure rules created by\npuppet-tripleo firewall is not accidentally removed from\nthe persisted firewall rules.\n\nChange-Id: Ic90804db8dd74fce78169d9857a150d5ebf40cbb\nRelated-Bug: #1765700",
        "cmtr": "Harald Jenss",
        "date": "2018-04-23 08:45:01+02:00",
        "files": ["firewall.pp"]
      },
      {
        "hash": "7f592470a8ad747747f42e00d9853482a0f2d079",
        "msg": "Add NVMeOF support to configure cinder backend\n\nDepends-On: I74ca80b10e25cbb36f073b8c0310da0c8784fb1f\nChange-Id: I33545b5de5d4196848255d7333e799dc481540e2",
        "cmtr": "Hamdy Khader",
        "date": "2018-04-24 06:57:53+00:00",
        "files": ["volume.pp", "nvmeof.pp", "tripleo_profile_base_cinder_volume_nvmeof_spec.rb"]
      },
      {
        "hash": "203083e97d89404f96f1528772d7e458b1864f8b",
        "msg": "Only run os-net-config if file has content\n\nInstack undercloud allows the user to specify their own\nos-net-config overrides file. This file currently cannot be empty\nbecause it causes an exception in this puppet manifest.\n\nThis patch skips running os-net-config if the config file has no\ndata and allows the user a means to disable os-net-config from running\nif they choose to do so.\n\nRelated bug: #1764507\n\nChange-Id: I69eb812af2d653cb3eb29694ae29b57ebb2de53d",
        "cmtr": "Dan Prince",
        "date": "2018-04-24 08:55:05-04:00",
        "files": ["os_net_config.pp"]
      },
      {
        "hash": "5eee00d1ccf0c287fc4c4b81570b9f4f8cb73f3e",
        "msg": "Allow configuration of NFS backend for Nova\n\nAllow NFS configuration of storage backend for Nova.\nThis way the instances files will be stored on a shared\nNFS storage.\n\nImplements: bp tripleo-nova-nfs\n\nChange-Id: Id15aec6324814a871e87f19f24999b0e3b8a8f05",
        "cmtr": "Rajesh Tailor",
        "date": "2018-04-25 19:49:49+05:18",
        "files": ["compute.pp", "tripleo_profile_base_nova_compute_spec.rb"]
      },
      {
        "hash": "ffc4ca8e715cf70f165e5d8b4a9cb8d01ecf0f92",
        "msg": "Treat IP address as optional in Cisco VTS ML2 configuration\n\nBug #1766949\n\nChange-Id: I5d8b7f05a2d8d7bff608c8bbe9bd0d837bd1e3dc\nSigned-off-by: Wojciech Dec <wdec@cisco.com>",
        "cmtr": "Wojciech Dec",
        "date": "2018-04-26 06:59:57-07:00",
        "files": ["vts.pp", "tripleo_profile_base_neutron_ml2_vts_spec.rb"]
      },
      {
        "hash": "1c46f6e1cd6fbaee688e153422a951acfbdaf4f6",
        "msg": "Disallow SSLv2, SSLv3 and TLS1.0 in mysql for FedRAMP compliance\n\nWe cannot disable a specific protocol when using SSL in mysql, so in order to\nenforce TLS1.1 or greater, we disallow all ciphers provided by SSLv2 SSLv3 and\nTLS1.0.\n\nGalera group communication cannot be configured with a list of available\nciphers, so configure gcomm to use AES128-SHA256, which seems to be the closest\nfrom the default AES128-SHA.\n\nInherit the cipher list settings for the rsync SST.\n\nChange-Id: Ib3625020e60665f91b9009e7f06b9b25a6970a9b",
        "cmtr": "Damien Ciabrini",
        "date": "2018-04-27 12:37:07-04:00",
        "files": ["mysql.pp", "mysql.pp", "mysql_bundle.pp"]
      },
      {
        "hash": "1cece4b9a433c11a08f1ce6de7c2be3479d9527f",
        "msg": "docker: force insecure registries to be an array\n\nSo if the operators gives a string, we convert it.\n\nChange-Id: I14fda3481ac88429648bed8edb2f4469b33be957",
        "cmtr": "Emilien Macchi",
        "date": "2018-04-27 21:07:58-07:00",
        "files": ["docker.pp"]
      },
      {
        "hash": "c53ea2512f963b1fa461fdedb853f9303dd042b1",
        "msg": "Fixes HA Proxy backend check for ODL\n\nThis patch removed listen_options for ODL:\nhttps://review.openstack.org/#/c/562036/\n\nWhich introduced a regression where default options were then applied\nfor ODL, including httpchk.  This does not work with ODL because ODL\nwill not respond to an HTTP GET without specific paths used.  This patch\nadds the correct path that may be used to issue HTTP backend check.\n\nCloses-Bug: 1768037\n\nChange-Id: I60bdfc436044851ac02449c262d382b07b888f79\nSigned-off-by: Tim Rozet <trozet@redhat.com>",
        "cmtr": "Tim Rozet",
        "date": "2018-04-30 11:29:52-04:00",
        "files": ["haproxy.pp", "fix-odl-haproxy-check-ce000de26141fa7e.yaml"]
      },
      {
        "hash": "ac4f32e35b3558d214f6f6d63b4ca21207a8774d",
        "msg": "Switch from rabbit to using oslo messaging params\n\nChange-Id: I03900b39ab257a9563db37e403254b54f846c056",
        "cmtr": "Andrew Smith",
        "date": "2018-04-30 12:53:00-04:00",
        "files": ["designate.pp"]
      },
      {
        "hash": "015c9b757af33e7c2c07d932c45145e1c09ca733",
        "msg": "Adding wrapper scripts for neutron agent subprocesses\n\nThe neutron agents use subprocesses like dnsmasq and keepalived as part\nof their implementation. Running these \"subprocesses\" in separate\ncontainers prevent dataplane breakages/unnecessary failover on agent\ncontainer restart.\n\nAlso amends docker daemon options to allow including additional unix\ndomain sockets to bind to the docker daemon. The paths can be mounted by\ncontainers that launch containers instead of mounting /run/docker.sock.\nThis avoids issues if the docker daemon is restarted while the containers\nare running.\n\nRelated-Bug: #1749209\nChange-Id: Icd4c24ac686d957391548a04722266cefc1bce27",
        "cmtr": "Brent Eagles",
        "date": "2018-04-30 22:10:29-02:18",
        "files": ["docker.pp", "dhcp_agent_wrappers.pp", "l3_agent_wrappers.pp", "dibbler_client.pp", "dnsmasq.pp", "haproxy.pp", "keepalived.pp", "keepalived_state_change.pp", "radvd.pp", "add-neutron-agent-wrappers-bf84104f3607264b.yaml", "tripleo_profile_base_docker_spec.rb", "tripleo_profile_base_neutron_dhcp_spec.rb", "tripleo_profile_base_neutron_l3_spec.rb", "tripleo_profile_base_neutron_wrappers_dibbler_client_spec.rb", "tripleo_profile_base_neutron_wrappers_dnsmasq_spec.rb", "tripleo_profile_base_neutron_wrappers_haproxy_spec.rb", "tripleo_profile_base_neutron_wrappers_keepalived_spec.rb", "tripleo_profile_base_neutron_wrappers_keepalived_state_change_spec.rb", "tripleo_profile_base_neutron_wrappers_radvd_spec.rb", "dibbler-client.epp", "dnsmasq.epp", "haproxy.epp", "keepalived.epp", "neutron-keepalived-state-change.epp", "radvd.epp"]
      },
      {
        "hash": "f3317084df56efeb34ac98a44ccd6328ef9aedb8",
        "msg": "Add logrotate compress option\n\nRelated bz: #1570039\n\nChange-Id: Id07b7b53d31192a2d2172671b272a5b61dc8df52\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>",
        "cmtr": "Bogdan Dobrelya",
        "date": "2018-05-04 18:16:51+02:00",
        "files": ["logrotate.pp", "logrotate-containers-compress-96934a4e76b9689d.yaml", "containers_logrotate.conf.erb"]
      },
      {
        "hash": "b0d20612d0a136c19c63b2c4065b1d99a7b0f998",
        "msg": "Conditionally Enable Nuage VRS\n\nUsing this change, users can conditionally include\nNuage VRS on Overcloud nodes\n\nChange-Id: I6a996a6b9e1b2d4c74e25e2582699eb9e023093a",
        "cmtr": "Sai Ram Peesapati",
        "date": "2018-05-04 20:54:04+00:00",
        "files": ["nuage.pp"]
      },
      {
        "hash": "fdd0a2b2700b713f79030c55e1218583387f9b1d",
        "msg": "Add s3api support\n\nAdd s3api ans s3token middleware to enable\nsupport in TripleO by default\n\nChange-Id: I9c61d48e673d513cb4c5cf0c9f8b7d1b894729eb\nSigned-off-by: Thiago da Silva <thiago@redhat.com>",
        "cmtr": "Thiago da Silva",
        "date": "2018-05-05 10:17:10+00:00",
        "files": ["proxy.pp"]
      },
      {
        "hash": "8077672aee4b83dc9722ee686526fede166baefe",
        "msg": "Optionally the docker group to the mistral user\n\nThis allows the workflow driven container prepare to make local docker\ncalls, which is required for pull/push calls to work when uploading\nimages to the local registry.\n\nThis is only required for the undercloud mistral, so is only\nenabled by setting $docker_group = true.\n\nChange-Id: Ifab466893beb5bfaa0314b50d14740f2b04771a8\nBlueprint: #container-prepare-workflow",
        "cmtr": "Steve Baker",
        "date": "2018-05-08 12:48:54+12:00",
        "files": ["executor.pp"]
      },
      {
        "hash": "3b6c90ad7044e1c13e6028071e3ec54845aa0105",
        "msg": "Neutron wrappers: lookup for THT parameter\n\nFor Neutron DHCP & L3 agents, lookup for DockerAdditionalSockets\nparameter in THT.\nIt basically replaces the default hiera that was taken from the docker\nprofile but this one will be deprecated in this release and removed\nsoon.\n\nAlso, we change the default to be '/var/lib/openstack/docker.sock'\nso it looks for the right socket in default deployments.\n\nChange-Id: I39c84c462793bfe819f876583782acbe0619a89d",
        "cmtr": "Emilien Macchi",
        "date": "2018-05-16 13:42:04+00:00",
        "files": ["dhcp_agent_wrappers.pp", "l3_agent_wrappers.pp"]
      },
      {
        "hash": "3d0451285166193337ad3ece6031e1564a82d4b0",
        "msg": "Remove share_backend_name from Dell-EMC manila backends\n\nThis parameter has a default value from puppet-manila\nex: [1], and doesn't need to be specified here.\n\n[1] https://git.openstack.org/cgit/openstack/puppet-manila/tree/manifests/backend/dellemc_unity.pp\n\nChange-Id: I7fa8ffd9af459f138bc182fd6bd307471c87f75d\nCloses-Bug: #1771656",
        "cmtr": "Goutham Pacha Ravi",
        "date": "2018-05-16 12:44:09-07:00",
        "files": ["share.pp"]
      },
      {
        "hash": "2bf893c14b2df9ee4f1e7b7adb97f154647849b6",
        "msg": "Fix certificate ownership of rabbitmq\n\nWe no longer have the rabbitmq user as part of the overcloud\nhosts. We rely instead on kolla setting the right permissions in\nthe container.\n\nChange-Id: Iaa159fcfe78d16be59e2d9baf51a65119f50c427\nCloses-Bug: #1771752",
        "cmtr": "Juan Antonio Osorio Robles",
        "date": "2018-05-17 07:08:22+00:00",
        "files": ["rabbitmq.pp"]
      },
      {
        "hash": "767cd520bd2c7976de4a620638063feb91e52a9c",
        "msg": "Deprecate tripleo::profile::base::docker(_registry)\n\nThese profiles are replaced by https://github.com/openstack/ansible-role-container-registry,\nso we deprecate it now and will remove the code in the future.\n\nDepends-On: Iee0e08cd48f173a39a6f3a1ea54b29e370d4f334\nChange-Id: I9e2a475e4582deec383b92f368e9a834122f65bb",
        "cmtr": "Emilien Macchi",
        "date": "2018-05-17 17:40:54+00:00",
        "files": ["docker.pp", "docker_registry-163bf23bc95761a8.yaml"]
      },
      {
        "hash": "e13654504adb93f7313942b4d839577d3ccd072d",
        "msg": "Force GDPR compliance of containers logs\n\nAfter purge_after_days, defaults to a 14, forcibly remove\nany rotated and compressed logs of containerized services\nin /var/log/containers. This overrides any related\ncontainerized logrotate configuration used for\ncontainerized services.\n\nAllow to alter rotation interval for log files managed\nvia containerized logrotate. Defaults to 'daily'\nand rotate 14 (days).\n\nUse sharedscripts to clean up files in the postrotate\nscript only once.\n\nAdditionally, to enforce GDPR compliance of log files\nin /var/log/containers, put them under logrotate management\n(minsize 1) and always compress. Prohibit the size option\nas it does not honor time-based contstraints required by\nGDPR. Forcibly remove all files but those rotated and\ncompressed logs, via the postscript section.\n\nPartial-bug: #1771543\n\nChange-Id: Id8e4717a5ecda53bc9cd39f1c2efaa80b56bd45e\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>",
        "cmtr": "Bogdan Dobrelya",
        "date": "2018-05-21 11:18:13+02:00",
        "files": ["logrotate.pp", "logrotate-containers-purge-56143a979ba80b51.yaml", "containers_logrotate.conf.erb"]
      },
      {
        "hash": "b2d7cab5f12e6fde40d49c2d00cbae2bcf522dc8",
        "msg": "Update netapp cinder configuration\n\nThe upstream puppet-cinder modules have been updated to remove\ndeprecated paramters. We were still passing in deprecated options for\nthe netapp volume. This change ports the backwards compatibility that\nwas being done in puppet-cinder into puppet-tripleo. This should be\ndropped in a later cycle.\n\nChange-Id: I08f548c7784f4e00add26aafc26a9671f503bb97\nCloses-Bug: #1773188",
        "cmtr": "Emilien Macchi",
        "date": "2018-05-24 10:13:39-07:00",
        "files": ["netapp.pp", "cinder-netapp-hieradata-changes-3004544d96796e76.yaml"]
      },
      {
        "hash": "b7021aa221422aaae8a52dacdd70769c32ffc586",
        "msg": "Add missing nfs_mount_options for Cinder Netapp backend\n\nAdd nfs_mount_options parameter when instantiating cinder::backend::netapp.\nThe value maps to the CinderNetappNfsMountOptions THT parameter.\n\nCloses-Bug: #1773013\nChange-Id: I0f6fff63a5c3d795572c8f4df98d45ae486ca19d",
        "cmtr": "Alan Bishop",
        "date": "2018-05-24 17:18:08+00:00",
        "files": ["netapp.pp"]
      },
      {
        "hash": "5a58ca5d325ae3363cc3eb9d20d96910f9406691",
        "msg": "Rework GDPR compliant logrotate config\n\nSet the logrotate maxage parameter to purge_after_days\nas well.\n\nRework additional retention rules of files in\n/var/log/containers in the containerized logrotate\npostrotate script. The rules are based on any of the\nlisted criteria met:\n\n* time of last access of contents (atime) exceeds\npurge_after_days,\n* time of last modification of contents (mtime) exceeds\npurge_after_days,\n* time of last modification of the inode (metadata, ctime)\nexceeds purge_after_days.\n\nForcibly purge expired files with each containerized\nlogrotate run triggered via cron. Note that the files creation\ntime (the Birth attribute) is not taken into account as it\ncannot be accessed normally by system operators (depends on FS\ntype). Retention policies based on the creation time must\nbe managed elsewhere.\n\nRelated-Bug: #1771543\n\nChange-Id: I9afa22f7dd344a29747206b286520a76d70d704b\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>",
        "cmtr": "Alex Schultz",
        "date": "2018-05-24 17:31:15+00:00",
        "files": ["logrotate.pp", "logrotate-containers-purge-56143a979ba80b51.yaml", "containers_logrotate.conf.erb"]
      },
      {
        "hash": "cafb998f9ed0375fc856913d0223da86197d09be",
        "msg": "Fix duplicate entries in /etc/sysconfig/iptables\n\nCommit 94ca328e5d309a5617043b2944e65df79271e0cd\nintroduced filters for ephemeral firewall rules\nmanaged by Ironic Inspectors iptables PXE filter.\nThese new filters cause duplicate entries in the\npersisted firewall rules.\n\nsed expression '/-m comment --comment/p' was used\nto ensure the ironic-inspector api port is not\naccidentally removed. But the expression also\nmatches several other entries causing duplicates\nto be written.\n\nThis change enhances the expression to check for\n'-m comment --comment' and 'ironic-inspector'.\n\nCloses-Bug: #1771128\nChange-Id: I0a75a7aff9b1a0afbad63e4b6b5159f4351c7ee8",
        "cmtr": "Alex Schultz",
        "date": "2018-05-25 13:12:56+00:00",
        "files": ["firewall.pp"]
      },
      {
        "hash": "c796ed32f70183c7cc3a6e191ec82c90ef0375d7",
        "msg": "Remove support for puppet-ceph\n\nDeployment of a managed Ceph cluster using puppet-ceph\nis not supported from the Pike release. From Queens it\nis not supported use of puppet-ceph when using an\nexternal Ceph cluster either.\n\nThis change removes the old manifests necessary to\nsupport deployment of Ceph via puppet-ceph.\n\nTemplates removed by I17b94e8023873f3129a55e69efd751be0674dfcb\n\nDepends-On: I8b22917e7436084028ef4fbe7604d28d6a68bee0\nImplements: blueprint remove-puppet-ceph\nChange-Id: I052af1f755b40a5fefa1f8d37e62b6b36c931271",
        "cmtr": "Giulio Fidente",
        "date": "2018-05-25 15:32:53+02:00",
        "files": ["ceph.pp", "client.pp", "mds.pp", "mon.pp", "osd.pp", "rgw.pp", "swift.pp", "volume.pp", "rbd.pp", "api.pp", "api.pp", "share.pp", "compute_libvirt_shared.pp", "rbdmirror.pp", "metadata.json", "remove-support-for-puppet-ceph-bbe044bd575d1239.yaml", "tripleo_profile_base_ceph_client_spec.rb", "tripleo_profile_base_ceph_mds_spec.rb", "tripleo_profile_base_ceph_mon_spec.rb", "tripleo_profile_base_ceph_osd_spec.rb", "tripleo_profile_base_ceph_rgw_spec.rb", "tripleo_profile_base_ceph_spec.rb", "tripleo_profile_pacemaker_ceph_rbdmirror_spec.rp", "default.yaml", "layout.yaml"]
      },
      {
        "hash": "f2484a0bf9e64ff84979abe9b70e7f65957b9d26",
        "msg": "Fix up property names in case of mixed case hostnames\n\nWhen deploying a stack that containes mixed-case hostnames\nthe following error might be triggered:\nDebug: try 15/20: /usr/sbin/pcs -f\n/var/lib/pacemaker/cib/puppet-cib-backup20180405-8-1sqw3dc property set\n--node TEST-STACK34-controller-1 redis-role=true\nDebug: Error: Error: unable to set attribute redis-role\nCould not map name=TEST-STACK34-controller-1 to a UUID\nwhile the name in the cluster is test-stack34-controller-1\n\nThis used to work pre-bundles because we used the facter provided\n$::hostname variable which was lower-cased for us. With bundles we\nswitched to setting cluster properties from the service bootstrap nodes\nand so we used the '<service>_short_node_names' hiera key which might\ncontain mixed-case hostnames.\n\nIn order to fix this we just downcase() the short_node_names hiera\nstring that we loop on so we can get the same behaviour we had on bare\nmetal.\n\nTested on an env with mixed-case hostnames:\n[root@uppercaseovercloud-controller-0 keystone]# hiera -c /etc/puppet/hiera.yaml rabbitmq_short_node_names\n[\"UPPERCASEOverCloud-controller-0\",\n \"UPPERCASEOverCloud-controller-1\",\n \"UPPERCASEOverCloud-controller-2\"]\n\nCluster pcs properties were set correctly:\n[root@uppercaseovercloud-controller-0 keystone]# pcs property |grep rabbitmq\n uppercaseovercloud-controller-0: galera-role=true haproxy-role=true rabbitmq-role=true redis-role=true rmq-node-attr-last-known-rabbitmq=rabbit@uppercaseovercloud-controller-0\n uppercaseovercloud-controller-1: galera-role=true haproxy-role=true rabbitmq-role=true redis-role=true rmq-node-attr-last-known-rabbitmq=rabbit@uppercaseovercloud-controller-1\n uppercaseovercloud-controller-2: galera-role=true haproxy-role=true rabbitmq-role=true redis-role=true rmq-node-attr-last-known-rabbitmq=rabbit@uppercaseovercloud-controller-2\n\nCo-Authored-By: Damien Ciabrini <dciabrin@redhat.com>\nDepends-On: Ie240b8a4217827dd8ade82479a828817d63143ba\nCloses-bug: #1773219\nChange-Id: I5bd49c4a1b13b2310f8a1173aa6b86abfa5dab3d",
        "cmtr": "Michele Baldessari",
        "date": "2018-05-28 10:28:14+02:00",
        "files": ["backup_bundle.pp", "volume_bundle.pp", "mysql_bundle.pp", "redis_bundle.pp", "haproxy_bundle.pp", "share_bundle.pp", "ovn_dbs_bundle.pp", "rabbitmq_bundle.pp"]
      },
      {
        "hash": "58c45198677ad572435885c8615873752cccc695",
        "msg": "Automatically configure neutron with designate\n\nThis sets up designate integration with neutron when designate is\nenabled.\n\nChange-Id: Ibc7c131ce92cecaf4230931c8217a2aa32a9e98a",
        "cmtr": "Thomas Herve",
        "date": "2018-05-28 09:11:53+00:00",
        "files": ["neutron.pp"]
      },
      {
        "hash": "a9c1bc3518750e25d23ec19e592750a8f744e696",
        "msg": "Lower the default stunnel log level\n\nRight now the default stunnel.conf log level is set at 'notice'\nwhich, when we deploy redis, fills up the logs with the following\nmessages:\nMay 09 14:18:36 controller-1.redhat.local dockerd-current[19810]: 2018.05.09 14:18:36 LOG5[1:139972682520320]: connect_blocking: connected 127.0.0.1:6379\nMay 09 14:18:36 controller-1.redhat.local dockerd-current[19810]: 2018.05.09 14:18:36 LOG5[1:139972682520320]: Service [redis] connected remote server from 127.0.0.1:60412\nMay 09 14:18:36 controller-1.redhat.local stunnel[41495]: LOG5[1:139972682409728]: Service [redis] accepted connection from 172.17.1.21:60770\nMay 09 14:18:36 controller-1.redhat.local dockerd-current[19810]: 2018.05.09 14:18:36 LOG5[1:139972682409728]: Service [redis] accepted connection from 172.17.1.21:60770\nMay 09 14:18:36 controller-1.redhat.local stunnel[41495]: LOG5[1:139972682409728]: connect_blocking: connected 127.0.0.1:6379\nMay 09 14:18:36 controller-1.redhat.local dockerd-current[19810]: 2018.05.09 14:18:36 LOG5[1:139972682409728]: connect_blocking: connected 127.0.0.1:6379\nMay 09 14:18:36 controller-1.redhat.local stunnel[41495]: LOG5[1:139972682409728]: Service [redis] connected remote server from 127.0.0.1:60418\nMay 09 14:18:36 controller-1.redhat.local dockerd-current[19810]: 2018.05.09 14:18:36 LOG5[1:139972682409728]: Service [redis] connected remote server from 127.0.0.1:60418\n\nThose messages are from the haproxy healthceck. Let's move the\ndefault debug config to warning which will ignore the above errors.\n\nCloses-Bug: #1770180\n\nChange-Id: I93bd0048e85864fa9e62dc38c3575ec7b48e5df5",
        "cmtr": "Michele Baldessari",
        "date": "2018-05-28 13:40:29+02:00",
        "files": ["stunnel.pp", "foreground.erb"]
      },
      {
        "hash": "5968aeb3207b4c42cc65eb7a7d3a831c4c28d456",
        "msg": "Make sure remotes are fully up before proceeding\n\nWe currently rely on 'verify_on_create   => true' to make\nsure that pacemaker remotes up before proceeding to Step2 (during\nwhich a remote node is entitled to run pcs commands).\nSo if the remote is still not fully up pcs commands can potentially\nfail on the remote nodes with errors like:\n\nError: /Stage[main]/Tripleo::Profile::Pacemaker::Compute_instanceha\n       /Pacemaker::Property[compute-instanceha-role-node-property]\n       /Pcmk_property[property-overcloud-novacomputeiha-0-compute-instanceha-role]:\nCould not evaluate: backup_cib: Running: /usr/sbin/pcs cluster cib\n/var/lib/pacemaker/cib/puppet-cib-backup20180519-20162-ekt31x failed with code: 1 ->\n\nverify_on_create => true has an incorrect semantic currently\nas it does not really wait for a single resource to be fully up.\nSince implementing that properly will take quite a bit of work\n(given that pcs does not currently support single-resource state\npolling), for now we avoid using verify_on_create and we simply make\nsure the resource is started via an exec.\n\nRun 25 successful deployments with this (and the depends-on) patch.\n\nCloses-Bug: #1773754\nDepends-On: I74994a7e52a7470ead7862dd9083074f807f7675\nChange-Id: I9e5d5bb48fc7393df71d8b9eae200ad4ebaa6aa6",
        "cmtr": "Michele Baldessari",
        "date": "2018-05-28 14:52:52+02:00",
        "files": ["pacemaker.pp"]
      },
      {
        "hash": "ea8457499d3c24cadd6172236001fd10903b6603",
        "msg": "Move unfencing to meta_params\n\nWe currently do a requires=\"unfencing\" on a start operation, which is\ndeprecated and will be removed in pacemaker 2.0\n\nWe need to move this to a meta param and since pacemaker has supported\nthis since the dawn of time we can move to it now.\n\nCloses-Bug: #1771519\n\nDepends-On: I5ec830e092646a3626cacea264de9ad81fcdd124\nChange-Id: I788e57b7bff68a934794e008cd6127e19882cd23",
        "cmtr": "Michele Baldessari",
        "date": "2018-05-29 11:27:22+02:00",
        "files": ["instance_ha.pp", "tripleo_profile_base_pacemaker_spec.rb"]
      },
      {
        "hash": "684521fc84bdf589de67972ac6f263b5e3bc24a4",
        "msg": "Neutron sidecar wrappers use netns they were invoked with\n\nNeutron uses namespaces with different prefixes depending on\nconfiguration and the nature of the resource. This patch changes the\nwrappers to use the \"ip netns identify\" command to determine the target\nnamespace for the sidecar instead of trying to guess from the command\nline options.\n\nChange-Id: If58bb9dabebf201b592fb450a663ae2f24374e00\nCloses-Bug: #1773823",
        "cmtr": "Brent Eagles",
        "date": "2018-05-29 09:21:23-02:18",
        "files": ["dhcp_agent_wrappers.pp", "l3_agent_wrappers.pp", "haproxy.pp", "keepalived.pp", "keepalived_state_change.pp", "tripleo_profile_base_neutron_wrappers_haproxy_spec.rb", "tripleo_profile_base_neutron_wrappers_keepalived_spec.rb", "tripleo_profile_base_neutron_wrappers_keepalived_state_change_spec.rb", "dibbler-client.epp", "dnsmasq.epp", "haproxy.epp", "keepalived.epp", "neutron-keepalived-state-change.epp"]
      },
      {
        "hash": "855a5a511dec81dd1cd79af2a176135b700ddeb9",
        "msg": "Disallow SSLv2, SSLv3 and TLS1.0 in rabbitmq for FedRAMP compliance\n\nOnly allow TLSv1.1 and TLSv1.2 when connecting to the AMQP port over SSL.\n\nWe cannot disable a specific protocol version for inter node communication,\nso in order to enforce TLS1.1 or greater, we disallow all ciphers provided\nby SSLv2 SSLv3 and TLS1.0.\n\nNode: The list of allowed ciphers cannot be specified with the usual\nOpenSSL cipher list format, so we pass the list of ciphers which are\navailable out of the default cipher list [1] used for other services like\nHAProxy, stunnel or mysql/galera. The list is precomputed with:\n\nopenssl ciphers -v {cipher_list_format} | cut -d' ' -f 1 | paste -sd :\n\n[1] !SSLv2:kEECDH:kRSA:kEDH:kPSK:+3DES:!aNULL:!eNULL:!MD5:!EXP:!RC4:!SEED:!IDEA:!DES:!SSLv3:!TLSv1\n\nChange-Id: I354d5851345033a90b43e6be9a6039cb4edca203\nCo-Authored-By: Michele Baldessari <michele@acksyn.org>",
        "cmtr": "Damien Ciabrini",
        "date": "2018-06-01 19:33:00+00:00",
        "files": ["rabbitmq.pp"]
      },
      {
        "hash": "17c1c2ee6d373af9332644cbedd71c3ab1853a68",
        "msg": "ssh: allow to configure PasswordAuthentication\n\nAllow to override the default PasswordAuthentication parameter (default\nis 'no').\n\nChange-Id: I88b24c82fb3cf2309f45d5d447a9b0c403da7fc9\nRelated-Bug: #1772519",
        "cmtr": "Emilien Macchi",
        "date": "2018-06-01 20:39:02-07:00",
        "files": ["sshd.pp", "tripleo_profile_base_sshd_spec.rb"]
      },
      {
        "hash": "291ff8bb3b7fd3842fc04b6ec7d35f4be85ca720",
        "msg": "Don't install kolla by default\n\nThe vast majority of undercloud installs will be consuming already\nbuilt images, so they don't need kolla to be installed.\n\nThis changes the default so that openstack-kolla won't be installed\nunless the user enables that with enable_container_images_build.\n\nChange-Id: I932f0f2048275942e29b589b337561473d5cb0b8",
        "cmtr": "Emilien Macchi",
        "date": "2018-06-04 17:51:05+00:00",
        "files": ["docker_registry.pp", "nokolla-7898fe76cf623a0c.yaml"]
      },
      {
        "hash": "1b133d1236021fee7ebf438923df0ab84a2e7def",
        "msg": "Fix designate-api hiera references\n\nThese were looking for the wrong names so they were always taking\nthe default.  This broke designate in network-isolation scenarios.\n\nChange-Id: I8cd71520bbd27b83e9a64ee3ecd1ca25bd0ed498",
        "cmtr": "Ben Nemec",
        "date": "2018-06-06 11:42:00-05:00",
        "files": ["haproxy.pp"]
      },
      {
        "hash": "199ddad31bed4ea81413d0b8e940d35a71256f7c",
        "msg": "Adds check and resyncs ODL/OVS OF pipeline\n\nSome flows may be missing in OVS (on a per table basis) when deploying\nwith OpenDaylight. There is no OpenDaylight fix yet for this issue, so\nthis patch implements a workaround. The workaround is to check if all\nthe tables exist on each OVS node. If they are missing, then reset the\nOpenFlow connection to the ODL controller, which will result in ODL\npushing the flows again and inserting the missing flows.\n\nCloses-Bug: 1775436\n\nChange-Id: I28d13a26198268cfd1f3e9e64236605f24319a04\nSigned-off-by: Tim Rozet <trozet@redhat.com>",
        "cmtr": "Tim Rozet",
        "date": "2018-06-06 14:06:48-04:00",
        "files": ["synchronize_odl_ovs_flows.rb", "opendaylight.pp", "fix-odl-ovs-flows-sync-7b2cb7a29f0c89ec.yaml"]
      },
      {
        "hash": "aa9d35e867e8be33960ebdff93b713670219a1e4",
        "msg": "Handle renaming of Cinder VNX backend parameter\n\nIn I415eee7ddc601d1706a5d7f2a561e11b642fa826 the 'storage_vnx_pool_name'\nparameter was essentially renamed to 'storage_vnx_pool_names'. This patch\nadds support for the new name, and accepts the old name so current THT\ncontinue work.\n\nRelated-Bug: #1775375\nDepends-On: I415eee7ddc601d1706a5d7f2a561e11b642fa826\nChange-Id: Ia48bbb88f6bc8180bfb6981813333eee70db79bb",
        "cmtr": "Emilien Macchi",
        "date": "2018-06-12 21:54:15-07:00",
        "files": ["dellemc_vnx.pp", "step4.yaml"]
      },
      {
        "hash": "5ad483ea0420c72e74b7e42d1485fa7f7c0abfc0",
        "msg": "HA overcloud: wait for db before running grant commands\n\nWhen using the pacemaker profile, some collectors ensure that\nmysql is up before trying to create databases or users.\nExtend the ordering constraints to include grant operations.\n\nChange-Id: Ib2af5dfe5af5a1f0db806c04ee83ed48724673db\nCo-Authored-By: Michele Baldessari <michele@acksyn.org>\nCloses-bug: #1776485",
        "cmtr": "Emilien Macchi",
        "date": "2018-06-13 05:34:44+00:00",
        "files": ["mysql.pp", "mysql_bundle.pp"]
      },
      {
        "hash": "4adcd4e7ded3e67690defc13d6808489ca8eb3eb",
        "msg": "Add QDR profile for metrics purposes.\n\nThis patch adds a profile class to enable deploying edge routers\nfor metrics collection purpose.\n\nChange-Id: I68f39b6bda02ba3920f2ab1cf2df0bd54ad7453f",
        "cmtr": "Martin Mgr",
        "date": "2018-06-13 11:49:50+02:00",
        "files": ["qdr.pp"]
      },
      {
        "hash": "2a59f98d78a046516d2013308e1be4fa0cf7f068",
        "msg": "Ensure appropriate ACL mask is set on CephX keyrings\n\nChanging group permissions alters the ACL mask, causing the \"read\"\npermission we set explicitly for the openstack users to be ignored.\n\nThis change ensures \"read\" is set for the ACLs mask.\n\nChange-Id: I4f94a3f7ab2c55a8c45363b8354be99d52980a7b\nCloses-Bug: 1775549",
        "cmtr": "Giulio Fidente",
        "date": "2018-06-13 19:09:18+02:00",
        "files": ["volume.pp", "api.pp", "api.pp", "share.pp", "compute_libvirt_shared.pp", "tripleo_profile_base_cinder_volume_spec.rb", "tripleo_profile_base_gnocchi_api_spec.rb"]
      },
      {
        "hash": "965aba275eb06af0f5f1550176dd458653c3b33b",
        "msg": "Adding wrapper script for haproxy in OVN metadata agent\n\nChange-Id: Ieb5618ec96539bb07d9d01b5c6d27da962f65156\nRelated-Bug: #1749209\nSigned-off-by: Daniel Alvarez <dalvarez@redhat.com>",
        "cmtr": "Alex Schultz",
        "date": "2018-06-14 14:08:25+00:00",
        "files": ["ovn_metadata_agent_wrappers.pp"]
      },
      {
        "hash": "85d05d75b10f99ed7dbd1e686c5b73cb401057ae",
        "msg": "Include cors to gnocchi profile\n\nDepends-On: I4f750863ba1bde478efff026f9bc64bac13030ec\nChange-Id: Ib7e28f85d539bcb1eab444ddd763d6f9a4ed1570",
        "cmtr": "Pradeep Kilambi",
        "date": "2018-06-15 20:47:24+00:00",
        "files": ["gnocchi.pp"]
      },
      {
        "hash": "696e107eab6c689321c0797e924537b432e51c4b",
        "msg": "Remove support for manila::backend::cephfsnative class\n\nThis class was replaced by manila::backend::cephfs\nin openstack/puppet-manila in the Pike release.\n\nSee corresponding change in openstack/puppet-manila [1]\n\n[1] Ib13dfc6ffa77e96f5738c2ca3f9646a80aded659\n\nChange-Id: I6757cd2368021b55775ad54931aa0b78c8383a68",
        "cmtr": "Goutham Pacha Ravi",
        "date": "2018-06-18 14:04:08-07:00",
        "files": ["share.pp", "remove-cephfsnative-0d3d76746ee928ab.yaml"]
      },
      {
        "hash": "323726c58fd85867626fa79b3d80697a95138503",
        "msg": "Remove all glance nfs changes from puppet-tripleo\n\nSince, mounting nfs would run via ansible in t-h-t,\npuppet-tripleo glance nfs_mount.pp would no longer be\nused.\n\nHence removing all glance nfs related part from here.\n\nDepends-On: I232577643c26d7eb0162c09b3c394b7f3e161154\nChange-Id: I617c38266d17fdf8cade660207e1e369dcd54fdb",
        "cmtr": "Pranali Deore",
        "date": "2018-06-19 14:18:12+05:18",
        "files": ["nfs_mount.pp", "api.pp", "remove-glance-nfs-mounting-3833e08ecc83c6dc.yaml"]
      },
      {
        "hash": "1082bde8e8dbe0739510a47a1af8ab56babe51bd",
        "msg": "Fix default value for Gnocchi auth mode\n\nThe correct values or auth modes for Gnocchi are 'basic' and 'keystone'.\nThis patch fixes the 'simple' usage to 'basic'. Note that without this rename\nthe deployment works because when 'simple' is used the parameter is not used\nin config file, so value 'basic' is used by python-collectd-gnocchi, because\nit is implicit default.\n\nChange-Id: I05632137ed12c59a41a5219189c431983935d461",
        "cmtr": "Martin Mgr",
        "date": "2018-06-19 12:06:44+02:00",
        "files": ["collectd.pp", "gnocchi.pp", "collectd-gnocchi.conf.erb"]
      },
      {
        "hash": "bf9a9620c68eb3934a897038ccc36a1a2a10bf66",
        "msg": "set x-forwarded-port header for proxied requests\n\nThis is required for keystone federation to work correctly when\nmod_auth_openidc.\n\nChange-Id: Ib79fbd47169388bfb044a8183725a3d1de5bc480\nCloses-bug: 1777884",
        "cmtr": "Lars Kellogg-Stedman",
        "date": "2018-06-20 09:56:31-04:00",
        "files": ["haproxy.pp"]
      },
      {
        "hash": "389870dd166b1de9859676832ad7fdc3d37d2664",
        "msg": "Add manifest for networking_ansible ML2 plugin\n\nChange-Id: Id043105b663222ec217c300ed398ab2898684d92\nDepends-On: https://review.openstack.org/577073",
        "cmtr": "rabi",
        "date": "2018-06-21 15:05:00+05:18",
        "files": ["ml2.pp", "networking_ansible.pp", "networking-ansible-741fd4a6c8374db8.yaml"]
      },
      {
        "hash": "43218af47e7832ea8fa3b59e1b9b9d1da36e246e",
        "msg": "Update DellEMC Manila VNX driver\n\nThis patch adds following 3 options:\n* network_plugin_ipv6_enabled\n* emc_ssl_cert_verify\n* emc_ssl_cert_path\n\nCloses Bug: #1778123\n\nChange-Id: I99c2d9a27502af76e98e4c0b161bb3a31828520c",
        "cmtr": "rajinir",
        "date": "2018-06-21 14:27:04-05:00",
        "files": ["share.pp", "vnx_driver_cea44d073cd161e7.yaml"]
      },
      {
        "hash": "0d337fa5d50fd219ae24ec9bb7cae926ab782375",
        "msg": "Update DellEMC Manila Unity driver\n\nThis patch adds following 3 options:\n* network_plugin_ipv6_enabled\n* emc_ssl_cert_verify\n* emc_ssl_cert_path\n\nCloses Bug: #1778124\n\nChange-Id: I6330862def3ffce0aa187239829eda285dd16ab1",
        "cmtr": "rajinir",
        "date": "2018-06-21 14:39:04-05:00",
        "files": ["share.pp", "unity_driver_aba347d073cd11e7.yaml"]
      },
      {
        "hash": "08c4e8e0d1eb5368b1f395a735acba1cb780d17d",
        "msg": "Add messaging notification transport url\n\nChange-Id: I2bb6a9b95de2480b214b0a4d8f7161bf1968d3de",
        "cmtr": "Andy Smith",
        "date": "2018-06-26 14:10:02-04:00",
        "files": ["designate.pp"]
      },
      {
        "hash": "90df6c596554240a30b9083e9cc3172cde1ea7e1",
        "msg": "Discover the gid of the docker group for mistral\n\nThe gid of the docker group is discovered by stating the gid of the\nfile /var/run/docker.sock. The gid of the docker group is not fixed,\nso it must match the gid assigned when docker is installed on the\nhost. If no docker.sock exists, the custom fact will return nil.\n\nThis change also makes sure the user and group ensure_resource calls are\ntagged so that docker-puppet.py can include those tags explicitly.\n\nBlueprint: container-prepare-workflow\n\nChange-Id: I94fa558480e408f76e69d292b1d84849ddf9a2a2",
        "cmtr": "Steve Baker",
        "date": "2018-06-28 13:50:58+12:00",
        "files": ["docker_group_gid.rb", "executor.pp"]
      },
      {
        "hash": "34810fc361e71cfabe5d8ad6e083c664af9120e8",
        "msg": "Run cinder's db sync only on bootstrap node\n\nThe sync_db variable (which is True only on bootstrap node) needs to be\npassed to the ::cinder::api resource to ensure the db sync only happens\non the bootstrap node.\n\nCloses-Bug: #1779112\nChange-Id: Ib7fcafbe769aadfcc58323ba3a06fa28a80a488a",
        "cmtr": "Alan Bishop",
        "date": "2018-06-28 09:49:10-04:00",
        "files": ["api.pp", "tripleo_profile_base_cinder_api_spec.rb"]
      },
      {
        "hash": "37bc58d9b1b1d8586d5134fd4f1d230bfd152eda",
        "msg": "Add mechanism for cookie-based sessions in endpoints.\n\nIn order to allow SAML integration, we need to persist sessions for\nthe Keystone public API. Rather than use a one-off resource, this\npatch introduces a generic mechanism for adding cookie-based sessions\nto any endpoint that uses the endpoint resource and uses that mechanism\nto provide a session persistence option for the Keystone public API.\n\nChange-Id: I7e1c9a4ddc8b849b487b863635b8c45fc935a751",
        "cmtr": "ayoung",
        "date": "2018-06-28 19:15:48+00:00",
        "files": ["haproxy.pp", "endpoint.pp"]
      },
      {
        "hash": "f93d047874869a785c0052b85ea3e36eb3d29d13",
        "msg": "Add openshift API to haproxy LB configuration\n\nThis is to enable our existing haproxy & vip management to work as an\nexternal loadbalancer for openshift when it's deployed as part of the\novercloud.\n\nChange-Id: I04a7dd49949b27238d595911c58815f8f8a4e7e9",
        "cmtr": "Flavio Percoco",
        "date": "2018-06-29 13:50:13+02:00",
        "files": ["haproxy.pp"]
      },
      {
        "hash": "cf4ef5f884eeaabf36eaa1afaecfaae034a06a7c",
        "msg": "Updates OpenDaylight HA Proxy backend check\n\nThe new URI is more accurate and only supported as of ODL version\nFluorine. It will also return an HTTP error code when the ODL is\nisolated from the cluster so that HA Proxy will not send it requests.\n\nCloses-Bug: 1715387\n\nChange-Id: Ib841b2fc68e5b1f6480298afce20b91a7afef634\nSigned-off-by: Tim Rozet <trozet@redhat.com>",
        "cmtr": "Tim Rozet",
        "date": "2018-06-29 12:34:53-04:00",
        "files": ["haproxy.pp"]
      },
      {
        "hash": "ed16fdc55d76fe8f7fdf7c9ca3bd9acd66cbc3af",
        "msg": "Make sure we apply qemu config changes\n\nWith the change in https://review.openstack.org/#/c/561784/3 we need to\nmake sure that the new port range get applied to the the qemu.conf file.\nThis change includes ::nova::migration::qemu to\n::tripleo::profile::base::nova::libvirt\n\nChange-Id: Idadfc7b3507977f1385e846a48a734ed0e5f0a32\nCloses-bug: 1779820",
        "cmtr": "Martin Schuppert",
        "date": "2018-07-03 11:00:26+02:00",
        "files": ["libvirt.pp", "nova_migration_qemu-fc2150565dae8d33.yaml", "tripleo_profile_base_nova_libvirt_spec.rb"]
      },
      {
        "hash": "992b0217752598d1d5ca488834122e6db36c4096",
        "msg": "Include designate::quota\n\nThis will be required for users to configure default quotas for\nDesignate at deploy time.\n\nChange-Id: Ie201a2daac3e9138ba7f5e0f5655d3c52faa6584",
        "cmtr": "Ben Nemec",
        "date": "2018-07-03 23:05:51+00:00",
        "files": ["central.pp"]
      },
      {
        "hash": "a2b00bf7f20a679e98804b5e9bd02927ddd9430f",
        "msg": "Make the errors around fencing and IHA clearer\n\nDistinguish the error messages between no ipmilan device\nconfigured or more than once device configured.\n\nChange-Id: Iffda14d1488de09e57dfe0746a486a8cb78f110b",
        "cmtr": "Michele Baldessari",
        "date": "2018-07-05 09:58:53+02:00",
        "files": ["fencing.pp"]
      },
      {
        "hash": "a33f0c1f21ac6b0075dfb95419ab4286cf9c9ca0",
        "msg": "Avoid hard-coded settings in Manila HA containers\n\nAdd parameters for controlling the docker container settings used to\ncreate the manila-share pacemaker bundle. The parameters eliminate the\nneed to hard-code the list of docker volumes and environment variables,\nmaking it possible to control the values using hiera data.\n\nFor backward compatibility, the previous hard-coded values are used\nwhen no parameter inputs are supplied.\n\nPartial-Bug: #1749752\nChange-Id: Ia81602f8a3454fcb0be2eaa9126021331d37b147",
        "cmtr": "Alan Bishop",
        "date": "2018-07-05 09:31:53-04:00",
        "files": ["share_bundle.pp", "tripleo_profile_pacemaker_manila_share_bundle_spec.rb", "default.yaml"]
      },
      {
        "hash": "dd130071ac652bcbe6fa85df887a19937de02d4e",
        "msg": "Bind openshift-master to the public network\n\nIt's ok to bind the HAProxy configs for openshift-master to the public\naddress. This will allow users to access the cluster from outside the\ninternal network. Openshift nodes will remain bound to the internal\nnetwork.\n\nChange-Id: Ib573758b515264d1dda90cc9de61f4fa6659dc7d",
        "cmtr": "Flavio Percoco",
        "date": "2018-07-05 18:55:26+02:00",
        "files": ["haproxy.pp"]
      },
      {
        "hash": "a58ee41653463f29f120e17980956cb95eebdba0",
        "msg": "Add log enable to control module generation\n\nChange-Id: I48f2959c93959725956c75bfdc515fcc0dd294f4",
        "cmtr": "Andy Smith",
        "date": "2018-07-09 12:55:17-04:00",
        "files": ["qdr.pp"]
      },
      {
        "hash": "a5895d4f174d9e9ebfbbb3b0ba962bf6cb3da5ca",
        "msg": "Remove forgotten values from heat-api-cloudwatch\n\nWhen heat-api-cloudwatch service was removed in\nIc11d8803bb260fe302da929eda9ec8d547a92176 two values,\nheat_cw_port and heat_cw_ssl_port, were forgotten.\n\nChange-Id: I8e2f32434ae1f103b38f4c8a468e655cfa790b24",
        "cmtr": "schegi",
        "date": "2018-07-10 09:37:29+02:00",
        "files": ["haproxy.pp"]
      },
      {
        "hash": "2515c8ed3f9f77236e26043da4ee4340066f692c",
        "msg": "Make Designate pools.yaml configurable\n\nThe initial version of this had a static pools.yaml file, but for\nproduction use that will not work.  This change allows the content\nof the file to be passed in from Heat.\n\nChange-Id: I45f5c39c8ddf1f5ef0695119b562a38589ad0f33",
        "cmtr": "Ben Nemec",
        "date": "2018-07-11 22:24:02+00:00",
        "files": ["central.pp"]
      },
      {
        "hash": "c525c64f6a9535b0b040cca1a7813e93dfaa797c",
        "msg": "Enforce proper ordering when applying firewall rules\n\nThe tripleo firewall module has fundamentally three pieces:\n1) firewall::pre (allows existing connections/ssh/icmp)\n2) firewall::rule (allows services traffic)\n3) firewall::post (drops all traffic)\n\nOne of the assumptions coded in the module is the following line:\nService<||> -> Class['tripleo::firewall::post']\n\nWhich has been added so that (see also bug LP#1643575):\n\"\"\"\nuse ordering to make sure we start all Services in catalog before post\nrules. It ensure that we don't drop all traffic before starting the\nservices, which could lead to services errors (e.g. trying to reach database or amqp)\n\"\"\"\n\nThe problem is that there is nothing specifying that the firewall rules\ncreated by tripleo services need to be implemented between the pre and\npost classes. So the following can happen:\nJul 10 05:04:13 overcloud-controller-1 systemd: Started OpenSSH server daemon.\nJul 10 05:04:13 overcloud-controller-1 puppet-user[32418]: (/Stage[main]/Ssh::Server::Service/Service[sshd]) Triggered 'refresh' from 2 events\nJul 10 05:04:13 overcloud-controller-1 puppet-user[32418]: (/Stage[main]/Tripleo::Firewall::Pre/Tripleo::Firewall::Rule[000 accept related established rules]/Firewall[000 accept related established rules ipv4]/ensure) created\n...\nJul 10 05:04:13 overcloud-controller-1 puppet-user[32418]: (/Stage[main]/Tripleo::Firewall::Post/Tripleo::Firewall::Rule[998 log all]/Firewall[998 log all ipv4]/ensure) created\n...\nJul 10 05:04:14 overcloud-controller-1 puppet-user[32418]: (/Stage[main]/Tripleo::Firewall/Tripleo::Firewall::Service_rules[cinder_api]/Tripleo::Firewall::Rule[119 cinder]/Firewall[119 cinder ipv4]/ensure) created\n\nThis means that we can actually open the traffic for our services *after*\nsaid traffic has been completely blocked. In order to fix this we\ntag the pre/post rules with a different tag and add resource collectors\nto actually enforce proper ordering. We now get:\n...\nJul 11 08:54:43 overcloud-controller-0 puppet-user[32554]: (/Stage[main]/Tripleo::Firewall::Pre/Tripleo::Firewall::Rule[000 accept related established rules]/Firewall[000 accept related established rules ipv4]/ensure) created\n...\nJul 11 08:54:43 overcloud-controller-0 puppet-user[32554]: (/Stage[main]/Tripleo::Firewall/Tripleo::Firewall::Service_rules[cinder_api]/Tripleo::Firewall::Rule[119 cinder]/Firewall[119 cinder ipv4]/ensure) created\n...\nJul 11 08:54:52 overcloud-controller-0 puppet-user[32554]: (/Stage[main]/Tripleo::Firewall::Post/Tripleo::Firewall::Rule[998 log all]/Firewall[998 log all ipv4]/ensure) created\n\nTested this by doing 20 deploys of 1ctrl+1cmp and then scaling up the\novercloud to 3ctrl+2cmp.\n\nThe reason this change, besides being semantically correct, is needed\nfor scaling up the controller role is the following:\n1) When we detect a scaleup situation, we call 'pcs cluster node add <newnode>'\n   from the bootstrap node\n\n2) It can happen that 1) succeeds because the node still had no iptables\n   at all, so pcs communication succeeds. So at this point the cluster\n   has added a new node and all is well\n\n3) Now we apply the pre and post rules and all traffic is blocked. And\n   slowly we start adding rules to let services be accessible over the\n   network.\n\n4) pacemaker is unable to talk to other nodes and assumes a network split.\n   Eventually it will start fencing node to guarantee the state of the\n   remote nodes and so the deploy will fail.\n\nWith this change if the 'pcs cluster node add' call succeeds we are\nguaranteed to not interrupt network traffic afterwards.\n\nChange-Id: I01e681a6305e2708bf364781a2032265b146d065\nCloses-Bug: #1781147",
        "cmtr": "Michele Baldessari",
        "date": "2018-07-13 07:50:11+02:00",
        "files": ["firewall.pp", "post.pp", "pre.pp", "rule.pp"]
      },
      {
        "hash": "c482a3ce5a9ab4074c61903c5b9e8e2af7d39bfe",
        "msg": "New profile to configure libvirt-guests on compute host\n\nOn compute shutdown we might want to gracefully shutdown instances\nusing libvirt-guests. If it gets configured is managed via a tht\nparameter NovaResumeGuestsStateOnHostBoot. This triggers config\nof /etc/sysconfig/libvirt-guests via puppet-nova, configures a\ndependency for virt-guest-shutdown.target to\npaunch-container-shutdown.service that instances get shutdown\nbefore the libvirt container gets stopped.\n\nChange-Id: Id1cc2e75af316b864cebf601395f1111b7fb049a\nCloses-Bug: 1778216\nDepends-On: I2766cdd66ff17756daaf1a75ad516a7af6eebddc",
        "cmtr": "Martin Schuppert",
        "date": "2018-07-13 17:42:24+02:00",
        "files": ["libvirt_guests.pp", "nova_libvirt_guests-d0e5424d40d9e26e.yaml"]
      },
      {
        "hash": "3ad7c2d10aba5e30e473fd83d8a3314a96f76d68",
        "msg": "rate limit iptables logging\n\nWe currently have the following rule in the post firewall section of our puppet code:\n\ntripleo::firewall::rule{ '998 log all':\n  proto => 'all',\n  jump => 'LOG',\n}\n\nThe problem is that with this rule we log every single packet which is rather suboptimal:\nJul 10 05:05:03 overcloud-controller-1 kernel: IN=vlan20 OUT= MAC=1a:1a:0a:72:8a:0c:ba:ac:11:55:28:28:08:00 SRC=172.16.2.10 DST=172.16.2.14 LEN=228 TOS=0x00 PREC=0x00 TTL=64 ID=59388 DF PROTO=UDP SPT=43036 DPT=5405 LEN=208\nJul 10 05:05:03 overcloud-controller-1 kernel: IN=vlan20 OUT= MAC=1a:1a:0a:72:8a:0c:ba:ac:11:55:28:28:08:00 SRC=172.16.2.10 DST=172.16.2.14 LEN=228 TOS=0x00 PREC=0x00 TTL=64 ID=59391 DF PROTO=UDP SPT=43036 DPT=5405 LEN=208\nJul 10 05:05:03 overcloud-controller-1 kernel: IN=vlan20 OUT= MAC=1a:1a:0a:72:8a:0c:ba:ac:11:55:28:28:08:00 SRC=172.16.2.10 DST=172.16.2.14 LEN=228 TOS=0x00 PREC=0x00 TTL=64 ID=59392 DF PROTO=UDP SPT=43036 DPT=5405 LEN=208\n...\n\n(undercloud) [stack@undercloud stonith-scalingup-issue]$ grep IN=vlan20 sosreport-overcloud-controller-1-20180710070209/var/log/messages |wc -l\n8682\n\nLet's start by ratelimiting this to a burst of 15 messages\nand 20 messages per minute. According to [1] this means that\nwe will have 15 messages logged before the 20 messages per minute\nlimit kicks in.\nLet's also add a parameter so that an operator can override this\nin case the defaults are not suitable for her/him.\n\n[1] https://netfilter.org/documentation/HOWTO/packet-filtering-HOWTO-7.html\n\nChange-Id: Ie8fe28e582bdcf51b819d5ca7f979b0a21597768\nCloses-Bug: #1781171",
        "cmtr": "Michele Baldessari",
        "date": "2018-07-16 14:32:58+02:00",
        "files": ["post.pp"]
      },
      {
        "hash": "cac7047169979c34f4967bd5901ff27659a6c680",
        "msg": "Remove unused code in ovn dbs bundle to set the sysctl value\n\nThe docker/services/pacemaker/ovn-dbs.yaml service file doesn't\ndefine the puppet tag 'sysctl::value'. So this patch removes\nthe puppet code to set the sysctl - net.ipv4.ip_nonlocalbind' to 1.\nInstead of adding this tag, the service file sets the above sysctl\nvalue using the host_prep_tasks section in this patch - [1]\n\n[1] - https://review.openstack.org/#/c/582520/\nChange-Id: I1076c88051cc48a263996024fcdfe8d917537d20\nRelated-bug: #1781585",
        "cmtr": "Numan Siddique",
        "date": "2018-07-17 12:55:56+05:18",
        "files": ["ovn_dbs_bundle.pp"]
      },
      {
        "hash": "bd03d54b71b0386bbcc63abe7bae2f161af888d1",
        "msg": "Only run designate pool update on bootstrap node\n\nThis needs to only run on a single node or database conflicts can\nhappen.\n\nChange-Id: I529869f3cfdda6d829c366e37e15cb3203b6dff6",
        "cmtr": "Ben Nemec",
        "date": "2018-07-17 17:01:29+00:00",
        "files": ["central.pp"]
      },
      {
        "hash": "158f7543e0203428c8d16554719cbbf64dae1c98",
        "msg": "Enable configuration of rndc controls\n\nFor ha deployments we need to be able to allow rndc commands from\nother controllers.  We don't want to allow rndc commands from\nanywhere though, so we need to be able to configure it to only\nlisten on a specific network (which will be internal_api by default).\nThis can be done via the controls parameter.\n\nHowever, because the value is a hash and the top-level key for the\nhash is a dynamic value, it is problematic to represent the data\nstructure in a Heat template.  For our purposes, it is sufficient\nto break apart the hash into its component parts and build the hash\nin our Puppet manifest.\n\nChange-Id: I2c97ff30c4c59ef32b6b918ba52973451e1b6241\nDepends-On: https://review.openstack.org/581898",
        "cmtr": "Ben Nemec",
        "date": "2018-07-17 17:01:34+00:00",
        "files": ["designate.pp"]
      },
      {
        "hash": "94f382323f3f70391e2f26baf8e43a0360fc986d",
        "msg": "Check for neutron_plugin_ml2_ansible service when including plugin\n\nWe would not want ansible ml2 plugin configured for roles unless\nneutron_plugin_ml2_ansible service is enabled. Check services_names\nbefore including neutron puppet manifest.\n\nChange-Id: Ia36c62a6b7c234dd31912a8289bb1b1e4b4698fb\nCloses-Bug: #1782537",
        "cmtr": "rabi",
        "date": "2018-07-19 14:37:31+05:18",
        "files": ["ml2.pp"]
      },
      {
        "hash": "77a158bdd8ce13800d61b262a27b00e91945dba2",
        "msg": "Remove notification_driver parameter from heat profile\n\nThe service profile has a default that overrides the one set either\nby 'NotificationDriver' parameter or 'heat::notification_driver' in\nExtraConfig.\n\nThis parameter is not there in any other service profile and can\nbe removed as it's not used by the service.\n\nChange-Id: I1570f59be977773ba8a0ff1222b57f88a9954ca8\nCloses-Bug: #1782720",
        "cmtr": "rabi",
        "date": "2018-07-20 13:23:44+05:18",
        "files": ["heat.pp"]
      },
      {
        "hash": "bebc5848da710ce6cfbbd495da47f4d70c3c86b1",
        "msg": "Remove setting root user for ovn dbs pacemaker bundle\n\nThis patch removes the option \"--user=root\" from the docker options.\nRight now the kolla image - ovn-northd which is used for ovn dbs pacemaker\nbundle doesn't set the user 'openvswitch'. So even after this patch\nis merged, the ovn bundle will be started as root user.\n\nThis patch is 1st step towards running ovn dbs pacemaker as a non root user.\n\nIt requires changes in\n - in ovn-northd kolla image and\n - in the ovn-dbs.yaml pacemaker service file in T-H-T to give the proper\n   permissions to the log and data folders\nto run the ovn pacemaker bundle as a non root user which will be handled\nin follow up patches.\n\nRelated-bug: #1781534\nChange-Id: I32f37522b012967f12c459cdf4cf14c43c079231",
        "cmtr": "Numan Siddique",
        "date": "2018-07-20 16:47:46+05:18",
        "files": ["ovn_dbs_bundle.pp"]
      },
      {
        "hash": "dba1d2a5e127556bd523490e2f33628da47c9631",
        "msg": "Allow specifying an rndc key\n\nThis is necessary in ha because if we let the puppet module generate\nthe rndc key it will be different on all controllers and they won't\nbe able to talk to each other.\n\nChange-Id: I4f030cd419511be43e9e4189dbc4418d5a6c6c61",
        "cmtr": "Ben Nemec",
        "date": "2018-07-20 20:54:13+00:00",
        "files": ["worker.pp", "rndc.key.erb"]
      },
      {
        "hash": "6c60a0f21f965d93d8703d89e9fff6e472963155",
        "msg": "Collectd QDR connection\n\nThis patch enables to configure collectd to QDR by utilizing\ncollectd-amqp1 plugin.\n\nChange-Id: I4cb6aa95e253b7fd19ed265fbcba0dfe6663592d",
        "cmtr": "Martin Mgr",
        "date": "2018-07-23 13:36:19+02:00",
        "files": ["Puppetfile_extras", "collectd.pp", "tripleo_profile_base_metrics_collectd_spec.rb"]
      },
      {
        "hash": "50ce48cd28bf250f460dea432270bc4862f850ff",
        "msg": "Correct vrrp script for haproxy status\n\nCurrently, on a containerized undercloud, we get error messages from\nkeepalived container:\n/usr/bin/systemctl status haproxy.service exited with status 1\n\nEven if the undercloud is currently not in HA, it's still a good thing\nto get clean logs.\n\nNote: the command is launched by the keepalived container, hence we\ncannot use pgrep nor anything else. We also need the /var/lib/haproxy\nmount in the keepalived container, shared from the haproxy container on\nthe host.\n\nChange-Id: Ib5050a3a6af262e26b5523974d1d4a80c4e92834",
        "cmtr": "Cdric Jeanneret",
        "date": "2018-07-23 17:06:29+02:00",
        "files": ["keepalived.pp", "tripleo_keepalive_spec.rb"]
      },
      {
        "hash": "d85cd3f3650d5f85a67170c27dac9f022a480d32",
        "msg": "Enable HAProxy mode http for Swift and Ceph RGW\n\nPreviously we missed to enable http mode for the Swift and Ceph\nRGW listeners in HAProxy.\n\nChange-Id: I4d7a8299d57e9c5f6effea19f0b630f4a092ff7e",
        "cmtr": "Alex Schultz",
        "date": "2018-07-30 17:05:28+00:00",
        "files": ["haproxy.pp"]
      },
      {
        "hash": "907853e35f160d6f39d65e354870ac217f3e4b12",
        "msg": "Prevent triggering firewall actions while configuring HA services\n\nWhen a fence_xvm stonith device is configured, puppet module fence_xvm creates\nfirewall rules to configure this fencing device.\n\nWhen transient containers *_init_bundle run at step 5 or above, fence_xvm will\nend up calling iptables, which is forbidden from such containers.\n\nWe can't noop the firewall resources like we did in [1], because fence_xvm\nmakes use of specific providers for some resources [2]. So instead, we do not\ninclude module fence_xvm when running from a container. This is safe\nbecause the firewall rules needed for the fencing configuration are still\ncreated when puppet is executed on the host at step 5. (Besides, only that\nfencing device requires firewall rules)\n\n[1] https://github.com/openstack/tripleo-heat-templates/blob/master/docker/services/pacemaker/haproxy.yaml#L160\n[2] e.g. https://github.com/openstack/puppet-pacemaker/blob/master/manifests/stonith/fence_xvm.pp#L237\n\nChange-Id: I595f8bc22e76868b7dace400667d53f3c4565248\nRelated: rhbz#1598904",
        "cmtr": "Alex Schultz",
        "date": "2018-07-30 17:05:43+00:00",
        "files": ["fencing.pp"]
      },
      {
        "hash": "54c505f1967909505c09fbc11c4a969b1af65439",
        "msg": "Move nova-metadata api to httpd wsgi\n\nUpstream will deprecate usage of eventlet of all the WSGI-run\nservices, including nova-api and nova-metadata-api.\nSee https://review.openstack.org/#/c/549510/ for more details.\n\nWith this change we move nova-metadata to run via httpd wsgi\nand therefore uses its own config volume.\n\nDepends-On: Ic65736cb0e95c400a728cd699ecf06c6aecff832\n\nChange-Id: Ic46acdbac280ac648ec5ed9d7af0139126334fe0\nCloses-Bug: 1781405",
        "cmtr": "Martin Schuppert",
        "date": "2018-07-31 09:59:46+02:00",
        "files": ["api.pp", "metadata.pp", "nova_metadata_wsgi-bbc8e5e053282a83.yaml", "tripleo_profile_base_nova_metadata_spec.rb"]
      },
      {
        "hash": "5e87dffbeed15756c55c397fb5962c551822336f",
        "msg": "Configure cinder's default volume type\n\nAdd a resource that creates Cinder's default volume type. The\ncinder::type provider executes osc commands, so this is only done once\non the bootstrap node, and at step 4 when the cinder_api service is\nrunning.\n\nPartial-Bug: #1782217\nChange-Id: Ia23996abefdd1410fb86f04ed84a314f4364339c",
        "cmtr": "Alan Bishop",
        "date": "2018-08-06 12:01:17-04:00",
        "files": ["api.pp", "cinder-default-volume-type-a344cea7ab4b4b2a.yaml", "tripleo_profile_base_cinder_api_spec.rb", "step4.yaml"]
      },
      {
        "hash": "67a7dc70f2885b7db2a42bc28c25ece0bbeba3e4",
        "msg": "Fix containerized logrotate configuration\n\nUse copytruncate and 'hourly' log rotation by default.  Increase the\ndefault max number of rotated files to 336, which corresponds to 14\ndays, so that default period retained as is.\n\nWith the copytruncate option enabled, logs should be hourly rotated to\ndecrease disk IO load when copying log files around. The default\nmaxsize of 10M is better maintained for often rotations done within a\nday as well, so log files will not happen to become unexpectedly huge\nat the end of it.\n\nW/o copytruncate, the containerized logrotate sends no signals to\nprocesses, as files are only renamed and not unlinked. That makes the\nfiles deletion based filter failing, until the default period of 14\ndays expires. To fix that non-copytruncate case, post-rotate always\nsends HUP (USR1 for httpd) signals to all processes holding open files\nin the /var/log/containers host path. That also makes all services\nreloaded hourly (there is still a random splay applied by cron though)\nas a side effect.\n\nWith copytruncate ON, each rotation ensures the old log files will also be\ndeleted, so only affected services will be reloaded.\n\nAdditionally, send USR1 instead of HUP to reload httpd in containers\ngracefully.\n\nCloses-Bug: #1785659\n\nChange-Id: I15fa0eab1625ac63fd57b6a6d5cd22a6ac85f221\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>",
        "cmtr": "Bogdan Dobrelya",
        "date": "2018-08-06 18:08:47+02:00",
        "files": ["logrotate.pp", "logrotate-copytruncate-hourly-f0851bec551f5f5f.yaml", "containers_logrotate.conf.erb"]
      },
      {
        "hash": "54188dbcf0046fc0baf70880653b899f6d10dc74",
        "msg": "Fixes ODL issue where OF port may be set wrong\n\nThere is a case where OVS needs to have the OpenFlow configuration\nresynced. The regsubst was only replacing one of the ports instead of\nall, so sometimes the OpenFlow controller settings on OVS would have\nports 6640 instead of the right port (6653).\n\nCloses-Bug: 1786037\n\nChange-Id: I93e3d355625508fdc42f44bdd358f3ba86fbd8d7\nSigned-off-by: Tim Rozet <trozet@redhat.com>",
        "cmtr": "Tim Rozet",
        "date": "2018-08-08 09:23:11-04:00",
        "files": ["opendaylight.pp", "fix-odl-ovs-openflow-port-resync-79b5f69b71740a6c.yaml"]
      },
      {
        "hash": "2f80fa1b1a1af1bf32afb523193ba8fa2df60d15",
        "msg": "Move metadata file creation of glance netapp to puppet-tripelo from THT\n\nSince, openstack-glance package has been removed from overcloud image\nduring the cleanup, 'filesystem_store_metadata_file' file is failing to\ncreate on host in case of glance netapp.\n\nSo, adding metadata file creation part in puppet-tripleo.\n\nChange-Id: I031a8921a74af137927ba83ee2307aafc13263cb",
        "cmtr": "Pranali Deore",
        "date": "2018-08-09 05:24:23+00:00",
        "files": ["netapp.pp", "metadata-file-creation-for-glance-netapp-47668bb602316024.yaml"]
      },
      {
        "hash": "81d4dfa7e0c5d4fcc1cd9fae19b860184c6e351f",
        "msg": "Force cinder properties to be set on ly on nodes with pcmk on it\n\nWhen using the BlockStorage role there is one cinder volume per node and\nthose are not managed by pcmk. So when we force the property for all\nnodes that have cinder_volume we will fail because pcmk is not running\non those nodes. Let's not set properties for nodes that are not running\npacemaker.\n\nWhile we're at it let's remove *_nodes_count which are not used anyway.\n\nCloses-Bug: #1786412\n\nChange-Id: I42e9f3244bad60b5df2dfa940f132f72c606620e",
        "cmtr": "Michele Baldessari",
        "date": "2018-08-10 09:41:09+02:00",
        "files": ["backup_bundle.pp", "volume_bundle.pp", "tripleo_profile_pacemaker_cinder_backup_bundle_spec.rb", "tripleo_profile_pacemaker_cinder_volume_bundle_spec.rb", "default.yaml"]
      },
      {
        "hash": "263418824f3fb41c542f0854a5c724eb0603870e",
        "msg": "Revert \"Fix containerized logrotate configuration\"\n\nCopytruncate cannot fix the postrotate filter for lsof searching for\ndeleted (unlinked and open) files. Copytruncate instead makes the\nfilter matching nothing as it makes files never deleted after rotation\nhappens.\n\nThis reverts commit 67a7dc70f2885b7db2a42bc28c25ece0bbeba3e4.\n\nChange-Id: I8a73819b4aa45813cbac310452b348681496032a",
        "cmtr": "Bogdan Dobrelya",
        "date": "2018-08-14 12:24:29+02:00",
        "files": ["logrotate.pp", "logrotate-copytruncate-hourly-f0851bec551f5f5f.yaml", "containers_logrotate.conf.erb"]
      },
      {
        "hash": "1587c21d7fd48444a9398c08f22df4c1ae188c31",
        "msg": "SSL support for haproxy -> novnc proxy connection\n\nWith tls-everywhere enabled the connection from haproxy to the nova novnc\nproxy was not encrypted. Now we request a certificate and configue haproxy\nand the novnc proxy to encrypt this remaining part in a vnc connection to\nbe encrypted as well.\n\nChange-Id: I4667706633205c240f2efb51663e6efbce5e344e\nRelated-bug: #1785700\nDepends-On: Ice51fe175bdc1cb14fa49cf53d1f38e9728bbb60",
        "cmtr": "Oliver Walsh",
        "date": "2018-08-15 16:06:10+01:00",
        "files": ["novnc_proxy.pp", "haproxy.pp", "certmonger_user.pp", "nova_novnc_proxy_ssl_support-507a776063403a8e.yaml"]
      },
      {
        "hash": "643abd1cde6c66f7c81769d8e6a229b846e170d7",
        "msg": "Remove the duplicated word\n\nChange-Id: I65a4867b883f216dde10482166f9827c498ff083",
        "cmtr": "melissaml",
        "date": "2018-08-17 15:50:33+08:00",
        "files": ["ml2.pp", "redis.pp", "redis_bundle.pp", "nova_migration_qemu-fc2150565dae8d33.yaml", "tripleo_profile_base_neutron_spec.rb"]
      },
      {
        "hash": "5d60472d78de5ff531bbf6cace272a939dafb489",
        "msg": "Use exec for CA CRL instead of file resource\n\nThis is because the file resource doesn't properly handle query\nparameters in URLs. So we are forced to use an exec resource here. It's\nfine if we always trigger the CRL downloading, as that's a file that\ngets udpated often.\n\nAlso ensure we get proper escaped source/destination for the download.\n\nCo-Authored-By: Cdric Jeanneret <cjeanner@redhat.com>\nChange-Id: I15ad3ab0cd129a8e1b9261341c0510265bda8016\nCloses-Bug: #1787878",
        "cmtr": "Juan Antonio Osorio Robles",
        "date": "2018-08-21 11:33:52+00:00",
        "files": ["crl.pp", "tripleo_certmonger_ca_crl_spec.rb"]
      },
      {
        "hash": "a8bef7a3135d295e667e2e80a2e23e3515a0cb88",
        "msg": "Do not create metadata ssl proxy if we have metadata api via httpd wsgi\n\nWith nova metadata api running via wsgi we do not need the ssl proxy when\nconfigure tls-everywhere as we terminate ssl direct in the httpd wsgi.\nWith this change we only create the ssl proxy vhost if we do not run nova\nmetadata via wsgi.\n\nRelated-Bug: 1781405\n\nChange-Id: Ia0e769925812e91679631bdd631030ab12ceff01",
        "cmtr": "Martin Schuppert",
        "date": "2018-08-22 15:30:16+02:00",
        "files": ["api.pp", "nova-metadata-wsgi-ssl-a64c2b9a99deb7a9.yaml"]
      },
      {
        "hash": "66292a5886ec27a23bf7bd88a356c4372ed00668",
        "msg": "Add support for ODL-OVS IPv6 deployment\n\nMake necessary changes for proper deployment\nof ODL on IPv6 network.\n\nChange-Id: Id7a0986f886a81b2041987b0d5a95edf2160e05e\nDepends-On: Idd257cf4666b853eb4c52861f9f400b6dbdeeadb\nPartial-Bug: #1783196",
        "cmtr": "Janki Chhatbar",
        "date": "2018-08-24 09:18:37+05:18",
        "files": ["add_brackets.rb", "opendaylight.pp", "opendaylight.pp", "add-support-for-IPv6-deployment-988400c781b92066.yaml"]
      },
      {
        "hash": "5a96b2ec0c7bb1181bf8ecd96b543efa12a72bba",
        "msg": "mysql/client: create tripleo.cnf everytime\n\nIf TLS isn't enabled, Augeas won't create tripleo.cnf but Docker will\ncreate the file itself while mount binding it into the container.\nWith podman, the files/dirs that don't exist aren't created (probably\nfor the best), so let's create this empty file so podman can mount it\nanyway.\n\nBlueprint podman-support\nCo-Authored-By: Cdric Jeanneret <cjeanner@redhat.com>\nChange-Id: I28fa68f5a802ad60a2cac0dd2644804dd1f47e9e",
        "cmtr": "Emilien Macchi",
        "date": "2018-08-26 13:43:49+00:00",
        "files": ["client.pp", "tripleo_profile_base_database_mysql_client_spec.rb"]
      },
      {
        "hash": "77079ba3e86d5e020f2a05935275bc7596c02c5a",
        "msg": "Make sure that stonith state is enforced before attempting a scaleup\n\nWhile we start supporting the (1->3) controller scaleup use-case,\nwe want to make sure that any stonith configuration happens before\nwe do the scaleup.\nSince Stonith gets disabled at step 2 of a deploy and reenabled at step 5\n(in the case stonith is indeed configured). With this we make sure that\nstonith is off before doing the scaleup. While stonith has no reason\nto kick in during a scaleup, this is just semantically more correct\nand also just a safer default.\n\nDepends-On: Iac31035da98bd68a5481d97ee3765a99563db49f\nChange-Id: I2f8a557e9fc912df081f65b216a4245298876854",
        "cmtr": "Michele Baldessari",
        "date": "2018-08-27 14:15:27+00:00",
        "files": ["pacemaker.pp"]
      },
      {
        "hash": "0ed2cf7aea9f9e6be9e2ddf0fe7b5c6311e35994",
        "msg": "Conditionalize rndc changes\n\nThe changes to allow configuration of more rndc options had a\ncross-repo dependency on the tripleo-heat-templates changes that\nmade use of the new options.  Unfortunately, the puppet changes\nlanded first and are now broken because necessary inputs are not\nbeing provided.  This change conditionalizes the new configurations\nso that if the parameters aren't passed we won't attempt to do\ninvalid configuration.\n\nCloses-Bug: #1788907\nChange-Id: Ia82f1c6be0d5504498e77a90268cad8abecdeae2",
        "cmtr": "Ben Nemec",
        "date": "2018-08-27 19:03:57+00:00",
        "files": ["designate.pp", "worker.pp"]
      },
      {
        "hash": "8975100f773a2dcfdc39eaf6e979a763dae82866",
        "msg": "Allow VIP resource to have customized ops\n\nIntroduce meta_params and op_params which will be\npassed to the pcs resource create comand when creating\nthe VIPs. This allows us to specify custom ops for VIPs\nin the following manner, by setting hiera. E.g.:\ntripleo::profile::pacemaker::haproxy_bundle::op_params: 'start timeout=200s stop timeout=200s monitor timeout=5s'\n\nChange-Id: I9a1c700051fc6dfc302e1d94347df2956442354e\nDepends-On: Iadf0cd3805f72141563707f43130945c9d362f5c\nRelated-Bug: #1719540",
        "cmtr": "Michele Baldessari",
        "date": "2018-09-03 06:22:44+00:00",
        "files": ["haproxy_with_vip.pp", "haproxy.pp", "haproxy_bundle.pp"]
      },
      {
        "hash": "de01705140d1916632b6f02552a4331f7a5d37d1",
        "msg": "Remove the duplicated word\n\nChange-Id: Ib16459b1f7c8ef2c0e6612c660e31bfb5f2c74fc",
        "cmtr": "caoyuan",
        "date": "2018-09-15 14:37:32+00:00",
        "files": ["redis.pp", "redis_bundle.pp", "tripleo_profile_base_neutron_spec.rb"]
      },
      {
        "hash": "a1a30bc731145bc96af6c0f6b9e000ae219493ed",
        "msg": "Set OVS local ip through OVS ODL class\n\nOVS local IP is currently set through\npuppet-tripleo's neutron ovs agent class.\nInstead set it through ovs odl class.\n\nPartial-Bug: #1789371\nDepends-On: I5f6e8b76eeac75298f11d69441b9ad08a5c51005\nhttps://review.openstack.org/#/c/597002/\n\nChange-Id: Ia98f39c1185ff234d1d68737055cf3e6cb4a8bc4",
        "cmtr": "Janki Chhatbar",
        "date": "2018-09-17 10:15:50+00:00",
        "files": ["opendaylight.pp"]
      },
      {
        "hash": "0730ff23b910e205bbace14ba961cdd63c0f0882",
        "msg": "Create interface to create mysql resources via hieradata\n\nThis added the \"tripleo::<service name>::mysql_user\" interface, which\nallows folks to create databases, users and grants via hieradata instead\nof having to modify puppet-tripleo.\n\nChange-Id: I975d64c73e314159db0f6c1ada14a26491a46d1a",
        "cmtr": "Juan Antonio Osorio Robles",
        "date": "2018-09-17 22:57:06-06:00",
        "files": ["mysql.pp", "user.pp", "users.pp", "introduce-mysql-user-interface-e16d62f3743128a0.yaml", "tripleo_profile_base_database_mysql_user_spec.rb"]
      },
      {
        "hash": "d98d9797029f1a8d3e76f00ff610eb5f19a1da5a",
        "msg": "Introduce alternative to get ip_addresses and server_names\n\nThis introduces a key called \"base_service_name\" which you can set in\norder to use the \"magically\" generated <service name>_node_ips and\n<service name>_node_names, which will set ip_addresses and server_names\nin the HAProxy endpoint. This makes it easier for folks creating\nservices to add custom HAProxy endpoints.\n\nChange-Id: I5de14152904d06c49e9d5b2df6e3f09a35f23d92",
        "cmtr": "Juan Antonio Osorio Robles",
        "date": "2018-09-18 12:16:13+03:00",
        "files": ["endpoint.pp"]
      },
      {
        "hash": "4592234a2c3370c7ddd5683fe82069a0a7f4e9d9",
        "msg": "Include missing config classes\n\nIf a user wants to use an extra config to tune something that we do not\ncurrently expose then they need to use the various config classes\navailable in the puppet modules. This change adds an include for the\nmissing classes for congress, ironic, sahara, tacker and zaqar.\n\nChange-Id: Ic3bea5a2081fc5194471e35b765e7ef8a9f5b036\nRelated-Bug: #1793361",
        "cmtr": "Alex Schultz",
        "date": "2018-09-19 12:44:20-06:00",
        "files": ["congress.pp", "ironic_inspector.pp", "sahara.pp", "tacker.pp", "zaqar.pp"]
      },
      {
        "hash": "9289a3e9dea89300eb69c05fa6b0d1baf06eeebe",
        "msg": "Add additional tuning options for mariadb/galera\n\nThis introduces additional mariadb tuning options, namely:\n\n- innodb_log_file_size:\n\n  Configure the size in bytes of each log file in a log group.\n  Generally, the combined size of the log files should be large enough\n  that the server can smooth out peaks and troughs in workload activity,\n  which often means that there is enough redo log space to handle more\n  than an hour of write activity.\n  The larger the value, the less checkpoint flush activity is required\n  in the buffer pool, saving disk I/O.\n\n- innodb_flush_method\n\n  Defines the method used to flush data to InnoDB data files and log files,\n  which can affect I/O throughput. If innodb_flush_method is set to NULL\n  on a Unix-like system, the fsync option is used by default.\n\n  The innodb_flush_method options for Unix-like systems include:\n\n  - fsync: InnoDB uses the fsync() system call to flush the data and log files.\n  - O_DSYNC: InnoDB uses O_SYNC to open and flush the log files,\n    and fsync() to flush the data files.\n  - littlesync: currently unsupported. Use at your own risk.\n  - nosync: currently unsupported. Use at your own risk.\n  - O_DIRECT: InnoDB uses O_DIRECT to open the data files,\n    and uses fsync() to flush both the data and log files.\n\n- table_open_cache\n\n  The number of open tables for all threads. Increasing this value\n  increases the number of file descriptors that mysqld requires.\n  You can check whether you need to increase the table cache by checking the\n  Opened_tables status variable. If the value of Opened_tables is large\n  and you do not use FLUSH TABLES often, then you should increase the value of\n  the table_open_cache variable.\n\ndefault value for all three is 'undef'.\n\nChange-Id: Idcb1c5b4b7556ed9e26319305f3b6b0d00369ef8",
        "cmtr": "Luca Miccini",
        "date": "2018-09-20 09:57:24+02:00",
        "files": ["mysql.pp"]
      },
      {
        "hash": "e288dbd8252765020816639b9b53f8212292cfaf",
        "msg": "Make sure rhel-plugin-push.service is stopped after pacemaker stops\n\nWhen issuing a normal reboot command on an overcloud node the following\nstop sequence can take place:\n------------- -----------------------------\n| Pacemaker | | paunch-container-shutdown |\n------------- -----------------------------\n          |     |\n           \\   /\n            \\ /\n        ----------\n        | docker |\n        ----------\n\nIf there are docker plugins that are allowed to stop before docker and\nalso before pacemaker, it might happen that stopping them down during\nthe pacemaker stop will cause a bunch of timeouts and a failure to stop\ncontainers:\nSep 13 17:53:00.821030 controller-0.localdomain pacemakerd[6147]: notice: Shutting down Pacemaker\nSep 13 17:54:15.798026 controller-0.localdomain lrmd[6284]: warning: galera-bundle-docker-0_monitor_60000 process (PID 226329) timed out\nSep 13 17:54:15.799004 controller-0.localdomain lrmd[6284]: warning: galera-bundle-docker-0_monitor_60000:226329 - timed out after 20000ms\n\nOne of these plugins is 'rhel-push-plugin.service'. It seems that when\nthis plugin is free to stop before docker on shutdown, it is very\npossible that docker commands can start timing out.\n\nBefore:\nBefore adding the symlink we would need 15mins to reboot a node and\nwe would get a bunch of timeouts on shutdown and some failed actions on\nboot.\n\nAfter:\nA reboot will take a reasonable couple of minutes to complete with no\nfailed actions at boot and timeouts during shutdown.\n\nNB: We add the symlink unconditionally as systemd will ignore it if the\nservice is not installed.\n\nChange-Id: I6f6d27f2457efcc49d9edd8a2f98484c5f7c0933\nCloses-Bug: #1792701",
        "cmtr": "Michele Baldessari",
        "date": "2018-09-20 11:53:04+02:00",
        "files": ["pacemaker.pp", "pacemaker_remote.pp"]
      },
      {
        "hash": "bfba3ad7ac522e114c9b3fb03d354680c3b38162",
        "msg": "Fix fluentd multifile problem.\n\nThere is a problem on the current implementation.\nCurrently the new_source variable is an Array of hashes,\nnot a hash of hashes. The current impletation is wrong,\nas it can be seen for the following error at the log gate:\nhttp://logs.openstack.org/09/563009/7/check/tripleo-ci-centos-7-containers-multinode/aa4faf9/logs/undercloud/home/zuul/overcloud_deploy.log.txt.gz#_2018-09-03_15_17_39\n[search for fluentd_service.pp] as there are too many lines at the same timestamp.\n\nError: Evaluation Error: Error while evaluating a Resource\nStatement, Evaluation Error: Error while evaluating a Function\nCall, comparison of Hash with Hash failed at\n/etc/puppet/modules/fluentd/manifests/config.pp:6:16  at\n/etc/puppet/modules/tripleo/manifests/profile/base/logging/fluentd/fluentd_service.pp:47\non node centos-7-rax-iad-0001722758.localdomain\n\nChange-Id: Ifd5fbf6509addf4a564ff83c4551525c9a139ff4",
        "cmtr": "Juan Badia Payno",
        "date": "2018-09-20 12:14:19+02:00",
        "files": ["fluentd_service.pp", "tripleo_profile_base_logging_fluentd_spec.rb"]
      },
      {
        "hash": "10074cd5989df1093c4dedde98e28d9a9dcb7de6",
        "msg": "ceilometer: escape % in crontab\n\n% in cron is a reserved character and must be escape.\n\nChange-Id: Ic5c4a6126f42c700a8534c3c4d30f5951e4718ae\nCloses-bug: #1790503",
        "cmtr": "Mehdi Abaakouk (sileht)",
        "date": "2018-09-26 14:45:29+00:00",
        "files": ["expirer.pp", "tripleo_profile_base_ceilometer_expirer_spec.rb"]
      },
      {
        "hash": "2c7e877e581153ddc17dfd976b0779b3ccebf315",
        "msg": "adding deployment_type fact in support\n\nWe have added a deployment_type fact to indicate when puppet is being\nexecuted within a container.\n\nChange-Id: I5270778a7c4da2c383cf98c746b77c9b210e9ba0\nRelated-Bug: #1761624\nNeeded-By: https://review.openstack.org/#/c/559182/",
        "cmtr": "David J Peacock",
        "date": "2018-09-26 12:27:30-04:00",
        "files": ["fencing.pp", "client.pp", "tripleo_profile_base_database_mysql_client_spec.rb"]
      },
      {
        "hash": "c0cc54facee6d0962683d9f7caef84f71e7ffffb",
        "msg": "Implements: liquidio-containerization\n\nModified Liquidio puppet module for containerization support.\nThese changes would support both baremetal and container based\ndeployments.\n\nChange-Id: Ice2baafae2fb1011e16d83c83b5c85f721f6d679",
        "cmtr": "hanish gogada",
        "date": "2018-09-28 11:58:47+05:18",
        "files": ["ini_setting.rb", "liquidio_config.rb", "compute.pp", "config.pp", "tripleo_host_liquidio_compute_spec.rb", "tripleo_host_liquidio_config_spec.rb", "ini_setting.rb", "liquidio_config_sepc.rb"]
      },
      {
        "hash": "318e20a828ebf70e4a2644148c9b921d7007b5f0",
        "msg": "Make sure that ceph-nfs and the VIP start in the right order\n\nCurrently there is a race where ceph-nfs is free to be started before\nthe colocation constraint with the VIP is created. This issue is\nexacerbated by the fact that the container being started (via a systemd\nunit file managed by pacemaker) never fails in case the daemon\nencounters an error, because it has inside it:\n/usr/bin/ganesha.nfsd \"${GANESHA_OPTIONS[@]}\" -L /var/log/ganesha/ganesha.log \"${GANESHA_EPOCH}\" || return 0\n\nSince the container never fails, docker never exits and so systemd and\npacemaker think everything is fine and it won't get rescheduled on\nanother node.\n\nWe can avoid this issue completely if we can guarantee that\nwe start the VIP and the ceph-nfs service on the bootstrap node only\n(by tagging only that node with the right property) and only later we\nadd the node property on all the other nodes.\n\nThe drawback of this approach is that, barring any failures, ceph-nfs\nwill always be started on the master node for that service.\n\nChange-Id: I78c16c9fb28211a7a8ec2187ae76b9a072b76ea2",
        "cmtr": "Michele Baldessari",
        "date": "2018-10-01 09:40:41+02:00",
        "files": ["ceph_nfs.pp"]
      },
      {
        "hash": "de28e026cda308e638c0075f506f72eecc0689ab",
        "msg": "Enable TLS in the internal network for Octavia API\n\nPartial-Bug: #1789303\nCo-Authored-By: Kellen Gattis <kgattis@redhat.com>\nChange-Id: I38a71f28667ad0c50ebabd24cfbd148d52fe398b",
        "cmtr": "Carlos Goncalves",
        "date": "2018-10-01 14:17:12+00:00",
        "files": ["haproxy.pp", "api.pp", "tripleo_profile_base_octavia_api_spec.rb"]
      },
      {
        "hash": "8fe26972a0777f8e7bc7aa0e5e16774d1df5d15d",
        "msg": "mysql: use clustercheck credentials to poll galera state\n\nIn the galera container, clustercheck is currently configured to\nuse root credentials to poll the state of the local galera node.\n\nconfigure clustercheck to use the clustercheck credentials instead.\n\nChange-Id: Icca33ec759a9ef5abca6da4cd2e59f0a5d9b7061\nRelated-Bug: #1792416",
        "cmtr": "Damien Ciabrini",
        "date": "2018-10-01 10:55:24-04:00",
        "files": ["mysql_bundle.pp"]
      },
      {
        "hash": "2b223de04b26210cc865c3f6061d8d139859f34c",
        "msg": "Copytruncate containerized logrotate configuration\n\nThis reimplements commit 67a7dc70f2885b7db2a42bc28c25ece0bbeba3e4.\nCopytruncate becomes a default for containerized logrotate. The\nsolution based on signals processing goes away.\n\nAs long as key deployment framework components heat-engine and\nmistral-engine do not tolerate SIGHUP copytruncate should be used.\n\nThere is more openstack services, like neutron-server, nova-scheduler\nthat cannot handle SIGHUP nicely yet.\n\nNor can we fall back to that predates the containerization of services\nbecause of the following reasons:\n\n* We cannot and should not use the restart command in postrotate as it\n  was before containerization of services. For that a container needs\n  to be privileged and granted a docker socket bind-mount, which is a\n  total security antipattern and defeats the very purpose of\n  containerization. Things may change with future adoption of Podman\n  and/or kubelet control plane though. If/when that happens, we might\n  consider an option for postrotate to terminate a process with\n  SIGTERM, to have the process instantly respawned via its systemd\n  unit/kubelet restart policies.\n\n* Individual services' logrotate configs worth nothing, when still\n  being handled by a central logrotation container running crond. And\n  it needs to remain centralized as individual containers neither do\n  run crond nor contain logrotate, nor lightweight containers following\n  12-factors apps recommendations should do anything like that. Nor the\n  host logrotate/crond can do rotation of logs for containers as we do/\n  should not install required packages on the host, but only in\n  containers. See also the spec [0] explaining the reasoning better.\n\nAll of that makes copytruncate a global choice for logs rotation of\ncontainerized services as we just cannont be sure, if a service foo\n*really* does correct processing of SIGHUP. We leave that option for\nfuture implementation in the hope things get fixed eventually. As well\nas the aforementioned systemd/kublet option, or the option to provide\nstdout only logging [0] and let the logrotate thing go.\n\n[0] https://review.openstack.org/#/c/462900\n\nCloses-Bug: #1795411\nRelated-Bug: #1276694\nChange-Id: Ibdad7859a389d0ff37bbf7bfd9f4c521a05a5ea1\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>",
        "cmtr": "Bogdan Dobrelya",
        "date": "2018-10-03 14:34:00+02:00",
        "files": ["logrotate.pp", "logrotate-copytruncate-hourly-f0851bec551f5f5f.yaml", "containers_logrotate.conf.erb"]
      },
      {
        "hash": "594aff428938ff9fc6c9058c84bab49fb43868bb",
        "msg": "Disable chrony-wait\n\nThe chrony-wait service also prevents ntpd from starting on reboots.\nThis service should be disabled if present and running on the host when\nusing ntp.\n\nChange-Id: I4833525ae98d95c3ad84e3f79f30b8078c394ee1\nCloses-Bug: #1795986",
        "cmtr": "Alex Schultz",
        "date": "2018-10-03 16:02:08-06:00",
        "files": ["ntp.pp"]
      },
      {
        "hash": "7fd1113baf0bc26db3e196ae86a7493af5c38f49",
        "msg": "Dell EMC SC: Add support for excluded_domain_ips\n\nThe Dell EMC SC configuration option excluded_domain_ip has been\ndeprecated and will be removed in a future release. Deployments\nshould now migrate to the option excluded_domain_ips for\nequivalent functionality.\n\nDepends-On: https://review.openstack.org/#/c/604384/\nChange-Id: Ib9218e7825fef83e41bdebaba3a444935c8a38e1",
        "cmtr": "rajinir",
        "date": "2018-10-04 09:12:12-05:00",
        "files": ["dellsc.pp", "cinder-dellsc-excluded-domain_ips-1004544d96796e76.yaml"]
      },
      {
        "hash": "0f86972455a6e472205e4d1cfc1bbd2d484e1f51",
        "msg": "Configure the Metadata Agent only when enable_metadata_agent is set\n\nWe should only configure the Nuage Metadata Agent only\nwhen enable_metadata_agent is true. With this change\nwe seperate installation of nuage vrs with configuring\nmetadata agent.\n\nChange-Id: Ie6a5f57b3f0d4b00192b0760942d07ee59b32fbb",
        "cmtr": "sunnyve",
        "date": "2018-10-08 16:51:06-04:00",
        "files": ["nuage.pp"]
      },
      {
        "hash": "9cde9139c4f2a59e6fca765e87ffce42cf7da696",
        "msg": "Replace bootstrap_nodeid with SERVICE_short_bootstrap_node_name\n\nThis solves the problem that bootstrap_nodeid, which is set to the\nfirst node in each role via t-h-t, can match potentially more than\none node - e.g in the event that a service is deployed such that it\nspans more than one role.\n\nThe SERVICE_short_bootstrap_node_name is automatically generated\nbased on the composable service template service_name, and this\nconsiders all roles where the service is enabled, e.g it should\nonly evaluate true once regardles off the roles where the service\nis enabled.\n\nChange-Id: I48ec4549552910f3cb8db960b0ff10a6c61b4bb9\nPartial-Bug: #1792613",
        "cmtr": "Steven Hardy",
        "date": "2018-10-12 10:14:48+00:00",
        "files": ["aodh.pp", "api.pp", "api.pp", "backends.pp", "upgrade.pp", "cinder.pp", "api.pp", "congress.pp", "mongodb.pp", "mysql.pp", "redis.pp", "api.pp", "api.pp", "heat.pp", "api.pp", "api_cfn.pp", "engine.pp", "horizon.pp", "ironic.pp", "api.pp", "ironic_inspector.pp", "keystone.pp", "manila.pp", "api.pp", "mistral.pp", "api.pp", "engine.pp", "event_engine.pp", "executor.pp", "ovn_northd.pp", "ml2.pp", "nsx.pp", "nuage.pp", "opencontrail.pp", "plumgrid.pp", "server.pp", "nova.pp", "api.pp", "ec2api.pp", "metadata.pp", "placement.pp", "api.pp", "api.pp", "sahara.pp", "engine.pp", "proxy.pp", "tacker.pp", "api.pp", "zaqar.pp", "lbaas.pp", "remove_bootstrap_nodeid-c5109a575c538bda.yaml", "tripleo_profile_base_database_redis_spec.rb"]
      },
      {
        "hash": "7e3219ff2b2ec3fdd43f0dd26dc487b78ccbf3eb",
        "msg": "Fix ceph-nfs duplicate property\n\nIn change I78c16c9fb28211a7a8ec2187ae76b9a072b76ea2 we eliminated\nstartup races with ceph nfs, but we need to make sure we do\nnot create duplicate properies or puppet will fail.\n\nWhile we're at it we also point the bootstrapnode at\nceph_nfs_short_bootstrap_node_name instead of which is more correct.\nIt is functionally the same if ceph-nfs and manila-share run on the\nsame nodes, which is likely the case in most cases, but best\nmake it correct while we're at it.\n\nCloses-Bug: #1798020\n\nChange-Id: I5a41f95b2d91a25fe617afb9ada0b5201d2b7ef7",
        "cmtr": "Michele Baldessari",
        "date": "2018-10-16 16:10:00+02:00",
        "files": ["ceph_nfs.pp"]
      },
      {
        "hash": "c372f5e6a124352cb5868e52400ca2e2a815c906",
        "msg": "Remove restart_flag leftovers for bundles\n\nSince the introduction of I62870c055097569ceab2ff67cf0fe63122277c5b\n\"Introduce restart_bundle containers to detect config changes and\nrestart pacemaker resources\" we actually use paunch to detect any\nconfig changes (by verifying an md5 hash over the generated config\nfiles of the service).\n\nWith this new way of detecting changes there is no need to use the\nold 'tripleo::pacemaker::resource_restart_flag' method to restart\npcmk services.\n\nLet's just remove this unused code.\n\nChange-Id: Ib12dbe66575e3d54a8ec7d2c72c2b4619bc39b03",
        "cmtr": "Michele Baldessari",
        "date": "2018-10-18 05:46:21+00:00",
        "files": ["mysql_bundle.pp", "haproxy_bundle.pp", "rabbitmq_bundle.pp"]
      },
      {
        "hash": "ab13b5dc80669702080d2d9cb7360a47d7458fbf",
        "msg": "Add support for cinder backend availability zones\n\nAdd the ability to override the \"backend_availability_zone\" parameter\nin every cinder volume backend.\n\nImplements: blueprint split-controlplane-cinder-volume-az\nDepends-On: I11821a38d8ba5afc594b3d601cd1634207a6f093\nChange-Id: Ic407b747474b567858ad36beabc8a7d8c5022343",
        "cmtr": "Alan Bishop",
        "date": "2018-10-18 09:18:17-04:00",
        "files": ["dellemc_unity.pp", "dellemc_vmax_iscsi.pp", "dellemc_vnx.pp", "dellemc_xtremio_iscsi.pp", "dellps.pp", "dellsc.pp", "hpelefthand.pp", "iscsi.pp", "netapp.pp", "nfs.pp", "nvmeof.pp", "pure.pp", "rbd.pp", "scaleio.pp", "veritas_hyperscale.pp", "add-cinder-backend-az-parameters-f9ab30b42b4df37b.yaml", "tripleo_profile_base_cinder_volume_iscsi_spec.rb", "tripleo_profile_base_cinder_volume_nfs_spec.rb", "tripleo_profile_base_cinder_volume_nvmeof_spec.rb", "tripleo_profile_base_cinder_volume_rbd_spec.rb"]
      }]
    }
